<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>gagl</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <script type="module">
        import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

        window.supabase = createClient(
            "https://piafesfywtvpachbfoxr.supabase.co",
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpYWZlc2Z5d3R2cGFjaGJmb3hyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3ODQwMTgsImV4cCI6MjA2MDM2MDAxOH0.1aDNwRZXac48nD9HDicXvDYk4wfcY1MC487_qf3hF5c"
        );

    </script>

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: black;
            margin: 0;
            padding: 0;
            color: white;
            display: flex;
            /* justify-content: center; */
            align-items: center;
            flex-direction: column;
            height: 100vh;
            font-size: 14px;
            /* position: fixed; */
            /* í™”ë©´ê³ ì •ë°°ì¹˜ ìŠ¤í¬ë¡¤í•´ë„ ì•ˆì›€ì§ì„ */
            /* justify-content: space-between; */
            /* ì–‘ìª½ì •ë ¬ */
            font-weight: 500;
        }

        .ë°‘ì¤„ {
            border-bottom: 0.2px solid #2e2e2e;
            /* position: fixed; */
            /* top: 0; */
            width: 100%;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ê°€ë¡œì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .ì„¸ë¡œì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .ì–‘ìª½ì •ë ¬ {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
        }

        .ì‚¬ë°±í”½ì…€ {
            width: 400px;
        }

        .ë²„íŠ¼ {
            border-radius: 5px;
            padding: 5px;
        }

        .ë²„íŠ¼:hover {
            background-color: #333;
            cursor: pointer;
        }

        .ì»¤ì„œí˜¸ë²„:hover {
            cursor: pointer;
        }

        .ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ {
            margin-top: 15px;
            width: 400px;
            border: 0.2px solid #2e2e2e;
            border-radius: 10px;
            padding: 15px;
        }

        .ê¸°ë³¸í…Œë‘ë¦¬ {
            margin-top: 15px;
            width: 100%;
            box-sizing: border-box;
            border: 0.2px solid #2e2e2e;
            border-radius: 10px;
            padding: 15px;
        }

        .ì¥ë¹„-ì¼ë°˜ {
            border: 1px solid #ffffff;
        }

        .ì¥ë¹„-ë ˆì–´ {
            border: 1px solid #2665c9;
        }

        .ì¥ë¹„-ì‹ í™” {
            border: 1px solid #c59b20;
        }

        .ì¥ë¹„-ê³ ëŒ€ {
            border: 1px solid #c825cd;
        }

        .ì¥ë¹„-íƒœì´ˆ {
            border: 1px solid #cd2525;
        }

        .ì¥ë¹„-ê³µí—ˆ {
            border: 1px solid #2acd25;
        }

        .ì—ë„ˆì§€ë°” {
            background-color: #eab308;
            height: 5px;
            border-radius: 10px;
            width: 100%;
        }

        .ìœ ì €í…Œë‘ë¦¬ {
            border: 0.2px solid #2614c7;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */
        }

        .ëª¬ìŠ¤í„°í…Œë‘ë¦¬ {
            border: 0.2px solid #c71414;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */

        }

        .ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ {
            background-color: #121212;
            height: 85px;
            border-radius: 10px;
            width: 100px;
            padding: 15px;
        }

        .ë ˆë²¨ {
            color: #00c851;
        }

        .ì´ê²½í—˜ì¹˜ {
            color: #ffffff;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ê²½í—˜ì¹˜ {
            color: #7a7a7a;
            font-size: 10px;
            font-weight: lighter;
        }

        .ê³¨ë“œ {
            color: #b0b0b0;
        }

        .ì´ê³¨ë“œ {
            color: #f5c400;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ê³¨ë“œ {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .ìˆ™ë ¨ë„ {
            color: #b0b0b0;
        }

        .ì´ìˆ™ë ¨ë„ {
            color: #3b82f6;
            font-size: 16px;
            font-weight: bold;
        }

        .íšë“ìˆ™ë ¨ë„ {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .ì½˜ì†”ë¡œê·¸ì°½ {
            color: #ffffff;
            border-radius: 10px;
            position: fixed;
            left: 0;
            bottom: 0;
            font-weight: bold;
        }

        .ë¡œë”©ì»¨í…Œì´ë„ˆ {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: sans-serif;
            font-size: 16px;
        }

        .ë¡œë”©ìŠ¤í”¼ë„ˆ {
            width: 50px;
            height: 50px;
            border: 6px solid #ccc;
            border-top-color: #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* 
        #ì‚¬ëƒ¥ë¡œê·¸ë°•ìŠ¤ {
            max-height: 220px;
            overflow-y: hidden;
        } */

        #ì£½ìŒë©”ì‹œì§€ {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 400px;
            position: fixed;
            top: 33%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: #b0b0b0;
            padding: 15px;
            border: 3px solid #2e2e2e;
            border-radius: 12px;
            /* font-size: 20px; */
            /* font-weight: bold; */
            z-index: 9999;
            box-shadow: 0 0 20px #2e2e2e;
            animation: fadeOut 2s ease-in-out forwards;
            user-select: none;
            pointer-events: none;
        }

        /* ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” í˜ì´ë“œ ì•„ì›ƒ */
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }

            70% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                display: none;
            }
        }



        #ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸ {
            font-size: 16px;
            margin-top: 10px;
        }

        #íšë“ë¡œê·¸ {
            color: #00c851;
        }

        #ë ˆë²¨ì—…í‘œì‹œ {
            color: #00c851;
        }

        #ì¸µì¡°ì ˆ {
            background: linear-gradient(135deg, #330000, #660000, #990000);
            border: 2px solid #ff3300;
            box-shadow: 0 0 12px #ff0000, 0 0 24px #440000 inset;
            animation: ë§ˆê³„ë¶ˆê¸¸ 4s ease-in-out infinite;
            gap: 30px;
            position: relative;
        }

        @keyframes ë§ˆê³„ë¶ˆê¸¸ {

            0%,
            100% {
                filter: brightness(1);
            }

            50% {
                filter: brightness(1.3);
            }
        }

        .crown-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }

        .ê¸ˆ {
            stroke: gold;
        }

        .ì€ {
            stroke: silver;
        }

        .ë™ {
            stroke: #cd7f32;
        }

        #ë³´ìœ ìˆ™ë ¨ë„:hover {
            cursor: pointer;
            text-decoration: underline;
            color: #3b82f6;
        }

        .target-icon {
            width: 16px;
            height: 16px;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            margin-right: 4px;
        }

        .ë‚´ì•„ì´ë””ê°•ì¡° {
            background-color: #505050;
            /* font-weight: bold;
            border-radius: 6px; */
        }

        .ìƒ‰ìƒì‹¤í—˜ {
            background-color: #8b5cf6;
            background-color: #3bf0f6;
            background-color: #5cf669;
            background-color: #f6ec5c;
        }

        #ì „íˆ¬ë²„íŠ¼ë°•ìŠ¤ {
            position: relative;
            /* âœ… ì¶”ê°€ */
        }

        #ì „íˆ¬í™”ë©´ {
            position: relative;
        }

        .ìë™ì‚¬ëƒ¥ {
            border-radius: 5px;
            padding: 5px;
            background-color: #fafafa;
            color: black;
        }

        @keyframes ì•…ë§ˆê°•ë¦¼íš¨ê³¼ {
            0% {
                box-shadow: 0 0 10px 5px red, inset 0 0 10px red;
                filter: brightness(1.5) blur(0px);
            }

            50% {
                box-shadow: 0 0 20px 10px darkred, inset 0 0 20px darkred;
                filter: brightness(2) blur(1px);
                transform: scale(1.02) rotate(1deg);
            }

            100% {
                box-shadow: 0 0 10px 5px red, inset 0 0 10px red;
                filter: brightness(1.2) blur(0px);
                transform: scale(1) rotate(0deg);
            }
        }

        * {
            user-select: none;
        }

        @keyframes ê¹œë¹¡ì„ {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* cssì¶”ê°€ */
    </style>
</head>

<body>
    <div style="position: fixed; top: 6px; left: 10px; display: flex; align-items: center; z-index: 9999;">
        <div id="ë²„ì „í‘œì‹œ" style="color: #bebebe; font-size: 20px; opacity: 0.8; cursor: pointer;">
        </div>
        <span id="ë©”ë‰´ì–¼íŒíŠ¸" style="margin-left: 8px; color: #bebebe; font-size: 14px; animation: ê¹œë¹¡ì„ 1.2s infinite;">
            &lt;&lt; í´ë¦­ ì‹œ ë©”ë‰´ì–¼ ì˜¤í”ˆ
        </span>
    </div>

    <div class="ë°‘ì¤„" id="ìƒë‹¨ë°”">
        <div class="ì–‘ìª½ì •ë ¬ ì‚¬ë°±í”½ì…€">
            <div class="ì»¤ì„œí˜¸ë²„" id="íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ">
                gagl
            </div>
            <div id="ì „íˆ¬ìŠ¤í‚¬ì„¤ì •ë²„íŠ¼" style="display: none;">
                <div class="ê°€ë¡œì •ë ¬">
                    <div class="ë²„íŠ¼" id="ì „íˆ¬">
                        ì „íˆ¬
                    </div>
                    <div class="ë²„íŠ¼" id="ì¥ë¹„">
                        ì¥ë¹„
                    </div>
                    <div class="ë²„íŠ¼" id="ìŠ¤í‚¬">
                        ìŠ¤í‚¬
                    </div>
                    <div class="ë²„íŠ¼" id="ì „ë‹¹">
                        ì „ë‹¹
                    </div>
                    <div class="ë²„íŠ¼" id="íƒˆí‡´" onclick="íšŒì›íƒˆí‡´()">
                        íƒˆí‡´
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬" id="ì—ë„ˆì§€ë°•ìŠ¤" style="display: none;">
        <div class="ì–‘ìª½ì •ë ¬">
            <div style="color: #eab308;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-zap-icon lucide-zap">
                    <path
                        d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z" />
                </svg>
            </div>
            <div>
                â™¾ï¸
            </div>
        </div>
        <div class="ì—ë„ˆì§€ë°”">

        </div>
    </div>



    <div id="ì¸ì¦í™”ë©´" class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬">
        <input id="ì´ë©”ì¼ì…ë ¥" type="text" placeholder="ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥" autocomplete="off" />
        <input id="ë¹„ë²ˆì…ë ¥" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" autocomplete="off" />
        <button onclick="íšŒì›ê°€ì…()">íšŒì›ê°€ì…</button>
        <button onclick="ë¡œê·¸ì¸()">ë¡œê·¸ì¸</button>
    </div>



    <div id="ì „íˆ¬í™”ë©´" style="display: none;">
        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ê°€ë¡œì •ë ¬" id="ì¸µì¡°ì ˆ">
            <div id="ì•„ë˜ì¸µìœ¼ë¡œ">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-big-down-dash-icon lucide-arrow-big-down-dash">
                    <path d="M15 5H9" />
                    <path d="M15 9v3h4l-7 7-7-7h4V9z" />
                </svg>
            </div>
            <div id="í˜„ì¬ì¸µ">
                1ì¸µ

            </div>
            <div id="ìœ„ì¸µìœ¼ë¡œ">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-big-up-dash-icon lucide-arrow-big-up-dash">
                    <path d="M9 19h6" />
                    <path d="M9 15v-3H5l7-7 7 7h-4v3H9z" />
                </svg>
            </div>

        </div>

        <div id="ì‚¬ëƒ¥ê²°ê³¼">
            <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬" id="ë“±ê¸‰ì™¸í…Œë‘ë¦¬">
                <div class="ê°€ë¡œì •ë ¬">
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬">
                        <div class="ë ˆë²¨" id="ë ˆë²¨">
                            ë ˆë²¨ 129
                        </div>
                        <div class="ì´ê²½í—˜ì¹˜" id="ì´ê²½í—˜ì¹˜">
                            12,932
                        </div>
                        <div class="íšë“ê²½í—˜ì¹˜" id="íšë“ê²½í—˜ì¹˜">
                            45
                        </div>
                    </div>
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬" id="ê³¨ë“œí…Œë‘ë¦¬ì•ˆí‘œì‹œ">
                        <div class="ê³¨ë“œ" id="ê³¨ë“œ">
                            ê³¨ë“œ
                        </div>
                        <div class="ì´ê³¨ë“œ" id="ì´ê³¨ë“œ">
                            999,999
                        </div>
                        <div class="íšë“ê³¨ë“œ" id="íšë“ê³¨ë“œ">
                            999
                        </div>

                    </div>
                    <div class="ê²½í—˜ì¹˜ê³¨ë“œìˆ™ë ¨ë„ ì„¸ë¡œì •ë ¬" id="ìˆ™ë ¨ë„í…Œë‘ë¦¬ì•ˆí‘œì‹œ">
                        <div class="ìˆ™ë ¨ë„" id="ìˆ™ë ¨ë„">
                            ìˆ™ë ¨ë„
                        </div>
                        <div class="ì´ìˆ™ë ¨ë„" id="ì´ìˆ™ë ¨ë„">
                            999,999
                        </div>
                        <div class="íšë“ìˆ™ë ¨ë„" id="íšë“ìˆ™ë ¨ë„">
                            999
                        </div>

                    </div>
                </div>

                <div class="ì„¸ë¡œì •ë ¬" id="ì „íˆ¬ë²„íŠ¼ë°•ìŠ¤">
                    <div>
                        <div class="ë²„íŠ¼" id="ê³µê²©ë²„íŠ¼">âš”ï¸ ê³µê²©í•˜ê¸°</div>
                    </div>
                </div>


                <div class="ê°€ë¡œì •ë ¬" id="ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸">
                </div>
                <div class="ê°€ë¡œì •ë ¬" id="íšë“ë¡œê·¸">
                </div>

                <div class="ê°€ë¡œì •ë ¬" id="ë ˆë²¨ì—…í‘œì‹œ">

                </div>
            </div>
        </div>




        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ìœ ì €í…Œë‘ë¦¬ ì–‘ìª½ì •ë ¬" id="ìœ ì €í…Œë‘ë¦¬ì•ˆí‘œì‹œ">
            <div id="ìœ ì €ì•„ì´ë””">
                ì˜ì
            </div>
            <div class="ì„¸ë¡œì •ë ¬">
                <div id="ìœ ì €ê³µê²©ë ¥">
                    ê³µê²©ë ¥ 100
                </div>
                <div id="ìœ ì €ì²´ë ¥">
                    ì²´ë ¥ 100
                </div>
            </div>

        </div>
        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ëª¬ìŠ¤í„°í…Œë‘ë¦¬ ì–‘ìª½ì •ë ¬" id="ëª¬ìŠ¤í„°í…Œë‘ë¦¬ì•ˆí‘œì‹œ">
            <div id="ì•…ë§ˆì´ë¦„">
                ëª¬ìŠ¤í„°
            </div>
            <div class="ì„¸ë¡œì •ë ¬">
                <div id="ì•…ë§ˆì²´ë ¥">
                    ì²´ë ¥ 100
                </div>
                <div id="ì•…ë§ˆë°©ì–´ë ¥">
                    ë°©ì–´ë ¥ 10
                </div>
            </div>
        </div>


    </div>

    <div id="ì „ë‹¹í™”ë©´" style="display: none;">
        <div id="ì „ë‹¹ì»¨í…Œì´ë„ˆ" class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬">
        </div>
    </div>


    <div id="ë¸”ë¡œì»¤" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 9999;
  display: none;
  cursor: wait;
"></div>

    <div id="ì¥ë¹„í™”ë©´" style="display: none;">
        <div class="ë°‘ì¤„ ì–‘ìª½ì •ë ¬">
            <div>ê°•ë¦¼ì¹´ìš´íŠ¸</div>
            <div class="ê°€ë¡œì •ë ¬">
                <div id="ì¥ë¹„ëª©ë¡"></div>
                <!-- <div class="ë²„íŠ¼" onclick="ì¥ë¹„ìë™í•©ì„±()">ìë™í•©ì„±</div> -->
            </div>
        </div>

        <div id="ì¥ë¹„ê³¨ë“œí‘œì‹œ" style="color: #f5c400;">0 Gold</div>

        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬ ì„¸ë¡œì •ë ¬" id="ì¥ë¹„ì»¨í…Œì´ë„ˆ">
        </div>
    </div>

    <div id="ìŠ¤í‚¬í™”ë©´" style="display: none;">
        <div class="ë°‘ì¤„" id="ë³´ìœ ìˆ™ë ¨ë„">

        </div>

        <div class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬" id="ìŠ¤í‚¬ì»¨í…Œì´ë„ˆ">
        </div>
    </div>

    <div id="ë¯¸ë‹ˆì¥ë¹„ì°½" class="ì‚¬ë°±í”½ì…€í…Œë‘ë¦¬" style="
    position: fixed;
    top: 57px;
    left: 300px;
    z-index: 9999;
    background: black;
    color: white;
    display: none;
    max-height: 600px;
    overflow-y: auto;
  "></div>

    <div id="ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 50%;
    height: 100vh;
    z-index: 9998;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    padding: 10px;
    box-sizing: border-box;
"></div>

    <!-- ê°ì²´ì¶”ê°€ -->

    <script>
        // ìµœì´ˆ ì ‘ì† ì‹œ ê¸°ê¸°IDë¥¼ localStorageì— ì €ì¥
        let ê¸°ê¸°ID = localStorage.getItem("ê¸°ê¸°ID");
        // git add . && git commit -m "fix: gagl.html serving enabled" && git push origin main
        // ì—…ë°ì´íŠ¸
        document.getElementById("ë²„ì „í‘œì‹œ").innerText = "v22";

        if (!ê¸°ê¸°ID) {
            ê¸°ê¸°ID = crypto.randomUUID();  // ë¸Œë¼ìš°ì € ë‚´ì¥ UUID ìƒì„±ê¸°
            localStorage.setItem("ê¸°ê¸°ID", ê¸°ê¸°ID);
        }

        function í™”ë©´ì ê¸ˆ() {
            document.body.style.pointerEvents = "none";
            document.body.style.opacity = "0.5";
            const ë²„íŠ¼ë“¤ = document.querySelectorAll("button");
            ë²„íŠ¼ë“¤.forEach(btn => btn.disabled = true);
        }

        function í™”ë©´í•´ì œ() {
            document.body.style.pointerEvents = "auto";
            document.body.style.opacity = "1";
            const ë²„íŠ¼ë“¤ = document.querySelectorAll("button");
            ë²„íŠ¼ë“¤.forEach(btn => btn.disabled = false);
        }

        function ë©”ì‹œì§€í‘œì‹œ(ëŒ€ìƒ, ì•„ì´ì½˜HTML, í…ìŠ¤íŠ¸, ê¸€ììƒ‰) {
            // const ëŒ€ìƒ = document.getElementById("ì¸µì¡°ì ˆ");
            const rect = ëŒ€ìƒ.getBoundingClientRect();

            const el = document.createElement("div");
            el.innerHTML = `
        ${ì•„ì´ì½˜HTML}<span>${í…ìŠ¤íŠ¸}</span>
    `;
            el.style.position = "absolute";
            el.style.left = `${rect.left + Math.random() * rect.width}px`;
            el.style.top = `${rect.top + Math.random() * rect.height}px`;
            el.style.color = ê¸€ììƒ‰;
            // el.style.background = ;
            el.style.padding = "8px 12px";
            el.style.borderRadius = "8px";
            // el.style.background = "rgba(0,0,0,0.7)";
            el.style.fontWeight = "bold";
            el.style.zIndex = 9999;
            el.style.pointerEvents = "none";
            el.style.animation = "fadeOut 2s ease-out forwards";
            el.style.whiteSpace = "nowrap";

            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2000);
        }

        async function íšŒì›ê°€ì…() {
            í™”ë©´ì ê¸ˆ();

            const ì•„ì´ë”” = document.getElementById("ì´ë©”ì¼ì…ë ¥").value.trim();
            console.log("ì…ë ¥ëœ ì•„ì´ë””:", ì•„ì´ë””);
            const ë¹„ë²ˆ = document.getElementById("ë¹„ë²ˆì…ë ¥").value.trim();
            const ëœë¤ = Date.now();
            const ì´ë©”ì¼í˜•ì‹ = `${ì•„ì´ë””}@gagl.com`;
            const ê¸°ê¸°ID = localStorage.getItem("ê¸°ê¸°ID") || crypto.randomUUID();

            localStorage.setItem("ê¸°ê¸°ID", ê¸°ê¸°ID);

            const ì•„ì´ë””íŒ¨í„´ = /^[a-zA-Z0-9_]{3,12}$/;
            if (!ì•„ì´ë””íŒ¨í„´.test(ì•„ì´ë””)) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì•„ì´ë””ëŠ” ì˜ë¬¸/ìˆ«ì/ë°‘ì¤„ í¬í•¨ 3~12ìë¡œ ì…ë ¥í•˜ì„¸ìš”", "#ef4444");
                í™”ë©´í•´ì œ();
                return;
            }

            if (ë¹„ë²ˆ.length < 6) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”", "#ef4444");
                í™”ë©´í•´ì œ();
                return;
            }

            try {
                const { data: ì¤‘ë³µì²´í¬ } = await supabase
                    .from("users")
                    .select("ê¸°ê¸°ID")
                    .eq("ê¸°ê¸°ID", ê¸°ê¸°ID);

                if ((ì¤‘ë³µì²´í¬ ?? []).length > 0) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ì´ë¯¸ ì´ ê¸°ê¸°ì—ì„œ ê°€ì…í•œ ê³„ì •ì´ ìˆì–´ìš”!", "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const { data: ê°€ì…ë°ì´í„°, error } = await supabase.auth.signUp({
                    email: ì´ë©”ì¼í˜•ì‹,
                    password: ë¹„ë²ˆ,
                });

                if (error) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "íšŒì›ê°€ì… ì‹¤íŒ¨: " + error.message, "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const { error: ë¡œê·¸ì¸ì˜¤ë¥˜ } = await supabase.auth.signInWithPassword({
                    email: ì´ë©”ì¼í˜•ì‹,
                    password: ë¹„ë²ˆ,
                });

                if (ë¡œê·¸ì¸ì˜¤ë¥˜) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ë¡œê·¸ì¸ ì‹¤íŒ¨: " + ë¡œê·¸ì¸ì˜¤ë¥˜.message, "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const {
                    data: { user }
                } = await supabase.auth.getUser();

                if (!user || !user.id) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìœ ì € ì¸ì¦ ì •ë³´ ì—†ìŒ", "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const { error: ì‚½ì…ì—ëŸ¬ } = await supabase.from("users").insert({
                    ìœ ì €UID: user.id,
                    ë¡œê·¸ì¸ì´ë©”ì¼: ì´ë©”ì¼í˜•ì‹,
                    ìœ ì €ì•„ì´ë””: ì•„ì´ë””,
                    ê¸°ê¸°ID: ê¸°ê¸°ID,
                    ë ˆë²¨: 1,
                    ê³µê²©ë ¥: 30,
                    ê²½í—˜ì¹˜: 0,
                    ê³¨ë“œ: 0,
                    ìµœëŒ€ì²´ë ¥: 10,
                    ë‚¨ì€ì²´ë ¥: 10,
                    ìˆ™ë ¨ë„: 0,
                    í˜„ì¬ì¸µ: 1,
                    í˜„ì¬ì•…ë§ˆë²ˆí˜¸: Math.floor(Math.random() * 72) + 1,
                    ìŠ¤í‚¬: {},
                    ì¡°ìš°ê¸°ë¡: { ì¼ë°˜: 0, ë ˆì–´: 0, ì‹ í™”: 0, ê³ ëŒ€: 0, íƒœì´ˆ: 0, ê³µí—ˆ: 0 },
                    í•©ì„±ê¸°ë¡: {},
                    ì¥ë¹„ëª©ë¡: [],
                    í‚¬ì¹´ìš´íŠ¸: 0,
                    ê°•ë¦¼ëª¬ìŠ¤í„°: {},   // âœ… null â†’ {}ë¡œ ìˆ˜ì •
                    ë²„ì „ì—…: 0
                });

                if (ì‚½ì…ì—ëŸ¬) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìœ ì € ì •ë³´ ì €ì¥ ì‹¤íŒ¨: " + ì‚½ì…ì—ëŸ¬.message, "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                // âœ… ì„œë²„ ë°˜ì˜ ëŒ€ê¸°
                await new Promise(resolve => setTimeout(resolve, 100));

                // âœ… ìœ ì € ì •ë³´ ì¡°íšŒ ì¬ì‹œë„
                let ìœ ì €ì •ë³´ = null;
                for (let ì‹œë„ = 0; ì‹œë„ < 10; ì‹œë„++) {
                    const { data } = await supabase
                        .from("users")
                        .select("*")
                        .eq("ìœ ì €UID", user.id)
                        .single();

                    if (data && data.ìœ ì €ì•„ì´ë””) {
                        ìœ ì €ì •ë³´ = data;
                        break;
                    }
                    await new Promise(resolve => setTimeout(resolve, 100));
                }

                if (!ìœ ì €ì •ë³´) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìœ ì € ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤", "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                ìœ ì €ë°ì´í„° = ìœ ì €ì •ë³´;
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âœ…", "íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ì„±ê³µ!", "#00c851");
                ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);
                supabase.auth.getUser().then(console.log)

            } catch (e) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì˜¤ë¥˜ ë°œìƒ: " + e.message, "#ef4444");
            } finally {
                í™”ë©´í•´ì œ();
            }
        }

        async function ë¡œê·¸ì¸() {
            í™”ë©´ì ê¸ˆ();

            const ì•„ì´ë”” = document.getElementById("ì´ë©”ì¼ì…ë ¥").value.trim();
            const ë¹„ë²ˆ = document.getElementById("ë¹„ë²ˆì…ë ¥").value.trim();
            const ì´ë©”ì¼í˜•ì‹ = `${ì•„ì´ë””}@gagl.com`;

            if (!ì•„ì´ë”” || !ë¹„ë²ˆ) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”", "#ef4444");
                í™”ë©´í•´ì œ();
                return;
            }

            try {
                const { error: ë¡œê·¸ì¸ì˜¤ë¥˜ } = await supabase.auth.signInWithPassword({
                    email: ì´ë©”ì¼í˜•ì‹,
                    password: ë¹„ë²ˆ
                });

                if (ë¡œê·¸ì¸ì˜¤ë¥˜) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ë¡œê·¸ì¸ ì‹¤íŒ¨: " + ë¡œê·¸ì¸ì˜¤ë¥˜.message, "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const { data: { user } } = await supabase.auth.getUser();
                if (!user || !user.id) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìœ ì € ì¸ì¦ ì •ë³´ ì—†ìŒ", "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                const { data: ìœ ì €ì •ë³´, error } = await supabase
                    .from("users")
                    .select("*")
                    .eq("ìœ ì €UID", user.id)
                    .single();

                if (error || !ìœ ì €ì •ë³´) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ìœ ì € ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤", "#ef4444");
                    í™”ë©´í•´ì œ();
                    return;
                }

                ìœ ì €ë°ì´í„° = {
                    ...ìœ ì €ì •ë³´,
                    ìŠ¤í‚¬: ìœ ì €ì •ë³´.ìŠ¤í‚¬ || {},
                    ì¡°ìš°ê¸°ë¡: ìœ ì €ì •ë³´.ì¡°ìš°ê¸°ë¡ || { ì¼ë°˜: 0, ë ˆì–´: 0, ì‹ í™”: 0, ê³ ëŒ€: 0, íƒœì´ˆ: 0, ê³µí—ˆ: 0 },
                    í•©ì„±ê¸°ë¡: ìœ ì €ì •ë³´.í•©ì„±ê¸°ë¡ || {},
                    ì¥ë¹„ëª©ë¡: ìœ ì €ì •ë³´.ì¥ë¹„ëª©ë¡ || [],
                    ëª‡ë§ˆë¦¬ì£½ì˜€ë‚˜: ìœ ì €ì •ë³´.í‚¬ì¹´ìš´íŠ¸ || 0,
                    ê°•ë¦¼ëª¬ìŠ¤í„°: ìœ ì €ì •ë³´.ê°•ë¦¼ëª¬ìŠ¤í„° || null
                };

                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âœ…", "ë¡œê·¸ì¸ ì„±ê³µ!", "#00c851");
                ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);

            } catch (e) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì˜¤ë¥˜ ë°œìƒ: " + e.message, "#ef4444");
            } finally {
                í™”ë©´í•´ì œ();
            }
        }

        async function íšŒì›íƒˆí‡´() {
            í™”ë©´ì ê¸ˆ();

            try {
                const {
                    data: { user }
                } = await supabase.auth.getUser();

                if (!user) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ë¡œê·¸ì¸ ì •ë³´ ì—†ìŒ", "#ef4444");
                    return;
                }

                // âœ… ìœ ì € í…Œì´ë¸” ì‚­ì œ (ì»¬ëŸ¼ëª… ì£¼ì˜)
                await supabase.from("users").delete().eq("ìœ ì €UID", user.id);

                await fetch("/delete-user", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ ìœ ì €UID: user.id })
                });

                // âœ… access tokenìœ¼ë¡œ ì¸ì¦ ì‚­ì œ
                const ì„¸ì…˜ = await supabase.auth.getSession();
                const accessToken = ì„¸ì…˜.data.session.access_token;

                const ì‘ë‹µ = await fetch("https://piafesfywtvpachbfoxr.supabase.co/auth/v1/user", {
                    method: "DELETE",
                    headers: {
                        "Content-Type": "application/json",
                        Authorization: `Bearer ${accessToken}`
                    }
                });

                if (!ì‘ë‹µ.ok) {
                    console.warn("auth ì‚­ì œ ì‹¤íŒ¨", await ì‘ë‹µ.text());
                }

                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âœ…", "íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.", "#00c851");

                await supabase.auth.signOut();
                localStorage.removeItem("ê¸°ê¸°ID");
                location.reload();

            } catch (e) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "íƒˆí‡´ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: " + e.message, "#ef4444");
            } finally {
                í™”ë©´í•´ì œ();
            }
        }

        function ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €) {
            // UI ì „í™˜
            document.getElementById("ì¸ì¦í™”ë©´").style.display = "none";
            document.getElementById("ì „íˆ¬í™”ë©´").style.display = "block";
            document.getElementById("ì „íˆ¬ìŠ¤í‚¬ì„¤ì •ë²„íŠ¼").style.display = "block";
            document.getElementById("ì—ë„ˆì§€ë°•ìŠ¤").style.display = "block";
            document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ").innerText = ìœ ì €.ìœ ì €ì•„ì´ë”” || "ì•Œ ìˆ˜ ì—†ìŒ";

            // ìœ ì € ì •ë³´ í‘œì‹œ
            document.getElementById("ìœ ì €ì•„ì´ë””").innerText = ìœ ì €.ìœ ì €ì•„ì´ë”” || "ì•Œ ìˆ˜ ì—†ìŒ";
            document.getElementById("ìœ ì €ê³µê²©ë ¥").innerText = `ê³µê²©ë ¥ ${ìœ ì €.ê³µê²©ë ¥ || 10}`;
            document.getElementById("ìœ ì €ì²´ë ¥").innerText = `ì²´ë ¥ ${ìœ ì €.ë‚¨ì€ì²´ë ¥ || 10}`;

            document.getElementById("ëª¬ìŠ¤í„°í…Œë‘ë¦¬ì•ˆí‘œì‹œ").style.display = "none";

            document.getElementById("ë ˆë²¨").innerText = `ë ˆë²¨ ${ìœ ì €.ë ˆë²¨ || 1}`;
            document.getElementById("ì´ê²½í—˜ì¹˜").innerText = ìœ ì €.ê²½í—˜ì¹˜?.toLocaleString() || "0";
            document.getElementById("ì´ê³¨ë“œ").innerText = (ìœ ì €.ê³¨ë“œ || 0).toLocaleString();
            document.getElementById("ì´ìˆ™ë ¨ë„").innerText = (ìœ ì €.ìˆ™ë ¨ë„ || 0).toLocaleString();

            document.getElementById("íšë“ê²½í—˜ì¹˜").innerText = "0";
            document.getElementById("íšë“ê³¨ë“œ").innerText = "0";
            document.getElementById("íšë“ìˆ™ë ¨ë„").innerText = "0";

            // ê¸°ë³¸ê°’ ì„¤ì • (ì—†ì„ ìˆ˜ë„ ìˆìŒ)
            if (!ìœ ì €.í˜„ì¬ì¸µ) ìœ ì €.í˜„ì¬ì¸µ = 1;

            document.getElementById("í˜„ì¬ì¸µ").innerText = `${ìœ ì €.í˜„ì¬ì¸µ}ì¸µ`;
        }

        document.getElementById("ê³µê²©ë²„íŠ¼").addEventListener("click", async () => {
            if (!ìœ ì €ë°ì´í„°) return;

            í™”ë©´ì ê¸ˆ();

            try {
                const ì‘ë‹µ = await fetch("/attack", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ ìœ ì €ë°ì´í„° })
                });

                const ê²°ê³¼ = await ì‘ë‹µ.json();

                if (ê²°ê³¼.ê²°ê³¼ === "íŒ¨ë°°") {
                    // ë©”ì‹œì§€í‘œì‹œ(ì „íˆ¬í™”ë©´, "ğŸ’€", "ì „íˆ¬ì— íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤", "#ef4444");
                    const ëª¬ìŠ¤í„° = ê²°ê³¼.ëª¬ìŠ¤í„°;
                    ìœ ì €ë°ì´í„° = ê²°ê³¼.ìœ ì €ë°ì´í„°;

                    document.getElementById("ëª¬ìŠ¤í„°í…Œë‘ë¦¬ì•ˆí‘œì‹œ").style.display = "block";
                    document.getElementById("ì•…ë§ˆì´ë¦„").innerText = ëª¬ìŠ¤í„°.ì´ë¦„;
                    document.getElementById("ì•…ë§ˆì²´ë ¥").innerText = `ì²´ë ¥ ${ëª¬ìŠ¤í„°.ì²´ë ¥}`;
                    document.getElementById("ì•…ë§ˆë°©ì–´ë ¥").innerText = `ë°©ì–´ë ¥ ${ëª¬ìŠ¤í„°.ë°©ì–´ë ¥}`;

                    const í…Œë‘ë¦¬ìƒ‰ìƒ = {
                        "ì¼ë°˜": "#2e2e2e",
                        "ë ˆì–´": "#2665c9",
                        "ì‹ í™”": "#c59b20",
                        "ê³ ëŒ€": "#c825cd",
                        "íƒœì´ˆ": "#cd2525",
                        "ê³µí—ˆ": "#2acd25"
                    };
                    document.getElementById("ë“±ê¸‰ì™¸í…Œë‘ë¦¬").style.border = `0.2px solid ${í…Œë‘ë¦¬ìƒ‰ìƒ[ëª¬ìŠ¤í„°.íƒ€ì…] || "#2e2e2e"}`;

                    document.getElementById("íšë“ê²½í—˜ì¹˜").innerText = "0";
                    document.getElementById("íšë“ê³¨ë“œ").innerText = "0";
                    document.getElementById("íšë“ìˆ™ë ¨ë„").innerText = "0";
                    document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = "";

                    document.getElementById("ìœ ì €ì²´ë ¥").innerText = `ì²´ë ¥ ${ìœ ì €ë°ì´í„°.ë‚¨ì€ì²´ë ¥}`;
                    document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").innerText = "íŒ¨ë°°";
                    document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").style.color = "#ef4444";
                } else {
                    const { ìœ ì €ë°ì´í„°: ìƒˆìœ ì €, ëª¬ìŠ¤í„°, ë³´ìƒ, ë ˆë²¨ì—…, íšŒë³µ } = ê²°ê³¼;
                    ìœ ì €ë°ì´í„° = ìƒˆìœ ì €;

                    // ëª¬ìŠ¤í„° í‘œì‹œ
                    document.getElementById("ëª¬ìŠ¤í„°í…Œë‘ë¦¬ì•ˆí‘œì‹œ").style.display = "block";
                    document.getElementById("ì•…ë§ˆì´ë¦„").innerText = ëª¬ìŠ¤í„°.ì´ë¦„;
                    document.getElementById("ì•…ë§ˆì²´ë ¥").innerText = `ì²´ë ¥ ${ëª¬ìŠ¤í„°.ì²´ë ¥}`;
                    document.getElementById("ì•…ë§ˆë°©ì–´ë ¥").innerText = `ë°©ì–´ë ¥ ${ëª¬ìŠ¤í„°.ë°©ì–´ë ¥}`;

                    const í…Œë‘ë¦¬ìƒ‰ìƒ = {
                        "ì¼ë°˜": "#2e2e2e",
                        "ë ˆì–´": "#2665c9",
                        "ì‹ í™”": "#c59b20",
                        "ê³ ëŒ€": "#c825cd",
                        "íƒœì´ˆ": "#cd2525",
                        "ê³µí—ˆ": "#2acd25"
                    };
                    document.getElementById("ë“±ê¸‰ì™¸í…Œë‘ë¦¬").style.border = `0.2px solid ${í…Œë‘ë¦¬ìƒ‰ìƒ[ëª¬ìŠ¤í„°.íƒ€ì…] || "#2e2e2e"}`;


                    // ë³´ìƒ í‘œì‹œ
                    document.getElementById("ì´ê²½í—˜ì¹˜").innerText = ìƒˆìœ ì €.ê²½í—˜ì¹˜.toLocaleString();
                    document.getElementById("ì´ê³¨ë“œ").innerText = ìƒˆìœ ì €.ê³¨ë“œ.toLocaleString();
                    document.getElementById("ì´ìˆ™ë ¨ë„").innerText = ìƒˆìœ ì €.ìˆ™ë ¨ë„.toLocaleString();
                    document.getElementById("íšë“ê²½í—˜ì¹˜").innerText = `+${ë³´ìƒ.ê²½í—˜ì¹˜}`;
                    document.getElementById("íšë“ê³¨ë“œ").innerText = `+${ë³´ìƒ.ê³¨ë“œ}`;
                    document.getElementById("íšë“ìˆ™ë ¨ë„").innerText = `+${ë³´ìƒ.ìˆ™ë ¨ë„}`;
                    document.getElementById("ë ˆë²¨").innerText = `ë ˆë²¨ ${ìƒˆìœ ì €.ë ˆë²¨}`;
                    document.getElementById("ìœ ì €ê³µê²©ë ¥").innerText = `ê³µê²©ë ¥ ${ìƒˆìœ ì €.ê³µê²©ë ¥}`;
                    document.getElementById("ìœ ì €ì²´ë ¥").innerText = `ì²´ë ¥ ${ìƒˆìœ ì €.ë‚¨ì€ì²´ë ¥}`;

                    if (ë ˆë²¨ì—….ì¦ê°€í•œë ˆë²¨ > 0) {
                        document.getElementById("ë ˆë²¨ì—…í‘œì‹œ").innerText = `ë ˆë²¨ì—…!`;
                    }

                    document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").innerText = "ìŠ¹ë¦¬";
                    document.getElementById("ìŠ¹ë¦¬íŒ¨ë°°ë¡œê·¸").style.color = "#00c851";
                }
            } catch (e) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì „íˆ¬ ì¤‘ ì˜¤ë¥˜: " + e.message, "#ef4444");
            } finally {
                í™”ë©´í•´ì œ();
            }
        });

        document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ").addEventListener("click", () => {
            if (!ìœ ì €ë°ì´í„° || !ìœ ì €ë°ì´í„°.ìœ ì €UID) return;

            const ì˜ì—­ = document.getElementById("íƒ€ì´í‹€ì„ì•„ì´ë””ë¡œ");
            const ê¸°ì¡´ì•„ì´ë”” = ìœ ì €ë°ì´í„°.ìœ ì €ì•„ì´ë””;

            ì˜ì—­.innerHTML = `
        <input type="text" id="ì•„ì´ë””ë³€ê²½ì…ë ¥" placeholder="ìƒˆ ì•„ì´ë”” ì…ë ¥"
               maxlength="20" autocomplete="off"
               style="background:white; color:black; border:none; border-bottom:1px solid gray;
                      outline:none; width:100px; font-weight:bold;">
    `;

            const ì…ë ¥ = document.getElementById("ì•„ì´ë””ë³€ê²½ì…ë ¥");
            ì…ë ¥.focus();

            // ì™¸ë¶€ í´ë¦­ ì‹œ ì›ë³µ
            const ì™¸ë¶€í´ë¦­ì²˜ë¦¬ = (e) => {
                if (e.target !== ì…ë ¥) {
                    ì˜ì—­.innerText = ê¸°ì¡´ì•„ì´ë””;
                    document.removeEventListener("click", ì™¸ë¶€í´ë¦­ì²˜ë¦¬);
                }
            };
            setTimeout(() => {
                document.addEventListener("click", ì™¸ë¶€í´ë¦­ì²˜ë¦¬);
            }, 0);

            ì…ë ¥.addEventListener("keydown", async (e) => {
                if (e.key !== "Enter") return;

                const ìƒˆì•„ì´ë”” = ì…ë ¥.value.trim();
                if (!ìƒˆì•„ì´ë””) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", "#ef4444");
                    return;
                }

                í™”ë©´ì ê¸ˆ();

                try {
                    const { data: ì¤‘ë³µ } = await supabase
                        .from("users")
                        .select("ìœ ì €UID")
                        .eq("ìœ ì €ì•„ì´ë””", ìƒˆì•„ì´ë””)
                        .neq("ìœ ì €UID", ìœ ì €ë°ì´í„°.ìœ ì €UID);

                    if ((ì¤‘ë³µ ?? []).length > 0) {
                        ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤", "#ef4444");
                        ì…ë ¥.value = "";
                        ì…ë ¥.focus();
                        return;
                    }

                    const { error } = await supabase
                        .from("users")
                        .update({ ìœ ì €ì•„ì´ë””: ìƒˆì•„ì´ë”” })
                        .eq("ìœ ì €UID", ìœ ì €ë°ì´í„°.ìœ ì €UID);

                    if (error) {
                        ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì•„ì´ë”” ë³€ê²½ ì‹¤íŒ¨: " + error.message, "#ef4444");
                        ì…ë ¥.value = "";
                        ì…ë ¥.focus();
                        return;
                    }

                    ìœ ì €ë°ì´í„°.ìœ ì €ì•„ì´ë”” = ìƒˆì•„ì´ë””;
                    ì˜ì—­.innerText = ìƒˆì•„ì´ë””;
                    document.getElementById("ìœ ì €ì•„ì´ë””").innerText = ìƒˆì•„ì´ë””;
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âœ…", "ì•„ì´ë”” ë³€ê²½ ì™„ë£Œ!", "#00c851");

                } catch (e) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ì˜¤ë¥˜ ë°œìƒ: " + e.message, "#ef4444");
                } finally {
                    í™”ë©´í•´ì œ();
                    document.removeEventListener("click", ì™¸ë¶€í´ë¦­ì²˜ë¦¬);
                }
            }, { once: true });
        });



        document.addEventListener("DOMContentLoaded", async () => {
            ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "ğŸ“¡", "Supabase ì—°ê²°ë¨", "#00c851");

            const { data: { user }, error: ì¸ì¦ì˜¤ë¥˜ } = await supabase.auth.getUser();

            if (ì¸ì¦ì˜¤ë¥˜) {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìœ ì € ì¸ì¦ í™•ì¸ ì‹¤íŒ¨", "#ef4444");
                return;
            }

            if (user && user.id) {
                try {
                    const { data: ìœ ì €ì •ë³´, error } = await supabase
                        .from("users")
                        .select("*")
                        .eq("ìœ ì €UID", user.id)
                        .single();

                    if (error || !ìœ ì €ì •ë³´) {
                        ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âš ï¸", "ìœ ì € ì •ë³´ ì—†ìŒ", "#ef4444");
                        return;
                    }

                    // âœ… ë³‘í•© ìƒëµí•˜ê³  ê·¸ëŒ€ë¡œ ì‚¬ìš©
                    ìœ ì €ë°ì´í„° = ìœ ì €ì •ë³´;

                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âœ…", "ìë™ ë¡œê·¸ì¸ ì™„ë£Œ", "#00c851");
                    ì „íˆ¬í™”ë©´ë³´ì—¬ì£¼ê¸°(ìœ ì €ë°ì´í„°);
                } catch (e) {
                    ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "âŒ", "ìë™ ë¡œê·¸ì¸ ì˜¤ë¥˜: " + e.message, "#ef4444");
                }
            } else {
                ë©”ì‹œì§€í‘œì‹œ(ë©”ì‹œì§€í‘œì‹œë°•ìŠ¤, "ğŸ”’", "ë¡œê·¸ì¸ëœ ìœ ì € ì—†ìŒ", "#aaa");
            }
        });



        setInterval(async () => {
            try {
                const { data, error } = await supabase
                    .from("ì ê²€")
                    .select("ìƒíƒœ")
                    .limit(1)
                    .single();

                if (error) {
                    console.warn("ì ê²€ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:", error.message);
                    return;
                }

                if (data.ìƒíƒœ === true) {
                    console.log("ğŸ” ì ê²€ ìƒíƒœ true â†’ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨");
                    location.reload();
                }
            } catch (e) {
                console.error("ì ê²€ í™•ì¸ ì¤‘ ì˜¤ë¥˜:", e.message);
            }
        }, 60000); // 30ì´ˆë§ˆë‹¤ ì²´í¬

    </script>
</body>

</html>