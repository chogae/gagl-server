<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>gagl</title>

    <meta name="viewport" content="width=device-width, initial-scale=0.8, user-scalable=no">

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <script type="module">
        import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

        window.supabase = createClient(
            "https://piafesfywtvpachbfoxr.supabase.co",
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpYWZlc2Z5d3R2cGFjaGJmb3hyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3ODQwMTgsImV4cCI6MjA2MDM2MDAxOH0.1aDNwRZXac48nD9HDicXvDYk4wfcY1MC487_qf3hF5c"
        );

    </script>

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: black;
            margin: 0;
            padding: 0;
            color: white;
            display: flex;
            /* justify-content: center; */
            align-items: center;
            flex-direction: column;
            height: 100vh;
            font-size: 14px;
            /* position: fixed; */
            /* 화면고정배치 스크롤해도 안움직임 */
            /* justify-content: space-between; */
            /* 양쪽정렬 */
            font-weight: 500;
        }

        .가로정렬 {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .세로정렬 {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .양쪽정렬 {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
        }

        .사백픽셀 {
            width: 400px;
            min-width: 400px;
            max-width: 400px;
        }

        .버튼 {
            border-radius: 5px;
            padding: 5px;
            text-align: center;
        }

        .공격버튼 {
            margin-top: 15px;
            background-color: #fafafa;
            color: black;
            border-radius: 5px;
            padding: 7px 17px;
            text-align: center;
        }

        .공격버튼:hover {
            background-color: #9e9e9e;
            cursor: pointer;
        }

        .지하버튼 {
            margin-top: 15px;
            background-color: #ff3737;
            color: black;
            border-radius: 5px;
            padding: 7px 17px;
            text-align: center;
        }

        .지하버튼:hover {
            opacity: 0.8;
            cursor: pointer;
        }



        .레어몬스터 {
            margin-top: 7px;
            background-color: #a853f7;
            color: black;
            border-radius: 5px;
            padding: 7px 17px;
            text-align: center;
        }

        .레어몬스터:hover {
            background-color: #9019ff;
            cursor: pointer;
        }

        .풀자동 {
            /* border: 0.2px solid #4b4b4b; */
            /* background-color: #ffffff; */
            /* color: black; */
            border-radius: 5px;
            padding: 3px 5px;
            text-align: center;
        }

        .풀자동:hover {
            /* background-color: #f7535b; */
            cursor: pointer;
            opacity: 0.8;
        }

        .보스몬스터 {
            margin-top: 7px;
            margin-bottom: 7px;
            background-color: #f753b8;
            color: black;
            border-radius: 5px;
            padding: 7px 17px;
            text-align: center;
        }

        .보스몬스터:hover {
            background-color: #f753b8;
            cursor: pointer;
        }

        .버튼:hover {
            background-color: #333;
            cursor: pointer;
        }

        .커서호버:hover {
            cursor: pointer;
        }

        .밑줄 {
            border-bottom: 0.2px solid #4b4b4b;
            width: 100%;
            height: 56px;
            min-height: 56px;
            /* ✅ 추가 */
            max-height: 56px;
            /* ✅ 추가 */
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            /* ✅ 추가 */
            overflow: hidden;
            /* ✅ 추가 */
        }

        .사백픽셀테두리 {
            margin-top: 15px;
            width: 400px;
            border: 0.2px solid #4b4b4b;
            border-radius: 10px;
            padding: 15px;
        }

        .기본테두리 {
            margin-top: 15px;
            width: 100%;
            box-sizing: border-box;
            border: 0.2px solid #4b4b4b;
            border-radius: 10px;
            padding: 15px;
        }

        .타락테두리 {
            border: 0.2px solid #CD7F32;
            /* 브론즈 색 */
            box-shadow: 0 0 10px #CD7F32;
        }

        .타락텍스트 {
            color: #CD7F32;
            font-weight: bold;

        }

        .에너지바 {
            background-color: #eab308;
            height: 5px;
            border-radius: 10px;
            width: 100%;
        }

        .유저테두리 {
            border: 0.2px solid #3b82f6;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */
        }

        .몬스터테두리 {
            border: 0.2px solid #f63b3b;
            border-radius: 10px;
            padding: 15px;
            /* width: 100%; */

        }

        .경험치골드숙련도 {
            background-color: #121212;
            height: 85px;
            border-radius: 10px;
            width: 100px;
            padding: 15px;
        }

        .레벨 {
            color: #00c851;
        }

        .총경험치 {
            color: #ffffff;
            font-size: 16px;
            font-weight: bold;
        }

        .획득경험치 {
            color: #7a7a7a;
            font-size: 10px;
            font-weight: lighter;
        }

        .골드 {
            color: #b0b0b0;
        }

        .총골드 {
            color: #f5c400;
            font-size: 16px;
            font-weight: bold;
        }

        .획득골드 {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .숙련도 {
            color: #b0b0b0;
        }

        .총숙련도 {
            color: #3b82f6;
            font-size: 16px;
            font-weight: bold;
        }

        .획득숙련도 {
            color: #00c851;
            font-size: 10px;
            font-weight: lighter;
        }

        .콘솔로그창 {
            color: #ffffff;
            border-radius: 10px;
            position: fixed;
            left: 0;
            bottom: 0;
            font-weight: bold;
        }

        .로딩컨테이너 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: sans-serif;
            font-size: 16px;
        }

        .로딩스피너 {
            width: 50px;
            height: 50px;
            border: 6px solid #cccccc;
            border-top-color: #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .네온박스 {
            position: fixed;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;

            width: 320px;
            padding: 10px 20px;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
            color: #c653ff;
            border-radius: 10px;

            background-color: black;
            background-image: linear-gradient(to right, rgba(198, 83, 255, 0.15), rgba(255, 0, 150, 0.15));
            background-blend-mode: overlay;

            box-shadow:
                0 0 8px 0px rgba(198, 83, 255, 0.5),
                0 0 14px 0px rgba(255, 0, 150, 0.4),
                inset 0 0 4px #000;

            animation: 네온펄스 1.5s ease-in-out infinite alternate;
        }


        @keyframes 네온펄스 {
            0% {
                box-shadow:
                    0 0 15px 5px rgba(198, 83, 255, 0.3),
                    0 0 30px 5px rgba(255, 0, 150, 0.2),
                    inset 0 0 6px #000;
                color: #b366ff;
            }

            100% {
                box-shadow:
                    0 0 10px 10px rgba(198, 83, 255, 0.5),
                    0 0 50px 10px rgba(255, 0, 150, 0.4),
                    inset 0 0 10px #000;
                color: #ff99ff;
            }
        }

        .유물드랍박스 {
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;

            width: 320px;
            padding: 10px 20px;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
            color: #ffd700;
            /* 골드 */

            border-radius: 10px;

            background-color: black;
            background-image: linear-gradient(to right, rgba(255, 215, 0, 0.15), rgba(255, 255, 255, 0.1));
            background-blend-mode: overlay;

            box-shadow:
                0 0 10px 0px rgba(255, 215, 0, 0.5),
                0 0 16px 0px rgba(255, 255, 255, 0.4),
                inset 0 0 4px #000;

            animation: 유물네온펄스 1.5s ease-in-out infinite alternate;
        }

        @keyframes 유물네온펄스 {
            0% {
                box-shadow:
                    0 0 18px 6px rgba(255, 215, 0, 0.4),
                    0 0 30px 6px rgba(255, 255, 255, 0.2),
                    inset 0 0 6px #000;
                color: #ffe066;
                /* 밝은 골드 */
            }

            100% {
                box-shadow:
                    0 0 14px 10px rgba(255, 215, 0, 0.6),
                    0 0 40px 12px rgba(255, 255, 255, 0.5),
                    inset 0 0 10px #000;
                color: #ffffff;
                /* 하얀색 */
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* 
        #사냥로그박스 {
            max-height: 220px;
            overflow-y: hidden;
        } */

        /* 자동으로 사라지게 하는 페이드 아웃 */
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }

            70% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                display: none;
            }
        }



        #승리패배로그 {
            font-size: 16px;
            margin-top: 10px;
        }

        #획득로그 {
            color: #00c851;
        }

        #레벨업표시 {
            color: #00c851;
        }

        #층조절 {
            background: transparent;
            /* 내부 배경 제거 */
            border: 2px solid #ff3300;
            box-shadow:
                0 0 12px #ff0000,
                /* 바깥쪽 발광 효과 */
                0 0 24px #440000,
                /* 바깥쪽 어두운 발광 */
                0 0 0 4px rgba(255, 0, 0, 0.2) inset;
            /* 안쪽 테두리 강조 */
            animation: 마계불길 4s ease-in-out infinite;
            gap: 30px;
            position: relative;
            border-radius: 10px;
            /* 둥글게 유지 */
            color: white;
        }

        @keyframes 마계불길 {

            0%,
            100% {
                filter: brightness(1);
            }

            50% {
                filter: brightness(1.3);
            }
        }

        .crown-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }

        .금 {
            stroke: gold;
        }

        .은 {
            stroke: silver;
        }

        .동 {
            stroke: #cd7f32;
        }

        #보유숙련도:hover {
            cursor: pointer;
            text-decoration: underline;
            color: #3b82f6;
        }

        #전직화면타이틀:hover {
            cursor: pointer;
            text-decoration: underline;
            color: #3b82f6;
        }

        .target-icon {
            width: 16px;
            height: 16px;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            margin-right: 4px;
        }

        .내아이디강조 {
            background-color: #505050;
            /* font-weight: bold; */
            border-radius: 6px;
        }

        .색상실험 {
            background-color: #8b5cf6;
            background-color: #3bf0f6;
            background-color: #5cf669;
            background-color: #f6ec5c;
        }

        #전투버튼박스 {
            position: relative;
            /* ✅ 추가 */
        }

        #전투화면 {
            position: relative;
        }





        html {
            overflow-y: scroll;
        }

        .마법의팔레트가글 {
            background: linear-gradient(90deg, #ff6ec4, #7873f5, #4adede, #4adede, #ff6ec4);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트마왕전 {
            background: linear-gradient(90deg, #ff4d4d, #f574a1, #a54add, #dbc64c, #ff4d4d);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트노랭 {
            background: linear-gradient(90deg, #fca235, #fbeb36, #c3fa37, #92f938, #fca235);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트초록 {
            background: linear-gradient(90deg, #39f84f, #3af799, #3bf6d1, #3cf2f5, #39f84f);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트보라 {
            background: linear-gradient(90deg, #447ced, #465ceb, #6847ea, #9047ea, #447ced);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트핑크 {
            background: linear-gradient(90deg, #da47ea, #ea47c7, #ea4796, #ea4762, #da47ea);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }


        @keyframes 무지개흐름 {
            to {
                background-position: 200% center;
            }
        }

        .마법의팔레트지옥 {
            background: linear-gradient(90deg, #8a0404, #8B0000, #FF0000, #FF8C00, #6e0202);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트블라섬 {
            background: linear-gradient(90deg, #ffe6f0, #ffb6c1, #ff69b4, #ffa7c4, #ffe6f0);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트민초 {
            background: linear-gradient(90deg, #1e9f8d, #08e0c7, #52d1c2, #a6e5de, #21a58f);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트겨울 {
            background: linear-gradient(90deg, #7d96ff, #c6efff, #ffe1f0, #a9dfff, #2eb2ff);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트핑크오션 {
            background: linear-gradient(90deg, #ff9a9e, #fad0c4, #fad0c4, #ff9a9e);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트네온사인 {
            background: linear-gradient(90deg, #00f260, #0575e6, #00f260);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 2.5s linear infinite;
        }

        .마법의팔레트에메랄드숲 {
            background: linear-gradient(90deg, #11998e, #38ef7d, #11998e);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3s linear infinite;
        }

        .마법의팔레트황혼하늘 {
            background: linear-gradient(90deg, #f7971e, #ffd200, #f7971e);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            animation: 무지개흐름 3.5s linear infinite;
        }

        #유물컨테이너 {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            /* ✅ 중앙정렬 */
        }


        * {
            user-select: none;
        }

        #보스사냥컨테이너 {
            position: relative;
        }


        /* css추가 */
    </style>
</head>

<body>
    <div class="유물드랍박스" id="유물드랍박스" style="display: none;">

    </div>


    <div class="밑줄" id="상단바">
        <div class="사백픽셀">
            <div class="양쪽정렬">
                <div id="타이틀을아이디로" class="커서호버">gagl</div>

                <div id="전투스킬설정버튼" style="display: none;">
                    <div class="가로정렬">
                        <!-- <div class="마법의팔레트지옥 버튼">마법의팔레트</div> -->
                        <div class="버튼" id="전투">전투</div>
                        <!-- <div class="버튼" id="장비">장비</div>
                        <div class="버튼" id="유물">유물</div> -->
                        <div class="버튼" id="성장">성장</div>
                        <div class="버튼" id="월드">월드</div>
                        <!-- <div class="버튼" id="보스">보스</div> -->
                        <div class="버튼" id="전당">전당</div>
                        <div class="버튼" id="정보">정보</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 로그인화면 -->
    <div class="사백픽셀 밑줄">
        <div id="화면설명" style="text-align: center;">
            가글주인장은 코딩을 모르는 평범한 아재이며<br>가글은 100% ChatGPT로 개발되는 점 알립니다
        </div>
    </div>

    <div class="사백픽셀테두리 세로정렬" id="에너지박스" style="display: none;">
        <div class="양쪽정렬">
            <div style="color: #eab308;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-zap-icon lucide-zap">
                    <path
                        d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z" />
                </svg>
            </div>
            <div id="스태미너표시" style="color: white;">
                ♾️
            </div>
        </div>
        <div class="에너지바">

        </div>
    </div>



    <div id="메뉴얼화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="메뉴얼컨테이너">

        </div>
    </div>

    <div id="내정보화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="내정보컨테이너">

        </div>
    </div>

    <div id="우편함화면" style="display: none;">
        <div class="사백픽셀테두리" id="우편함컨테이너">

        </div>
    </div>

    <div id="주인장화면" style="display: none;">
        <div class="사백픽셀테두리" id="주인장컨테이너">

        </div>
    </div>


    <div id="광장화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="광장컨테이너">



        </div>
    </div>


    <div id="일어난일화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="일어난일컨테이너">



        </div>
    </div>

    <div id="가글사전화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="가글사전컨테이너" style="align-items: flex-start;">



        </div>
    </div>



    <div id="지하던전화면" style="display: none;">
        <div class="세로정렬" id="지하던전컨테이너">
            <div class="사백픽셀테두리 세로정렬" id="던전아이콘">

            </div>

            <div id="지하등반">
                <div class="사백픽셀테두리 세로정렬">
                    <div class="지하버튼" id="지하층수">

                    </div>
                    <div style="margin-bottom: 15px; font-size: 16px;" id="지하승패">

                    </div>

                </div>
            </div>

        </div>
    </div>

    <div id="마왕전화면" style="display: none;">
        <div class="사백픽셀테두리 세로정렬" id="마왕전컨테이너">

        </div>
    </div>



    <div id="유물화면" style="display: none;">
        <div class="사백픽셀테두리" id="유물컨테이너">

        </div>
    </div>





    <div id="악세화면" style="display: none;">
        <div class="사백픽셀테두리" id="악세컨테이너">

        </div>
    </div>




    <div id="보스화면" style="display: none;">
        <div id="보스컨테이너" style="justify-content: flex-start;">
            <div id="보스아이콘">

            </div>
            <div id="누적데미지순위">

            </div>
        </div>

        <div id="보스사냥컨테이너">
            <div class="사백픽셀테두리 세로정렬">
                <div class="보스몬스터" id="보스몬스터">
                </div>
                <div id="최종데미지">
                </div>
                <div id="누적데미지">
                </div>
                <div class="풀자동" id="보스풀자동"
                    style="position: absolute; top: 5px; right: 10px; cursor: pointer; font-size: 16px;">
                    풀자동
                </div>
            </div>

        </div>

    </div>

    <div id="전직화면" style="display: none;">
        <div id="전직컨테이너" class="세로정렬">
            <div id="전직화면타이틀" class="밑줄" style="text-align: left; font-weight: bold;  font-size: 24px;">
                전직과 직업
            </div>
            <div class="양쪽정렬" id="경험치와포인트">

            </div>

        </div>
    </div>

    <div id="인증화면" class="사백픽셀테두리 세로정렬">
        <input id="이메일입력" type="text" placeholder="한글x, 영문아이디 입력" autocomplete="off" oninput="
    if (/[ㄱ-ㅎㅏ-ㅣ가-힣]/.test(this.value)) {
        메시지표시(메시지표시박스, '', '한글은 입력할 수 없습니다', '');
    }
    this.value = this.value.replace(/[^a-zA-Z0-9]/g, '');
  " />
        <input id="비번입력" type="password" placeholder="비밀번호 입력" autocomplete="off" />
        <button onclick="회원가입()">회원가입</button>
        <button onclick="로그인()">로그인</button>
    </div>
    <div class="네온박스" id="네온박스">
        gagl에 찾아와주셔서 감사합니다
    </div>


    <div id="전투화면" style="display: none;">
        <div class="사백픽셀테두리 가로정렬" id="층조절">
            <div id="아래층으로">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-big-down-dash-icon lucide-arrow-big-down-dash">
                    <path d="M15 5H9" />
                    <path d="M15 9v3h4l-7 7-7-7h4V9z" />
                </svg>
            </div>
            <div id="현재층">
                1층
            </div>
            <div id="위층으로">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-big-up-dash-icon lucide-arrow-big-up-dash">
                    <path d="M9 19h6" />
                    <path d="M9 15v-3H5l7-7 7 7h-4v3H9z" />
                </svg>
            </div>

        </div>

        <div id="사냥결과1">
            <div class="사백픽셀테두리 세로정렬">
                <div class="가로정렬">
                    <div class="경험치골드숙련도 세로정렬" id="경험치테두리안표시">
                        <div class="레벨" id="레벨">
                        </div>
                        <div class="총경험치 커서호버" id="총경험치">
                        </div>
                        <div class="획득경험치" id="획득경험치">
                        </div>
                    </div>
                    <div class="경험치골드숙련도 세로정렬" id="골드테두리안표시">
                        <div class="골드" id="골드">
                            골드
                        </div>
                        <div class="총골드 커서호버" id="총골드">
                        </div>
                        <div class="획득골드" id="획득골드">
                        </div>

                    </div>
                    <div class="경험치골드숙련도 세로정렬" id="숙련도테두리안표시">
                        <div class="숙련도" id="숙련도">
                            숙련도
                        </div>
                        <div class="총숙련도 커서호버" id="총숙련도">
                        </div>
                        <div class="획득숙련도" id="획득숙련도">
                        </div>

                    </div>
                </div>
            </div>

            <div class="사백픽셀테두리 세로정렬" id="등급외테두리" style="position: relative;">
                <div class="풀자동" id="반자동"
                    style="position: absolute; top: 5px; left: 10px; cursor: pointer; font-size: 16px;">
                    반자동
                </div>
                <div class="풀자동" id="풀자동"
                    style="position: absolute; top: 5px; right: 10px; cursor: pointer; font-size: 16px;">
                    풀자동
                </div>

                <div class="세로정렬" id="전투버튼박스">
                    <div>
                        <div style="display: inline-block;" class="공격버튼" id="공격버튼">악마성</div>
                    </div>
                    <div style="display: none;" class="레어몬스터" id="레어몬스터">레어몬스터</div>

                </div>


                <div class="가로정렬" id="승리패배로그">
                </div>
                <div class="가로정렬" id="획득로그">
                </div>
                <div class="가로정렬" id="추가획득로그">
                </div>

                <div class="가로정렬" id="레벨업표시">

                </div>
            </div>
        </div>

        <div class="사백픽셀테두리 유저테두리 양쪽정렬" id="유저테두리안표시">
            <div id="유저아이디">

            </div>
            <div class="세로정렬">
                <div id="유저공격력">
                </div>
                <div id="유저체력">
                </div>
            </div>

        </div>
        <div id="몬스터테두리안표시">
            <div class="사백픽셀테두리 몬스터테두리 양쪽정렬">
                <div id="악마이름">
                </div>
                <div class="세로정렬">
                    <div id="악마체력">
                    </div>
                    <div id="악마방어력">
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div id="전당화면" style="display: none;">
        <div id="전당컨테이너" class="사백픽셀테두리 세로정렬">
        </div>
    </div>



    <div id="블로커" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0);
  z-index: 9999;
  display: none;
  cursor: wait;
"></div>

    <div id="장비화면" style="display: none;">
        <div class="양쪽정렬">
            <div id="장비골드표시" style="color: #f5c400; margin-top: 10px;">

            </div>
            <div id="장비자동합성" style="cursor: pointer; margin-top: 15px; margin-right: 15px">

            </div>
        </div>

        <div class="사백픽셀테두리 세로정렬" id="장비컨테이너">
        </div>
    </div>



    <div id="스킬화면" style="display: none;">
        <div class="밑줄" id="보유숙련도">

        </div>
        <div style="font-size: 12px; color: #888" id="필요숙련도">

        </div>

        <div class="사백픽셀테두리" id="스킬컨테이너">
        </div>
    </div>

    <div id="캐시샵화면" style="display: none;">
        <div class="사백픽셀테두리" id="캐시샵컨테이너">

        </div>
    </div>


    <div id="미니정보창" class="사백픽셀테두리" style="
    position: fixed;
    top: 57px;
    left: 300px;
    z-index: 99999;
    background: black;
    color: white;
    display: none;
    max-height: 600px;
    overflow-y: auto;
  "></div>

    <div id="메시지표시박스" style="
    position: fixed;
    top: 20%;
    left: 0;
    right: 60%;
    height: 50%;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    padding: 10px;
    box-sizing: border-box;
    pointer-events: none;
"></div>

    <div id="팝업" style="
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9999;
    display: none;
    background: #2b2b2b;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    min-width: 320px;
    max-width: 90vw;
    font-family: sans-serif;
    color: #f1f1f1;
    text-align: left;
">
        <div id="팝업메시지" style="font-size: 15px; margin-bottom: 20px;">
            메시지
        </div>



        <div style="display: flex; justify-content: flex-end; gap: 10px;">
            <div id="팝업취소" style="
            padding: 6px 16px;
            background-color: #1a1a1a;
            color: white;
            border-radius: 18px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 0 2px black;
        ">취소</div>

            <div id="팝업확인" style="
            padding: 6px 16px;
            background-color: #3a3a3a;
            color: white;
            border-radius: 18px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 0 2px black;
        ">확인</div>

        </div>
    </div>
    <!-- align-items: flex-start; -->

    <div id="뽑기창" class="기본테두리 세로정렬" style="
  display: none;
  position: fixed;
  top: 20%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: black;
  color: white;
  z-index: 9998;
  padding: 20px;
  text-align: center;
  width:300px;
">
        <div id="뽑기타이틀" style="font-size: 20px; font-weight: bold; margin-bottom: 15px;"></div>
        <div>
            <div class="버튼" style="margin-top: 10px;" onclick="장비뽑기시도('일반')">일반장비뽑기 (10만)</div>
            <div class="버튼" style="margin-top: 10px;" onclick="장비뽑기시도('연속일반')">연속일반장비뽑기 (100만)</div>
            <div class="버튼" style="margin-top: 10px;" onclick="장비뽑기시도('고급')">고급장비뽑기 (티켓)</div>
            <div class="버튼" style="margin-top: 10px;" onclick="장비뽑기시도('연속고급')">연속고급장비뽑기(10+1) (티켓열장)</div>
            <div class="버튼" style="margin-top: 10px;" onclick="유물뽑기시도('일반')">유물뽑기 (10만)</div>
            <div class="버튼" style="margin-top: 10px;" onclick="유물뽑기시도('연속일반')">연속유물뽑기 (100만)</div>
        </div>
    </div>

    <div id="펫컨테이너" style="
  position: fixed;
  top: 200px;
  left: 200px;
  pointer-events: none;
  z-index: 99999;
  transform: scale(0.1);
  background: transparent;
">
    </div>
    <!-- 객체추가 -->

    <script>
        let 기기ID = localStorage.getItem("기기ID");

        if (!기기ID) {
            기기ID = crypto.randomUUID();
            localStorage.setItem("기기ID", 기기ID);
        }

        window.addEventListener("load", () => {
            setTimeout(() => {
                document.getElementById("네온박스").style.display = "none";
            }, 3000);
        });

        let 주인장인가 = false;

        function 사용자확인(메시지) {
            return new Promise((resolve) => {
                const 팝업 = document.getElementById("팝업");
                const 메시지박스 = document.getElementById("팝업메시지");
                const 확인버튼 = document.getElementById("팝업확인");
                const 취소버튼 = document.getElementById("팝업취소");

                메시지박스.innerText = 메시지;
                팝업.style.display = "block";

                const 닫기 = (결과) => {
                    팝업.style.display = "none";
                    확인버튼.onclick = null;
                    취소버튼.onclick = null;
                    document.removeEventListener("click", 외부클릭감지, true);
                    resolve(결과);
                };

                확인버튼.onclick = () => 닫기(true);
                취소버튼.onclick = () => 닫기(false);

                // 팝업 외부 클릭 시 닫기
                const 외부클릭감지 = (e) => {
                    if (!팝업.contains(e.target)) {
                        닫기(false);
                    }
                };
                // 캡처 단계에서 먼저 잡기
                document.addEventListener("click", 외부클릭감지, true);
            });
        }


        const 색상맵 = {
            "일반": "#c8c8c8",
            "레어": "#00c000",
            "신화": "#4141ff",
            "고대": "#c8c800",
            "태초": "#d400d4",
            "타락": "#ff0000",
            "진화": "#B87333",
            "멸망": "#C0C0C0",

            "빨": "#ff0000",
            "주": "#ff8000",
            "노": "#ffff00",
            "초": "#00ff00",
            "파": "#0080ff",
            "남": "#8a2be2",
            "보": "#800080",

            "빨주": "#ff4000",
            "주노": "#ffbf00",
            "노초": "#80ff00",
            "초파": "#00ff80",
            "파남": "#4455d0",
            "남보": "#851bb1"
        };

        //잡아이콘
        const 서클체크아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big-icon lucide-circle-check-big"><path d="M21.801 10A10 10 0 1 1 17 3.335"/><path d="m9 11 3 3L22 4"/></svg>'
        const 머니아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-coins-icon lucide-coins"><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></svg>`;
        const 성공아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-party-popper-icon lucide-party-popper"><path d="M5.8 11.3 2 22l10.7-3.79"/><path d="M4 3h.01"/><path d="M22 8h.01"/><path d="M15 2h.01"/><path d="M22 20h.01"/><path d="m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"/><path d="m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17"/><path d="m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7"/><path d="M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z"/></svg>`;
        const 실패아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ban-icon lucide-ban"><circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/></svg>`;
        const 마스터아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap-icon lucide-graduation-cap"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"/><path d="M22 10v6"/><path d="M6 12.5V16a6 3 0 0 0 12 0v-3.5"/></svg>`;
        const 뽑기아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dices-icon lucide-dices"><rect width="12" height="12" x="2" y="10" rx="2" ry="2"/><path d="m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6"/><path d="M6 18h.01"/><path d="M10 14h.01"/><path d="M15 6h.01"/><path d="M18 9h.01"/></svg>`;
        const 공격력아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-swords-icon lucide-swords"><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/><polyline points="14.5 6.5 18 3 21 3 21 6 17.5 9.5"/><line x1="5" x2="9" y1="14" y2="18"/><line x1="7" x2="4" y1="17" y2="20"/><line x1="3" x2="5" y1="19" y2="21"/></svg>`;
        const 체력아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart-icon lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>`;
        const 마법진아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-aperture-icon lucide-aperture"><circle cx="12" cy="12" r="10"/><path d="m14.31 8 5.74 9.94"/><path d="M9.69 8h11.48"/><path d="m7.38 12 5.74-9.94"/><path d="M9.69 16 3.95 6.06"/><path d="M14.31 16H2.83"/><path d="m16.62 12-5.74 9.94"/></svg>`;
        const 무한대아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-infinity-icon lucide-infinity"><path d="M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8"/></svg>`;

        //스킬아이콘
        const 크리티컬아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-axe-icon lucide-axe"><path d="m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9"/><path d="M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z"/></svg>`;
        const 홀리워터아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 16px; width: 16px;"></path><g class="" transform="translate(0,0)" style=""><path d="m252.875 24.25-11.53 42.906 141.218 37.875 11.5-42.905L252.875 24.25zm.78 65.563-6.843 25.468-18.375-4.936c-42.78-11.464-87.073 13.496-98.562 56.375L80 352.843c-11.49 42.88 14.12 87.232 57 98.72l143.438 38.436c42.88 11.49 86.63-14.376 98.093-57.156l49.876-186.156c11.462-42.78-13.752-86.44-56.53-97.907v-.03l-19.032-5.094 6.812-25.437-18.03-4.845-9.25 34.5-2.407 9 .124.03c-9.833 28.888 56.393 96.208 82.312 64.69a62.889 62.889 0 0 1-2.03 20.28l-2.75 10.22h-45.72c9.88 13.787 13.913 32.493 7.656 53.155-9.313 30.756-36.22 45.28-62.687 58.125-26.467 12.846-53.43 24.8-70.28 47.97L222.687 430.5 219.78 407c-3.545-28.56-21.868-51.723-38.78-75.813-8.456-12.044-16.508-24.29-21.406-37.968-4.487-12.53-6.085-26.434-2.563-41.126h-30.686l21.594-80.563c8.87-33.105 42.48-52.054 75.687-43.155l27.406 7.344 9 2.436 2.44-9.03 9.25-34.47-18.064-4.844zM217.47 220.188c-17.402.35-34.707 10.976-41.44 33.25-3.707 12.27-2.716 22.65 1.157 33.468 3.874 10.817 10.928 21.855 19.125 33.53 13.337 18.998 29.728 39.8 37.782 65.69 19.37-18.71 43.527-29.34 64.594-39.563 25.93-12.587 46.112-23.974 53-46.72 7.507-24.79-2.893-40.962-19.344-49-16.45-8.037-39.098-6.47-56.156 10.5l-11.907 11.844-3.81-16.375c-5.908-25.504-23.357-36.304-41.314-36.625-.56-.01-1.126-.01-1.687 0z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 도핑아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 16px; width: 16px;"></path><g class="" transform="translate(0,0)" style=""><path d="M112.182 18.393c-.37-.007-.77 0-1.205.023-3.172.16-8.473 2.174-14.688 7.078-9.654 32.85-35.603 60.926-71.335 72.012-3.3 6.59-4.446 11.897-4.215 15.156.268 3.77 1.223 5.062 3.895 6.502 5.342 2.88 21.9 2.56 44.19-10.31l4.843-2.795 4.752 2.944c35.087 21.744 53.66 39.973 72.885 69.553l23.517-23.518c-31.97-18.754-48.732-38.902-68.935-73.91l-2.696-4.67 2.7-4.673c15.082-26.124 14.602-44.643 11.354-50.133-1.42-2.4-2.482-3.214-5.062-3.26zM275.8 87.45c-28.745 0-52.638 21.59-56.323 49.36l-84.444 84.448c-27.773 3.684-49.36 27.58-49.36 56.322 0 31.276 25.553 56.832 56.83 56.832 30.934 0 56.253-25 56.808-55.805l96.89 96.89 13.214-13.216L185.88 238.747l25.31-25.312 93.576 93.574 13.214-13.215-93.574-93.574 12.614-12.613 123.535 123.536 13.215-13.215-96.842-96.842c30.76-.608 55.703-25.906 55.703-56.803 0-31.276-25.553-56.832-56.83-56.832zm0 18.69a38.003 38.003 0 0 1 38.143 38.143 38.003 38.003 0 0 1-38.144 38.143 38.001 38.001 0 0 1-38.144-38.143 38.003 38.003 0 0 1 38.143-38.144zM142.503 239.437a38 38 0 0 1 38.142 38.142 38.003 38.003 0 0 1-38.142 38.145 38.006 38.006 0 0 1-38.145-38.145 38.002 38.002 0 0 1 38.144-38.142zm263.168 61.544c-5.287 0-10.573 2.044-14.66 6.13l-29.858 29.86-27.183-27.19-13.214 13.214 27.183 27.19-42.594 42.593h-.002c-8.18 8.186-8.176 21.15 0 29.33 8.172 8.175 21.147 8.175 29.326-.005l85.664-85.668c8.18-8.177 8.18-21.147.002-29.322-4.09-4.09-9.378-6.133-14.664-6.133zm-8.352 84.9L384.105 399.1l97.885 97.884 13.215-13.214-97.885-97.885z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 마왕체력감소 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-axe-icon lucide-axe"><path d="m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9"/><path d="M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z"/></svg>`;
        const 버서커아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flame-icon lucide-flame"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>`;
        const 드레인아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-droplet-icon lucide-droplet"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/></svg>`;
        const 인사이트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-diamond-plus-icon lucide-diamond-plus"><path d="M12 8v8"/><path d="M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41L13.7 2.71a2.41 2.41 0 0 0-3.41 0z"/><path d="M8 12h8"/></svg>`;
        const 아이언바디아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-biceps-flexed-icon lucide-biceps-flexed"><path d="M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1"/><path d="M15 14a5 5 0 0 0-7.584 2"/><path d="M9.964 6.825C8.019 7.977 9.5 13 8 15"/></svg>`;
        const 퀵니스아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-history-icon lucide-history"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/></svg>`;
        const 발굴아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gem-icon lucide-gem"><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>`;
        const 버닝아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-battery-charging-icon lucide-battery-charging"><path d="M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2"/><path d="M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1"/><path d="m11 7-3 5h4l-3 5"/><line x1="22" x2="22" y1="11" y2="13"/></svg>`;
        const 인텔리전스아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-plus-icon lucide-copy-plus"><line x1="15" x2="15" y1="12" y2="18"/><line x1="12" x2="18" y1="15" y2="15"/><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`;
        const 브로큰아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-off-icon lucide-shield-off"><path d="m2 2 20 20"/><path d="M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71"/><path d="M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264"/></svg>`;
        const 즉사아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-skull-icon lucide-skull"><path d="m12.5 17-.5-1-.5 1h1z"/><path d="M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"/><circle cx="15" cy="12" r="1"/><circle cx="9" cy="12" r="1"/></svg>`;
        const 봄아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flower2-icon lucide-flower-2"><path d="M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1"/><circle cx="12" cy="8" r="2"/><path d="M12 10v12"/><path d="M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z"/><path d="M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z"/></svg>`;
        const 여름아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun-icon lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>`;
        const 가을아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf-icon lucide-leaf"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>`;
        const 겨울아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-snowflake-icon lucide-snowflake"><path d="m10 20-1.25-2.5L6 18"/><path d="M10 4 8.75 6.5 6 6"/><path d="m14 20 1.25-2.5L18 18"/><path d="m14 4 1.25 2.5L18 6"/><path d="m17 21-3-6h-4"/><path d="m17 3-3 6 1.5 3"/><path d="M2 12h6.5L10 9"/><path d="m20 10-1.5 2 1.5 2"/><path d="M22 12h-6.5L14 15"/><path d="m4 10 1.5 2L4 14"/><path d="m7 21 3-6-1.5-3"/><path d="m7 3 3 6h4"/></svg>`;
        const 현질아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wand-sparkles-icon lucide-wand-sparkles"><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"/><path d="m14 7 3 3"/><path d="M5 6v4"/><path d="M19 14v4"/><path d="M10 2v2"/><path d="M7 8H3"/><path d="M21 16h-4"/><path d="M11 3H9"/></svg>`;
        const 해머아이콘 = `<svg xmlns="http://www.w3.org/2000/svg"
     width="18" height="18" viewBox="0 0 24 24"
     fill="none" stroke="currentColor" stroke-width="2"
     stroke-linecap="round" stroke-linejoin="round"
     class="lucide lucide-hammer-icon lucide-hammer"
     style="cursor:pointer">
  <path d="m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"/>
  <path d="m18 15 4-4"/>
  <path d="m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"/>
</svg>`;

        //보스아이콘
        const 그루트아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="m125.5 24.44-15.2 9.64c4.7 7.36 4.1 9.89 2.6 12.91-8.4 11.18-22.25 15.83-32.31 23.89-6.38 5.2-12.53 13.64-10.92 23.76 2.17 13.46 12.66 22.56 23.15 29.76 12.38-.5 25.48.6 36.18.6l.2-.4c-11-5.5-39.08-21.1-41.75-32.85C97.5 75.04 120.3 71.43 128.9 55.13c4.3-8.5 3.4-19.93-3.4-30.69zm92.8.3c-1.8 17.62-4.3 32.04-7.1 44.98l28.3 17.12-33.5 5.31c-3.3 12.75-5.7 22.95-8.4 34.55-10.5 5-22.1 9.4-32.2 12 12.6 6.5 25.2 14.8 30.5 28.1 3.6 8.8 2.1 17.9-.9 25.7-2.9 7.7-7.3 14.8-11.2 21.4-3.9 6.6-7.2 12.7-8.5 17.3.4 23 31.4 26.9 47.4 22.7 1.1-6.6 5.6-13 9.8-17.2-7.4-2.6-14.7-6.3-20.1-12.9-5.9-7.2-7.8-18.4-3.2-29.1 3.7-6.6 11.1-10.7 17.6-11.7 11.5-.9 22.3 1.4 32.8 4.3.8-6.9 2.2-14 4.9-20.3 2.1-4.9 5.5-9.9 10.4-12.9l-11-10.8-17.5 16.5-17.6-17.5-16.8 13 7.3-44.6 14.1 14.7 10.2-15.1 9.1 21.1 18.2-26.5 7.7 47.4c2.7-1 5.3-1.3 7.9-1.3 8.1.5 14.9 5.5 19.3 11.3 5 7.3 8.5 15.4 10.7 22.7 1.4-.8 2.7-1.5 4.1-2.3 6.3-3.3 12.8-6.4 19.5-8-23.2-6.9-27.4-26-28.1-48.7-9.4-.8-16.4-.6-25.6-.4-2-11.2-3.6-23.2-4.8-33.07l-33.8-5.33 30.8-18.68c-1.9-13.34-4.4-26.41-8.9-39.3-14.4 3.78-33 3.98-51.4-4.48zm165.1 22.69s-37.8 20.36-34.6 36.93c1 5.29 5.3 10.28 10.7 13.98-2.5 6.06-3.5 12.06-3.9 18.16 5.9 1.8 11.6 3.8 17.2 5.9-.8-6.3-1.2-12.6-.6-18.8 5.2 1.1 10.3.6 14.1-1.9 15-10.11-2.9-54.27-2.9-54.27zm-53.2 81.07c2.2 14.8 2.2 27.2 17.4 29.4 14.6 3.3 29.9-2.2 42.2 1.2-2.1-4.2-4.2-8.5-6.1-12.8-17.3-7.4-34.3-14.1-53.5-17.8zm-226.1 13.9c-6.18 13.7-12.41 27.3-18.42 40.9-3.84-3-8.01-5.6-12.87-7.5 1.19-6.5.56-13.1-2.54-17.5-3.33-4.7-10.35-6.3-18.12-6.3-14.84-.1-32.45 5.5-32.45 5.5s19.21 43.5 36.96 39.9c4.45-1 8.29-4.3 11.18-8.8 3.97 3.1 7.5 6.8 10.82 10.8-9.36 22-17.81 44-24.12 66.5 21.79 2 39.71 9.7 55.46 19.4 8-32.7 15.2-60.4 30.3-84.9l29.1 2.4c4.3-8.4 13.5-19.9 9.9-29.2-13.1-16.5-29.9-23.6-49.1-30.5-9.2 0-17.7-.5-26.1-.7zm177 31.7c-1.4 3.3-2.6 8.2-3.3 13.4 3.5-1.1 7.2-1.7 11-1.7 3.3 0 6.4.4 9.4 1.2-1.9-5.5-4.3-10.6-6.7-13.8-5-6.6-8.2-4.2-10.4.9zm78.4 2.4c2.5 1.5 4.8 3.8 6.3 6.5 5.2 9.2 2.5 20-2.7 27.5-.8 1.1-1.6 2.3-2.5 3.3l40.2 68.1c1.7-8.8 3.5-20.4 4.7-33 2.4-26.1.2-55.5-9.3-67.2-9.6-8.6-24.9-5.6-36.7-5.2zm-13.4 15.3c-4.2.7-10.7 3.4-16.9 6.8-1.8 1-3.6 2-5.2 3 5.9 2.6 11.3 5.4 15.5 7.9 3.7-3.2 6.9-6.4 8.8-9.2 3.2-5.6 4.2-9.7-2.2-8.5zm-120.3 10c-4.2 3.5-1.8 7.8.5 10.6 2.3 2.7 7.6 5.9 14 8 3.9 1.2 8.1 2.2 11.9 2.9.1-6.5 1.6-13.3 4.2-18.2-7.9-2.2-25-6.2-30.6-3.3zm63 2c-10.5 0-18.6 8-18.6 17.8s8.1 17.8 18.6 17.8c10.5 0 18.6-8 18.6-17.8s-8.1-17.8-18.6-17.8zm135.7 9.9c.8 12.3 0 25-1.1 36.9-1.3 13.6-3.3 26-5.1 35.3 16.2-8.2 28.3-19.6 37.2-33.9-10.8-12.5-21.2-25.2-31-38.3zm-97.8 9.3c-3.3 6.4-4.3 13.9-8 19.1 3.4 3.1 7.5 6.5 12.3 10 5.3 3.8 10.9 7 14.8 8.3 7.2 3.3 9.8-7.3 8.6-11.6-1-3.9-4.8-9-10-13.6-6.1-5.4-12.6-9.3-17.7-12.2zM258 240.8c-6.3 4-14.7 7.6-17.4 15.1-1.1 6.1 5.7 14.7 12.2 13.2 8-3.6 12.7-10 16.8-17.1-4.7-2.8-8.6-6.6-11.6-11.2zm46.8 13c-4.7 2.2-10 3.5-15.5 3.6 1.7 10.3 4.1 29.9 11.4 35 8.7.7 9.9-33.4 4.1-38.6zm-136.2 4.9c-3.4 16.9-6.8 34-10.4 51 10.9 7.3 22.5 16.2 30.5 25 6.9 7.7 12.5 16.4 13.5 26.7.8 8.9-3.4 16.6-8.5 22.1s-11.1 9.8-16.7 13.9-10.7 7.9-13.6 11.2c-2.9 3.4-3.5 5.1-3 7.6 1.9 3.8 8.6 5.1 12.6 6.4 4.4 1.3 9.3 2.7 14.2 5.2 4.9 2.4 10.1 6.4 12.6 12.9v.1c6.9-48 12.3-90.5 27.5-128.5l51.8-1.4c3.9 14.9 7.9 30.8 11.3 43.7 9.1 13 18.4 25.9 30.7 35.2 6 4.4 11.2 6.3 14.9 6.1 5-10.9 8-25.1 19.8-27.9 5.2-1.1 10.3-1 15.3.1-4.3-10.6-8.4-21.1-12.4-31.7-8.4 3.9-18 7.5-28.3 4.7-12.6-3.4-21-13.3-27.7-24.2-1.3-2.2-2.6-4.4-3.8-6.7-7.5-.8-12.9-6.1-16.5-11.7-4-7.5-6.6-15.3-8.2-22.6-4.6 4.8-10.2 9.1-17.4 10.8-13.5.3-24.3-5.2-30.3-15.2-7.6 2-14.9 2.9-21.8 2.6-14.1-.6-26.4-6.2-36.1-15.4zm301.7 3.6c-3.4 5.4-7.2 10.4-11.5 15.1l10.9 3.7 4.8 30.4 17.8-2.8-6.6-41.2zm-145.8 7.2c-.1 8-.8 16.2-3.4 23.7-1.2 3.6-2.8 7-5.4 10 4.5 7.7 11.1 18.1 19.3 20.5 1.9.5 9.9-1.2 17.2-4.2-5.5-14.7-11-29.2-16.6-43.8-3.9-1.7-7.6-3.8-11.1-6.2zm-277.31 14-23.9 46.8 16.04 8.2 26.85-52.6c-5.92-1.4-12.22-2.2-18.99-2.4zm25.07 3.9-14.89 39.2-6.19 35.3 17.72 3.2 5.91-33.7L89.03 294c-5.33-2.6-10.88-4.8-16.77-6.6zm372.14 3.3c-4.7 3.6-9.7 6.8-15 9.8l29.2 48.9 15.4-9.2zm-349.93 6.2 2.64 39.7-14.34 18.6 14.26 11 18.47-24-2.2-33.1c-6.2-4.5-13-9-18.83-12.2zm324.03 8.9c-6.4 2.7-11.3 4.3-17.6 6.3l1.3 18.5 22.3 17.1 11-14.2-15.9-12.3zm-264.4 22.9c-3 14-6.1 27.9-9.4 41.9-14 22.5-35.4 46.8-53.15 56.4-9.69 5.3-17.05 6.2-22.71 3.4-5.67-2.8-12.14-10.9-16.34-29.5l-17.56 4c4.82 21.4 13.3 35.4 25.9 41.6 12.6 6.3 26.8 3.2 39.36-3.7 11.6-6.4 22.9-16.1 33.2-27.3-5.7 21.3-11.9 42.6-18.8 64 18.1 11.4 40.3 7.7 63 2.5 5-13.4 7.7-28.9 5.4-34.9-.4-.9-1.2-1.9-3.9-3.3-2.7-1.3-6.8-2.6-11.4-4-4.5-1.4-9.4-2.8-14.2-5.6-4.7-2.9-9.6-8-10.9-14.8-1.5-8.9 2.4-16.9 7.2-22.6 4.9-5.6 11-9.9 16.6-14 5.6-4.1 10.8-8 14-11.4 3.2-3.5 4.1-5.7 3.8-8.3v-.1c-.4-4.2-3.5-10.2-8.9-16.3-5.5-6.1-13-12.3-20.6-17.6-.2-.1-.4-.3-.6-.4zm202 65.6c-2.9 9.2-8.7 18.5-17.9 19.6-10.4 1-19.7-3.6-27.8-9.6-3-2.3-6-4.8-8.8-7.4 8.1 28.7 17.4 56.9 30.1 84.2 39.8 9.8 69.2 6.5 98 2.5-12.4-19-23.1-38.3-32.8-57.7 6.3-1.1 12.5-2.7 18.6-6 4.2 5 9.6 8.7 15 9.1 16.7 1.4 33-38.3 33-38.3s-17.9-5.1-33.4-5c-9.3 0-17.8 1.9-20.9 7.9-2.2 4-2 9.2-.4 14.2-6.5 1.4-13.2 1.6-19.9 1.4-2.6-5.5-5.1-11.1-7.5-16.6-14.3-9.3-20.2-13.7-25.3 1.7z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 락골렘아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="m227.7 25-57.9 57.96L183.4 151h145.2l13.6-68.04-32.8-32.84L282.5 64l16.3-24.53L284.3 25h-56.6zM195 88.44 240 111l-4 17h-41V88.44zm122 0V128h-41l-4-17 32-16.05 13-6.51zM154 109.1l-22 11 10.6 17.1-24.1-10.4L73 149.6v16l91.8-13.1-10.8-43.4zm204 0-10.8 43.4 91.8 13.1v-16l-81-40.5zm-152.4 60.1-63.3 4.7-6.6 1-9.2 62.3 50.2 25.1 44.5-14.8 5.6 17-51.5 17.2-44.4-22.2 20.4 84.5 95.7 13.6V196.8l-41.4-27.6zm100.8 0L265 196.8v160.8l95.7-13.6 20.4-84.5-23.8 11.9-19.6 38.6-18.8-34.2-33.7-11.3 5.6-17 44.5 14.8 50.2-25.1-9.2-62.3-6.6-1-63.3-4.7zm-189.6 8.4-61.32 8.7-30.04 40.1 3.64 25.5 25.38 10.4L33.09 280l6.47 45.3L103 312.7v-57.4l13.8-77.7zm278.4 0 13.8 77.6v57.4l52 10.4 13.7-13.7 11.9-82.9-30.1-40.1-28-4-4.2 17.9-9.9-19.9-19.2-2.7zM104.1 330.8 42.78 343l28 126 47.42-11.8-14.1-126.4zm303.8 0-14.1 126.4 22.6 5.6 7.9-25.8 17.8 28.1L469.2 343l-61.3-12.2zm-256 31.4L138.1 487h80.3l37.6-75.1 37.6 75.1h30.8l11.6-23 11.5 23h26.4l-13.8-124.8L256 377.1l-41.9-6-6.1 34.4-15.3-37.5-40.8-5.8z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 미노타우르스아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M110 18.906c-3.766 9.014-2.938 15.91-2.938 28.032 0 26.995 24.076 48.413 52.563 52.562 19.28 2.807 39.315 4.758 59.594 5.813-8.56 7.39-13.907 18.092-13.907 35.124 0 17.576 6.436 37.856 16.562 52.97 10.126 15.112 23.233 24.374 36.03 24.374 12.8 0 25.906-9.26 36.033-24.374 10.126-15.113 16.562-35.392 16.562-52.97 0-17.186-5.43-27.946-14.125-35.342 19.053-1.09 37.854-2.952 56-5.594 28.487-4.147 51.47-23.72 52.563-52.563.368-9.723-1.637-18.74-2.938-28.03-2.943 27.71-26.205 45.69-54.313 49.656-59.833 8.443-123.54 8.443-183.375 0-28.107-3.966-51.37-21.945-54.312-49.657zm79.78 99.313c-248.928 7.213-200.628 194.293-22.124 242.5 40.812-39.456-6.55-101.937-43.72-57.033-23.22-43.474-20.674-82.77 4.5-95.03 48.72 27.067 83.566 88.52 86.126 148.405-33.595 23.148-59.625 63.032-59.625 63.032l26.344 38.78-41.31 23.5h82.124c-40.513-40.52-11.77-86.093 36.22-86.093 48.645 0 74.12 48.22 36.248 86.095h81.282l-40.47-23.5 26.345-38.78s-26.458-40.502-60.44-63.564c2.744-59.716 37.52-120.887 86.095-147.874 25.176 12.262 27.722 51.557 4.5 95.03-37.168-44.903-84.53 17.578-43.72 57.033 178.5-48.206 226.788-235.28-22.124-242.5 2.054 6.73 3.158 14.17 3.158 22.218 0 21.95-7.423 45.024-19.72 63.375-12.295 18.35-30.17 32.656-51.562 32.656-21.392 0-39.266-14.306-51.562-32.657-12.296-18.352-19.72-41.426-19.72-63.375 0-8.048 1.105-15.488 3.157-22.22z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 가고일아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="m136.6 28.1 45.9 57.31c.4.42.5.48.9.5 14.3-4.99 24.8-22.15 29.8-35.94zm238.8 0-76.6 21.87c4.1 10.62 17.6 34.33 29.8 35.94.4 0 .5-.1.9-.5zM97.27 44.18C82.9 68.72 65.8 84.24 39 98.2 25 127.7 21.2 165 24.9 198.7c3 26.9 11.1 51.3 20.8 67.2.7-2.4 1.4-4.5 2-7.2 2.1-9.2 3.8-19.3 6.7-27.8 1.5-4.2 3.1-8.2 6.6-11.7 3.5-3.6 10.5-5.6 15.8-3.7 5.4 1.9 9.1 5.5 13.3 10.7 1 1.3 2.18 3 3.28 4.6 6.72-17.9 14.22-29.3 24.02-35.7 6.3-4.1 13.9-5.4 20.7-3.9 5.1 1 9.6 3.4 13.8 6.5 10.2-7.1 23-11.3 36.1-14-7-8.6-13.9-17-21.6-24.9l3.9-23.4c-17.4-9.2-34.8-19.4-52.6-30.8 1.8 7.2 3.1 14.6 3.3 22.3.5 16.4-4.2 33.9-18.1 50.6l-13.8-11.6c11.3-13.5 14.3-25.6 13.9-38.4-.2-8.6-2.3-17.6-5.1-26.9-13.18 13.1-33.69 31.7-49.9 32.1v-18c19.88-6.2 33.53-23.24 47.63-37.36l5.27-5.22 6.1 4.09c23.2 15.46 44.8 28.99 66.4 40.49l2.6-15.5c-29.7-14.7-58.8-33.46-78.73-57.02zm317.43 0c-19.9 23.56-49 42.32-78.7 57.02l2.6 15.5c21.6-11.5 43.2-25.02 66.4-40.49l6.1-4.09 5.3 5.22c10.2 9.63 34.1 36.76 47.6 37.36v18c-21.7-2.9-36.1-18.3-49.9-32.1-2.8 9.3-4.9 18.3-5.1 26.9-.4 12.8 2.6 24.9 13.9 38.4l-13.8 11.6c-13.9-16.6-18.6-34.2-18.1-50.6.2-7.7 1.5-15.1 3.3-22.3-17.8 11.4-35.2 21.6-52.6 30.8l3.9 23.4c-8.1 8.2-15.6 17.5-21.6 24.9 13.1 2.7 25.9 6.9 36.1 14 4.2-3.1 8.7-5.5 13.8-6.5 6.8-1.5 14.4-.2 20.7 4 9.8 6.3 17.3 17.7 24 35.6 1.1-1.6 2.3-3.3 3.3-4.6 4.2-5.2 7.9-8.8 13.2-10.7 5.4-1.9 12.4.1 15.9 3.7 3.5 3.5 5.1 7.5 6.6 11.7 2.9 8.5 4.6 18.6 6.7 27.8.6 2.7 1.3 4.8 2 7.2 9.7-15.9 17.8-40.3 20.8-67.2 3.7-33.7-.1-71-14.1-100.5-26.8-13.96-43.9-29.48-58.3-54.02zM247 55.23l-18.1 4.51c-4.3 9.23-10.2 18.75-16 25.72-5.5 6.58-11.5 12.34-18.7 15.84l-8.6 51.6c12.4 13.7 22 27 33 39.2l17.1-21.4H247v-11.9c-15.7-3.5-28.7-8.9-43.1-16.1l8.2-16c12.6 6.3 29 14.7 43.9 15 16.2-2.4 29.3-7.7 43.9-15l8.2 16c-14.1 6.4-28 13.3-43.1 16.1v11.9h11.3l17.1 21.4c11.5-12.4 22.2-27.2 33-39.2l-8.6-51.6c-7.2-3.5-13.2-9.26-18.7-15.84-6.8-8.5-11.9-16.85-16-25.72L265 55.23V91.7h-18zm-2.7 133.47-13 16.3c2.2 2.4 6.6 4.6 8.7 5.7h32c4.1-2.6 5.6-3.1 8.7-5.7l-13-16.3zm-43.1 10.9c-15.7 3.1-40.3 10.5-48.1 22.4 4.7 33.5 17.6 65.7 31.4 90.6l33.2 132.8-19.7 29.5 28-9.4 21 18.4v-39.1l-32-128c-3.2-19.9-1.3-45.6-13.4-58.7l12.8-12.8c17 17.1 18.6 43.8 18.6 61.4h46c0-17.6 1.6-44.3 18.6-61.4l12.8 12.8c-11.4 16.7-13.4 39-13.4 58.7l-32 128v39.1l21-18.4 28 9.4-19.7-29.5 33.2-132.8c12.5-30.5 30.1-62 31.4-90.6-13.7-14.7-31.9-19.8-48.1-22.4-6.2 7.2-12.3 13.9-18.4 19.2-6.1 5.2-11.9 9.9-20.4 9.9h-32c-8.5 0-14.3-4.7-20.4-9.9-6.1-5.3-12.2-12-18.4-19.2zM148 277.3c-10.1 6.9-29.1 16.4-28.9 26.4 7.9 47.7 33.3 87.6 47.3 101.6l9.6 9.7-52.7 21.1 32.2 1-9.8 22.8 29.6-8.3 9.8 10.2 13.2-19.8-30.8-123.2c-6.8-13.6-13.8-27.4-19.5-41.5zm216 0c-5.7 14.1-12.7 27.9-19.5 41.5L313.7 442l13.2 19.8 9.8-10.2 29.6 8.3-9.8-22.8 32.2-1L336 415l9.6-9.7c14-14 39.4-53.9 47.3-101.6-3-12-18.4-21.5-28.9-26.4zm-128.5 47.4 20.5 81.9 20.5-81.9z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 와이번아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M324.97 17.54c.03.034.057.07.087.106l-34.924 32.428 36.904-3.752-15.396 30.12 38.048-16.075c26.147 69.965.623 154.277-52.555 166.262-6.554-25.37-34.13-37.945-36.055-57.382.303.093.604.187.912.27a27.113 27.113 0 0 0 14.274-.07l25.138 22.89 20.653-16.377c-7.363 2.836-28.588-1.402-33.25-13.923a27.114 27.114 0 0 0 6.793-11.922c.485-1.813.757-3.635.86-5.445l11.524 22.777 5.22-16.94c7.625 5.575 12.474 13.605 11.49 21.136l16.673-29.4-72.14-29.56-58.057-48.03 17.1 31.25-48.206-19.753 35.14 31.237c-40.602 28.158-22.085 85.04-1.796 119.29-57.5-9.685-103.128-77.435-95.763-145.03l49.21-21.366-31.08-5.14 29.207-33.417-32.015 11.54c.037-.067.07-.135.107-.202-168.36 66.33-116.413 367-63.728 417.99-.19-1.317-.364-2.58-.54-3.855-14.922-56.244-20.375-125.624-17.5-190.53 3.02-68.237 14.834-131.16 36.794-169.522l16.22 9.283c-18.894 33.008-31.4 94.563-34.345 161.064-1.942 43.86.106 90.022 6.275 132.082 6.124 1.892 15.046 9.615 27.295 23.24-4.818-13.35-6.78-26.5-6.482-38.28 20.286 41.665 67.34 69.234 104.633 62.308 22.444-4.17 41.803-12.73 57.81-24.475l7.31 15.418c-20.068 5.036-22.807 32.635-14.737 55.112 1.748-19.882 11.36-29.794 21.73-32.303-6.598 15.867-4.698 30.623-3.117 44.158 10.15-12.147 21.47-23.793 23.628-39.354 8.738 7.332 12.317 21.49 1.194 39.057 26.32-15.473 31.565-41.994 7.978-57.685l-32.07-34.297c5.918-5.55 11.24-11.6 15.947-18.066l39.28 15.776c-3.942 13.69 5.833 31.512 19.77 43.31-8.055-17.288-4.826-30.08 2.562-37.103 1.63 17.39 10.64 29.193 18.733 40.064 2.73-15.665 6.79-31.493-.213-45.987 11.016 1.56 21.2 11.568 20.338 31.877 14.362-25.313 6.11-49.702-20.742-51.52l-71.135-9.892c12.757-22.982 18.676-49.823 17.015-77.475 14.188-34.708 50.058-11.816 54.523 49.16C394.924 262.27 434.58 304 426.324 367.13c11.808-23.38 21.835-35.013 29.862-36.247-10.772-91.925-40.458-191.57-77.637-250.748l15.823-9.942c50.328 80.106 85.112 220.65 84.88 331.547 42.403-115.912-2.347-356.61-154.282-384.2zm-29.458 476.913-.026.016-.015.05c.015-.02.027-.044.042-.067zm26.543-318.492h.01v-.007l-.01.008zm-53.348-41.716a9.127 9.127 0 0 1 2.652.313c4.774 1.28 7.467 5.945 6.187 10.72-1.28 4.776-5.943 7.47-10.72 6.19-4.775-1.28-7.468-5.943-6.188-10.72.96-3.584 3.823-5.993 7.21-6.435a8.66 8.66 0 0 1 .857-.068zM204.904 297.13c11.878-.2 22.637 6.756 26.172 22.487-.008 35.88-9.557 68.823-42.137 77.412-27.624 7.283-69.725-11.398-84.12-53.663 12.28-21.078 37.362-21.986 62.838 22.592-12.583-41.596 14.386-68.444 37.246-68.83z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 아이스골렘아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M64.086 26.254c-6.237 39.87-10.003 32.572-38.703 36.922 26.282 3.712 39.417 8.81 38.193 37.176 2.659-19.972.836-30.862 36.156-36.666-15.822-6.064-33.712 4.317-35.646-37.432zm171.064.41L204.6 74.125l20.066 14.436 35.813-1.82 22.677-15.118-25.306-43.582-22.7-1.377zm58.313 26.863 34.135 58.787-3.514 4.756c-8.857 11.988-15.901 23.926-26.307 34.877l26.118 38.395-4.485-31.547 42.602-93.592-68.55-11.676zm-102.906 9.159-56.166 16.63 10.02 19.877-18.005 28.631 31.244-2.363 16.258 32.252 5.51 83.332 34.289 33 14.793-60.986 46.986 66.673 55.434-39.97-1.518-10.672-.629.428-44.134-64.881-7.352 74.902-80.46-78.674.273-.281a85.007 85.007 0 0 1-6.385-8.314c-10.292-15.21-16.606-32.339-23.592-43.815l-2.93-4.812 26.364-40.957zm182.916 20.789-27.828 61.136 31.628 21.692 31.745 93.63c-14.946-3.888-30.64 2.536-32.446-36.415-6.236 39.87-10.003 32.57-38.703 36.92 26.282 3.712 39.42 8.81 38.195 37.175 2.589-19.446.944-30.28 33.457-36.195l7.372 21.74 7.736-70.28 46.723 27.222-24.922-83.52-31.106 7.588-4.265-17.488 58.337-14.227c-7.958-4.17-10.582-5.507-21.425-11.27-10.758-5.716-21.643-11.558-30.147-16.253-4.252-2.348-7.9-4.404-10.703-6.053-.857-.505-1.495-.91-2.2-1.344l-31.448-14.058zm-81.262 3.744-23.477 15.65v10.342h-18v-7.953l-16.56.842.754 8.283L217 116.012l-1.049-11.547-21.107-15.184-9.56 14.854c7.03 12.719 12.763 26.851 20.34 38.049 8.34 12.328 17.659 20.674 34.343 21.978 21.412-5.759 33.462-13.368 42.847-22.656 8.386-8.3 15.088-18.692 23.342-30.272L292.211 87.22zm-171.633 4.687L72.611 106.41l-3.324 38.537 13.43 8.631c-48.664 60.418-1.867.866-47.516 60.793l75.274-56.168 9.484 15.299L63.822 208.3l-5.527 64.074 41.072-28.842 11.117 25.617 31.87-102.539 10.503-10.666-5.859-11.627-54.834 4.149 31.596-50.25-3.182-6.31zm123.963 30.412c1.995.03 3.956.157 5.863.368 13.566 1.499 24.743 5.851 31.79 13.085l-12.895 12.56c-1.294-1.33-11.018-6.666-20.871-7.755-9.853-1.089-19.496.729-26.295 8.057l-13.196-12.242c8.706-9.383 20.047-13.244 30.897-13.955a58.083 58.083 0 0 1 4.707-.118zm21.063 51.987c-6.368 2.817-13.521 5.33-21.64 7.478l19.075 18.65 2.565-26.128zM439.49 242.37l-8.05 73.15c.82-.779 1.713-1.807 2.726-3.195 4.278-5.86 9.527-17.238 18.947-30.896l3.041-4.409 5.325.569c7.072.756 12.796 2.553 17.478 4.494l-10-22.545-29.467-17.168zm-201.03 16.067-2.494.204-12.156 50.109-24.1-23.193 26.346 42.152 41.062-19.115 15.66 27.707 44.032-9.846 6.101-37.865-3.775-25.35-57.881 41.737-32.795-46.54zm-146.662 12.87-.93.19-41.486 29.132-5.75 22.115 38.984-22.586 25.756 23.113.512-12.597-17.086-39.367zm82.078 6.879-45.77 107.558 9.182 41.313 17.697-53.094 16.582 47.125 10.842-13.99 7.696-19.975c38.884 7.55 31.602 11.181 34.92 39.856 4.635-26.136 10.192-39.084 38.497-36.862-19.866-3.36-30.814-1.923-35.37-37.426-6.58 15.513 2.999 33.633-37.993 34.29l19.72-51.19-36.003-57.605zm176.457 15.433-7.691 47.74-39.034 8.729 32.791 19.484 5.99 49.994 22.903-34.087 29.022 44.11 7.892-66.1-51.873-69.87zm99.283 12.774c-6.236 39.87-10.003 32.57-38.703 36.92 26.282 3.712 39.417 8.81 38.193 37.175 2.659-19.972.838-30.861 36.159-36.666-15.823-6.063-33.714 4.32-35.649-37.43zm-84.48 111.597-24.555 36.547-2.822 33.858 127.039 1.876 19.959-44.076-35.29 19.82-11.573-21.216-14.118 12.605-14.498-1.318-2.931 24.545-41.211-62.64zm-173.678 6.819-25.904 33.421-10.108-28.724-20.05 60.15h57.01c-2.998-20.407-2.653-42.363-.948-64.847zm-111.969 4.84-12.275 60.007h65.545l-7.776-34.988-23.048 10.477-22.446-35.497z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 노움아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M310.38 45.636c-9.318-.052-18.512 2.665-28.403 5.281-27.068 10.089-57.949 26.648-82.272 47.096-20.38 17.133-35.754 36.84-41.664 57.297 61.478 5.096 117.748 4.42 158.254-12.21.448-1.259.78-2.417.926-3.423.419-2.906.137-5.268-1.6-9.012-3.474-7.488-13.873-19.42-33.64-38.91L268.16 78.13c16.472.08 34.273 2.322 49.448-6.807 10.23 18.877 27.251 36.194 51.028 44.235l7.058 1.302-.533 7.159c-.806 10.825 4.38 26.04 13.35 38.644 8.969 12.605 21.482 22.368 32.81 24.777 8.767 1.865 12.916.17 15.387-2.628 2.471-2.799 4.141-8.659 2.498-17.893-1.484-8.337-6.187-18.847-13.066-27.385-6.302-7.663-17.219-15.5-29.028-17.836-4.992-10.67-8.123-20.97-16.092-32.236-5.262-7.44-12.106-12.888-17.716-17.856-5.957-5.274-11.665-8.728-19.623-9.564l-3.717-.39c-5.942-8.83-11.227-12.31-23.104-15.503a43.11 43.11 0 0 0-6.48-.513zM53.597 113.335l2.465 19.068-10.213-1.236c-5.617-.68-10.122.648-15.918 3.875-2.373 1.321-5.01 3.154-7.72 5.053 7.12 3.343 13.025 7.624 18.753 12.152l7.527 5.951-23.258 20.436c14.207.979 28.99.123 41.77-4.031l16.355-33.33c-2.892-13.892-7.856-19.159-14.42-22.71-4.169-2.255-9.55-3.72-15.341-5.228zm43.521 37.82-2.52 3.532-12.25 24.966c9.795 5.098 17.447 11.9 23.844 19.344.793-.646 1.59-1.283 2.385-1.924l23.338-29.781c-10.205-6.51-21.295-12.156-34.797-16.137zm218.526 9.285c-35.016 12.65-77.309 15.133-122.956 13.13l28.868 14.552c-2.06 6.376-5.969 13.577-8.723 16.613-12.392 14.26-26.562 30.545-37.717 46.844-9.15 13.37-15.92 26.67-18.467 38.067 54.092-11.71 76.69-36.082 92.766-54.782 1.282-4.105 1.217-6.976.307-7.388-3.052-1.383-12.193-5.436-15.326-3.596-1.36.894-3.93 3.476-8.038 6.906l-5.127-6.14-5.128-6.141c3.347-2.796 5.685-5.486 9.505-7.996a18.743 18.743 0 0 1 3.387-1.73c1.895-17.264 17.856-27.07 38.483-34.403 6.743 8.043-1.684 23.168-10.67 38.555a20.959 20.959 0 0 1 3.798 2.906c22.958-6.055 46.58-15.033 70.184-26.547zM149.64 170.612l-27.641 35.276c16.033 9.61 34.28 15.341 54.053 17.656 5.254-6.612 10.627-13.003 15.845-19.074-7.212-7.018-12.44-15.46-6.949-31.274-11.592-.628-23.38-1.515-35.308-2.584zM341.73 201.8c-25.157 12.563-50.668 22.56-75.722 29.33-.572 4.388-.14 9.15-2.494 11.904-3.357 3.921-7.17 8.302-11.616 12.897 19.098-1.767 36.55-6.013 53.059-17.555l17.486-12.227-15.181 61.19-2.125 1.693c-6.971 5.556-14.696 12.954-27.825 17.455-13.128 4.502-30.973 5.99-58.976 2.256-12.33-1.644-21.585-6.515-28.844-12.09-11.758 4.413-25.177 8.152-40.61 10.819l-9.167 1.584-.194-9.303c-.399-19.284 9.669-38.62 22.391-57.209.95-1.388 1.92-2.77 2.902-4.148-19.972-3.463-38.625-10.393-55.355-21.317-.489.411-.991.817-1.477 1.229-11.345 9.629-21.632 19.608-29.433 28.021 2.012-.303 4.025-.73 6.017-.933 9.312-.953 18.347-1.061 26.297 3.072l10.06 5.23-8.302 7.725c-10.179 9.47-18.793 21.013-24.135 32.017a64.53 64.53 0 0 0-4.724 13.245c.907-.702 1.446-1.13 2.379-1.832 6.08-4.578 12.492-9.116 19.527-11.569l15.787-5.504-5.617 15.746c-4.044 11.338-8.326 20.603-10.125 28.748-1.081 4.895-1.305 9.342-.408 14.073l19.683-17.092 2.016 14.637c2.084 15.135 1.687 23.511 5.369 33.355l28.951-32.08-5.347 28.072c-3.465 18.189-1.675 33.124 3.558 46.578l26.764-37.74 4.324 16.637c3.598 13.84 8.618 22.583 13.967 27.465 3.207 2.927 6.601 4.598 10.447 5.426-.302-4.512-.218-9.194.96-13.899 1.044-4.18 3.021-8.476 6.653-11.822 3.633-3.346 8.781-5.31 14.325-5.492 7.782-.256 14.666 3.124 19.656 7.709 4.99 4.585 8.583 10.27 11.728 16.033 3.006 5.506 5.732 11.137 8.211 16.02 4.561-12.289 8.072-26.23 7.106-34.956l-1.178-10.638 10.537 1.882a55.702 55.702 0 0 1 10.7 3.024c11.467-15.501 26.687-22.646 42.558-23.375a61.089 61.089 0 0 1 7.45.117l.718.055.695.181c4.01 1.048 7.483 2.585 10.483 4.414 2.364-21.315-.921-41.822-9.424-61.617l-4.695-10.927 11.892-.229c4.364-.084 8.706.453 12.848 1.732-4.36-14.75-11.9-28.347-25.121-43.296l-12.623-14.272 19.027.982c7.922.41 14.675 2.606 20.89 5.762-8.372-20.773-22.018-40.953-36.703-57.193zm52.293 26.637c-3.466.013-7.346.488-11.753 1.445 8.48 14.744 15.092 30.61 18.437 46.816l1.023 4.961c4.237 2.235 7.973 5.117 11.362 8.354 10.553-9.531 21.848-15.553 33.135-19.776-12.72-15.462-22.502-28.283-31.58-34.818-5.545-3.991-11.085-6.486-18.303-6.92a36.348 36.348 0 0 0-2.32-.062zm-96.728 32.628c-17.441 7.915-35.582 10.498-53.586 11.512-3.664.207-7.33.35-10.996.469-7.27 5.534-15.712 10.973-25.637 15.951 3.73 1.828 8.02 3.173 13.373 3.887 26.564 3.541 41.743 1.874 51.674-1.531 8.947-3.068 14.31-7.772 20.922-13.159zm164.213 21.036c-14.715 4.275-28.192 10.127-40.738 22.687-4.802 6.584-6.388 17.955-4.686 29.91.802 5.634 2.354 11.272 4.234 16.422.703-1.904 1.36-3.727 2.096-5.637 3.163-8.214 5.74-15.975 12.217-21.558l7.226-6.229 15.502 26.073c5.61-7.624 8.115-15.383 7.03-24.061l-1.897-15.168 27.297 14.285c-1.538-5.592-3.218-11.082-5.51-16.013-4.543-9.776-10.533-17.097-22.771-20.711zM117.619 383.3c-.573.242-1.172.505-1.816.814-3.998 1.917-9.064 5.017-13.684 8.815-7.746 6.368-13.519 14.13-14.25 21.6 10.643 5.345 23.6 6.574 39.8 3.036l11.972-10.783a99.458 99.458 0 0 1-1.213-12.361l-9.334 10.344-5.555-9.291c-2.582-4.32-4.48-8.326-5.92-12.174zm229.233 8.683c-10.095.192-18.547 3.52-26.334 12.18 6.737 3.32 12.26 8.251 15.714 14.633l32.069-9.824c-1.942-3.482-3.428-6.608-5.135-9.02-2.544-3.595-5.11-6.04-11.426-7.816-1.665-.108-3.307-.183-4.888-.153zm32.63 30.3-39.558 12.116.756 15.854c20.111 10.811 34.371 12.924 45.674 11.973 9.267-.78 16.834-3.7 24.482-6.48-1.872-4.972-5.795-10.144-11.402-15.667-5.82-5.731-13.041-11.528-19.952-17.797zm-299.336 6.275c-16.44 4.695-23.595 9.8-28.923 15.449-3.604 3.82-6.604 8.496-10.537 13.633 11.417 4.481 24.194 7.892 36.373 8.588 14.967.854 28.494-2.2 38.918-11.319l4.505-19.974c-14.946 1.66-28.56-.35-40.336-6.377z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 페어리아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M192.83 24.426c-14.71 1.688-27.402 8.33-38.143 17.437 21.23 13.037 42.044 30.898 61.172 49.701 11.727 11.528 22.782 23.42 32.816 34.805a3002.84 3002.84 0 0 1 7.532-13.092c-4.309-38.254-34.612-87.21-63.377-88.851zM71.886 46.303c-28.61 18.45-40.203 39.995-42.605 63.398-.15 74.543 63.687 152.073 122.455 179.155-28.275 12.217-60.633 32.6-76.461 55.98-11.387 19.032-10.034 31.734 7.072 40.14 34.057 16.282 67.59 8.121 96.186-7.785-7.344-3.524-14.805-7.242-22.362-10.962 44.88-10.627 66.885-45.326 91.797-75.745.059-6.436.504-13.327 1.325-20.502a43.516 43.516 0 0 1-5.502 1.524c-6.904 9.334-14.834 17.74-24.063 24.5 2.14 10.716-3.044 22.63-12.478 30.2-12.624 10.126-31.187 11.141-41.143-1.268-9.956-12.41-4.94-30.31 7.684-40.438 10.637-8.535 25.492-10.597 35.861-3.607 3.691-2.802 7.176-5.973 10.478-9.44-19.17-5.932-51.374-15.938-56.818-34.84-1.342-4.912.81-12.057 5.219-15.408 37.102-28.196 54.783-52.147 70.605-78.478-10.657-12.265-22.785-25.439-35.896-38.327-32.68-30.98-92.798-81.056-131.354-58.097zm381.455 1.342L438.308 71.58l-27.53-6.406 18.12 21.693-14.598 24.201 26.229-10.527 18.508 21.361-1.908-28.199 26.035-10.998-27.409-6.9zM286.636 97.768c-31.881 49.744-43.506 88.443-104.685 135.77 13.843 12.594 33.702 21.043 51.474 21.064 8.487-.088 14.172-2.306 17.625-7.059 11.48-15.8 15.656-39.606 21.385-62.818 5.73-23.213 13.931-47.302 37.625-58.055 20.1-5.935 38.659 2.736 55.143 11.6 1.529-4.12 2.463-8.88 2.365-13.694-1.157-34.505-68.383-40.598-80.932-26.808zm139.784 22.289-20.05 73.98c6.298-.42 12.578 1.362 17.339 4.834l20.084-74.107zM317.498 143.06c-14.519 6.588-20.98 21.077-26.16 40.449 3.481 7.099 8.888 12.376 15.466 14.648 15.531 5.364 35.634-6.645 43.217-30.035 1.783-5.5 2.636-10.925 2.711-16.08-9.606-5.248-25.954-13-35.234-8.982zm-31.526 63.002c-3.265 14.198-7.083 29.01-14.289 42.363-2.701 12.403-4.405 24.449-5.086 35.013 13.039 7.148 29.31 10.761 42.942 8.446 12.331-11.85 28.684-27.948 27.936-43.933-.553-8.697-5.006-20.166-7.471-33.02-17.208 4.562-31.691 2.43-44.032-8.87zm110.436 16.447c-2.267 7.933 1.41 14.15 6.047 15.29 4.637 1.141 11.153-2.568 13.42-10.501 2.267-7.934-1.412-14.152-6.05-15.293-6.508-.905-12.2 6.554-13.417 10.504zm-7.584 28.603c-3.453 9.805-7.315 19.06-14.48 28.305-6.839-6.749-12.912-14.547-18.268-22.84-1.097 7.625-4.754 14.066-8.518 19.486 9.168 11.889 17.428 19.544 28.23 28.495 14.257-13.76 24.77-32.23 30.587-48.825-6.38.516-12.674-1.153-17.551-4.62zm-203.77 47.426c-6.589 5.286-7.21 12.266-4.908 15.135 2.302 2.869 9.251 3.776 15.84-1.51s7.208-12.266 4.906-15.135c-4.943-4.1-11.831-1.63-15.838 1.51zm77.295 2.97c-14.904 18.19-31.895 45.95-63.98 65.055 41.127 18.595 78.3 29.021 104.463 28.729 5.59-28.393 8.762-56.945 1.767-84.805-15.255.425-29.374-2.567-42.25-8.978zm-42.006 93.89c-5.72 9.016-12.532 17.725-20.484 25.923-7.492-4.257-15.117-8.599-22.982-12.527l-8.043 16.103c5.532 2.764 11.165 6.01 16.927 9.397-18.288 15.027-41.164 27.595-69.029 36.078l5.242 17.22c32.565-9.913 59.247-25.254 80.239-43.76 22.665 10.31 42.29 18.374 63.117 17.056 13.743-12.908 22.215-31.465 27.238-47.662-5.966-.39-12.177-1.172-18.598-2.307-4.06 11.875-9.111 24.142-16.455 32.252-13.847-.06-27.48-5.597-41.437-12.895 8.378-9.091 15.57-18.736 21.595-28.718a386.01 386.01 0 0 1-17.33-6.16z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 그리핀아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M219.756 18.604c4.052 15.357 3.397 24.041 25.824 32.28-11.984 2.437-17.24 4.507-36.502-4.966 3.663 15.35 4.19 26.554 30.022 29.95-12.1 29.8-9.43 68.721 6.771 101.05C202.175 135.722 175.955 26.476 180.8 19.01c-16.578 15.218-29.301 30.44-38.373 51.594-17.433 59.912-22.848 130.145 11.465 186.052 18.791 24.069 46.468 35.866 82.117 25.237-19.815 21.2-61.112 22.051-60.274 51.793-23.867.12-62.388 50.074-80.752 28.255-17.04-20.245 42.624-48.484 36.143-74.14-4.908-19.427-42.686-26.202-70.23-49.643 7.915-29.149-15.428-39.194-40.99-45.695 12.544 14.59 14.274 38.384 8.67 52.271.993.497 13.347-1.809 17.945 2.08 19.335 16.358 78.757 33.365 61.193 52.356-21.627 23.384-54.648 50.988-38.718 75.239 18.849 28.694 75.356 19.427 105.27-3.641-.646 21.619-16.875 46.225-47.435 52.722-11.366 1.646-5.19 37.526-33.92 56.473 5.498 4.408 31.43 21.09 38.424 16.185 16.572-11.619 36.787-25.491 61.875 1.211-7.23-29.056-14.994-37.351-56.01-30.507 8.758-9.139 37.773-18.964 55.918-10.903 54.972-19.776 31.988-37.868 66.926-72.05 30.825 9.253 22.75 44.758 43.98 56.726 29.066-5.264 44.414-10.73 51.756-2.137 7.306 9.274 11.514 11.72 29.24 11.084 11.7 2.646 23.577 15.721 2.686 33.266 40.79-5.645 37.187-35.145 10.467-53.123 8.726-30.173 36.299-6.263 48.135 3.957-6.592-41.814-51.232-51.059-69.44-16.371-11.71-8.922-21.316-18.63-40.031-20.047 3.35-27.712-1.264-36.928-8.512-55.35 15.492-14.416 27.208-27.594 37.441-44.102 37.842 7.222 90.616 15.978 79.995 51.612 40.211-42.77-8.803-40.885-4.623-54.281 4.071-13.05 30.22-16.567 39.304 4.453 4-40.592-44.39-41.118-52.69-21.375-19.237-.065-27.955-9.57-43.263-19.854a159.814 159.814 0 0 0 6.06-26.912c16.883-4.655 34.953-7.128 49.891-20.533 25.367 9.855 42.736-4.934 42.174-27.07 0 0-32.033 35.189-33.7-1.795-.681-15.082 18.625-29.18 43.183-13.656-17.624-40.296-63.094-24.75-62.852 16.8-15.843 7.322-28.376 7.113-41.28 2.614-10.32-30.437-43.035-39.44-60.757-52.116-10.889-7.788 9.06-25.721 27.973-17.61 18.912 8.11 36.923-1.29 45.836-10.24-26.242 2.808-48.716-14.667-48.141-17.93.6-3.41 29.811-7.592 51.326 5.825-1.565-34.591-30.833-35.783-52.08-37.105-18.792-34.937-43.299-38.584-71.062-24.748-19.344-1.381-43.732-6.665-61.303-15.277zM85.154 25.355a2.007 2.007 0 0 0-.265.604c.09-.202.174-.402.265-.604zm-.265.604c-43.453 96.534-16.103 179.77 41.088 215.559-20.947-50.153-17.93-106.467-5.967-156.57-19.158-25.464-36.877-52.809-35.121-58.989zm221.45 17.627c1.756 0 29.795 15.652 29.795 15.652l-23.078 3.16z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 하피아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M70.25 25.156c-9.534.026-19.4.69-29.594 2.063 37.04 18.14 77.455 39.872 103.656 77.093-42.086-18.35-90.85-15.685-124.187 6.812 38.56 4.19 82.368 10.888 113 45.313C89.588 159.524 49.492 182.046 29.78 215c37.55-12.856 81.306-25.936 124.626-5.844-34.405 19.978-56.927 56.212-57.47 90.97 23.575-27.027 44.39-42.424 87.94-51.188-13.29 32.114-14.62 66.87 1.343 95.53 4.972-25.352 11.62-53.844 32.78-74.218 15.704 34.76 17.93 62.692 9.906 93.406-.007.043-.024.083-.03.125-.998 6.035-2.967 11.853-5.69 17.345-.012.03-.016.063-.03.094-.126.252-.246.497-.375.75-10.12 21.077-38.94 45.172-62.686 37.342-30.43-10.034-10.885-61.85 34.5-30.78 5.253-5.17 9.495-11.027 12.344-17.063-38.38-32.647-85.48-12.166-91.125 18-14.53 77.672 99.637 84.122 143.656-5.94 19.15-39.18 27.615-72.167 29.53-112.686 20.68 20.33 27.264 48.52 32.188 73.625 15.963-28.662 14.6-63.418 1.312-95.533 43.55 8.765 64.364 24.162 87.938 51.188-.542-34.757-23.064-70.99-57.47-90.97 43.32-20.09 87.077-7.01 124.626 5.845-19.71-32.954-59.807-55.475-103.344-58.563 30.632-34.424 74.44-41.122 113-45.312-33.337-22.497-82.1-25.16-124.188-6.813 26.203-37.217 66.619-58.95 103.659-77.09-10.196-1.375-20.06-2.038-29.595-2.064-66.735-.178-117.07 30.86-148.438 67.47-26.07 30.428-19.924 66.023 3.157 71.968C323.5 172.43 323.967 203.41 296.97 232c-.007.012-.027.02-.033.03-7.724 17.173-23.107 29.345-41.718 29.345-16.34 0-30.196-9.374-38.564-23.28-33.125-30.134-35.02-65.104-1.094-73.5 23.08-5.946 29.196-41.54 3.125-71.97-31.367-36.608-81.702-67.647-148.437-67.47zM255.22 170.75c-14.788 0-28.407 15.146-28.407 35.97 0 20.82 13.62 35.968 28.406 35.968 14.785 0 28.405-15.147 28.405-35.97 0-20.822-13.62-35.968-28.406-35.968zM368.5 339a52.53 52.53 0 0 0-11.438 1.28l38.188 28.595c-18.614.916-38.706 9.088-55.438 25.03 26.763-6.42 67.554-9.593 85.97 23.25a43.842 43.842 0 0 1 1.624 11.283c.19 13.188-5.824 26.105-14.344 34.625-11.354 11.355-34.622 13.454-63.468 4.656-28.268-8.623-60.507-27.193-87.875-52.314a171.732 171.732 0 0 1-12.126 14.25c29.224 26.708 63.134 46.362 94.53 55.938 32.224 9.828 63.248 9.598 82.157-9.313 11.968-11.965 20.086-29.24 19.814-48.092a59.904 59.904 0 0 0-.875-9.25c.672-45.095-40.392-80.024-76.72-79.938z" fill="#fff" fill-opacity="1"></path></g></svg>'

        //보스추가
        const 보스데이터목록 = [
            { 이름: "그루트", 아이콘: 그루트아이콘 },
            { 이름: "아이스골렘", 아이콘: 아이스골렘아이콘 },
            { 이름: "페어리", 아이콘: 페어리아이콘 },
            { 이름: "그리핀", 아이콘: 그리핀아이콘 },
            { 이름: "하피", 아이콘: 하피아이콘 },
            { 이름: "노움", 아이콘: 노움아이콘 },
            { 이름: "와이번", 아이콘: 와이번아이콘 },
            { 이름: "락골렘", 아이콘: 락골렘아이콘 },
            { 이름: "미노타우르스", 아이콘: 미노타우르스아이콘 },
            { 이름: "가고일", 아이콘: 가고일아이콘 },
        ];

        //던전아이콘
        const 던전아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 256px; width: 256px;"></path><g class="" transform="translate(0,0)" style=""><path d="m193.571 26.027 35.192 83.99c14.877 7.658 33.121 6.696 47.488-1.279l40.283-85.976c-45.582-7.268-84.512-4.945-122.963 3.265zm137.3 7.606-32.038 71.38c12.536 12.349 37.237 18.872 47.033 15.448l31.172-64.691c-12.422-8.392-27.428-15.886-46.168-22.137zm-154.86-1.97c-21.814 6.55-40.982 16.35-56.099 28.591 14.941 15.844 28.861 34.184 38.194 52.832 24.477 6.133 35.479-6.849 47.475-18.55zm-74.245 34.831c-36.541 32.91-66.523 76.42-78.068 125.215l65.957 3.353c12.006-30.53 24.552-56.284 54.231-72.755-9.883-20.24-23.626-39.403-42.12-55.813zm292.503-.29-31.852 61.044c32.54 21.007 43.572 41.348 52.597 69l72.464-8.43c-9.612-55.894-42.206-107.047-93.209-121.614zm-52.233 137.2c4.757 12.937-15.842 29.7-9.07 39.428-4.011.85-8.874 1.642-14.385-8.957-1.126 12.49 2.172 19.603 12.168 29.209-2.682.783-8.045 2.75-12.08.566-1.24 7.386 10.867 13.863 20.725 14.832l8.392-2.175c-6.09-1.106-7.881-3.315-10.627-6.13 2.97-1.32 12.554-7.117 2.149-14.751 12.634-2.752 6.035-14.89 4.14-21.862 7.525 7.798 15.243 22.54 21.862 7.084 4.176 12.604 6.561 12.12 13.614 9.107 1.054 9.196-2.957 14.791-8.792 22.518l12.494-4.992c6.018-5.026 20.16-25.502 6.428-35.5 2.603 12.443-5.563 14.388-18.672-10.937-4.377 30.773-12.236-7.49-28.346-17.44zm-321.668 2.108v66.242l72.842-11.858 1.592-49.873zm143.486.363c3.732 8.72-14.487 45.226-18.865 14.453-13.109 25.325-23.908 24.26-21.304 11.817-13.732 9.998-1.347 33.458 4.671 38.484l11.229 3.001c-5.835-7.727-11.565-13.614-10.512-22.81 7.053 3.013 10.492 5.604 14.668-7 6.618 15.456 17.32-4.378 24.846-12.175-1.554 11.494-6.282 22.427 7.303 25.197-9.13 10.082 1.899 19.99-12.694 22.812l8.393 2.176c9.857-.97 20.385-10.606 19.144-17.992-4.035 2.183-7.818 3.376-10.5 2.594 9.996-9.607 10.662-21.46 9.536-33.95-5.511 10.6-7.917 11.738-11.752 13.698 6.77-9.728-5.927-32.285-14.163-40.305zm327.512 1.172-77.57 5.687 1.156 79.192 75.524 2.842zM98.313 279.81l-79.955 9.779 1.202 99.754 83.54 1.152zm280.659 7.347-28.332 7.031 21.455 68.315 16.125-5.043zm-246.961 3.348-9.248 70.303 16.125 5.043 21.455-68.315zM412.269 310.3v83.58l79.166-8.031 2.289-75.55zm84.605 91.656-88.934 9.947-1.16 80.727 90.674.586zm-395.822 2.002-81.848 2.322-4.658 86.184h90z" fill="#fff" fill-opacity="1"></path></g></svg>`

        //악세아이콘
        const 수직고리 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M331.924 20.385c-36.708.887-82.53 60.972-116.063 147.972h.003c30.564-65.57 71.17-106.39 97.348-99.378 28.058 7.516 37.11 69.42 24.847 148.405-.895-.32-1.773-.642-2.672-.96.893.367 1.765.738 2.65 1.106-2.988 19.215-7.22 39.424-12.767 60.12a597.023 597.023 0 0 1-8.936 30.14c-24.996-3.82-52.374-9.537-80.82-17.16-105.856-28.36-186.115-72.12-179.307-97.53 4.257-15.884 42.167-23.775 95.908-20.29-74.427-8.7-128.912-2.044-135.035 20.803-9.038 33.73 89.168 89.372 219.147 124.2 24.436 6.55 48.267 11.897 70.918 16.042-28.965 75.878-68.293 126.078-96.653 118.48-21.817-5.85-35.995-45.443-36.316-100.206-4.79 75.476 9.278 131.945 40.66 140.356 38.836 10.407 91.394-54.998 127.896-152.98 80.12 10.74 138.958 4.278 145.38-19.682 6.384-23.82-41.025-58.44-115.102-89.03 20.713-109.022 8.483-198.5-31.96-209.34a32.105 32.105 0 0 0-9.124-1.07zm40.568 213.086c44.65 22.992 71.146 47.135 67.07 62.348-4.055 15.13-38.104 20.457-87.333 16.303a683.98 683.98 0 0 0 9.63-32.663 677.026 677.026 0 0 0 10.632-45.986z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 유비소프트태양 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M194.53 19.656 181.47 62.25l27.624 6.563 19.5-17.5-34.063-31.657zm125.94.063-32.626 30.343 20.656 19.5 25.625-5.407L320.47 19.72zm-64.94 59.405a174.189 174.189 0 0 0-42.468 5.938c-93.08 24.94-148.472 120.887-123.53 213.968 7.604 28.38 21.823 53.248 40.53 73.408.176.252.355.498.532.75l.094-.063c42.67 45.493 108.4 66.657 172.78 49.406C396.55 397.59 451.942 301.676 427 208.595 406.735 132.964 339.604 82.24 265.22 79.25c-3.22-.13-6.447-.175-9.69-.125zM85.47 82.563 95.437 126l27.218-8.156 8.125-24.875-45.31-10.407zm344.03.187-43.47 9.97 8.158 27.218 24.875 8.124L429.5 82.75zm-170.72 15c1.93.004 3.865.05 5.783.125 66.473 2.61 126.234 47.86 144.375 115.563 22.327 83.325-26.957 168.735-110.282 191.062-57.286 15.35-115.544-3.167-153.625-43.313l-.03-.03c-7.722-11.214-13.966-23.47-18.406-36.313-24.473-70.782 10.592-153.698 82.937-178.5 60.946-20.893 132.18 9.025 153.22 70.75 17.63 51.725-8.105 112.282-60.938 130.125-44.027 14.868-95.41-6.862-110.343-51.376-12.367-36.86 6.033-79.954 43.624-92.438 30.914-10.267 66.952 5.034 77.22 36.188 8.03 24.378-3.386 52.733-27.127 62.437 10.773-10.378 15.78-26.178 11.657-41.56-5.275-19.686-23.813-32.462-43.438-31.314-2.803.164-5.657.59-8.47 1.344-22.494 6.028-35.964 29.41-29.936 51.906a42.194 42.194 0 0 0 2.75 7.406c.022.052.04.106.063.157.07.145.145.29.218.436 11.972 26.708 41.876 39.625 69.876 30.5 36.25-11.814 53.642-52.3 42.156-87.156-13.713-41.614-60.582-61.476-100.875-48.094-47.956 15.927-70.97 69.85-55.437 116.156 18.427 54.928 80.65 81.133 134.063 63.094 63.153-21.328 93.476-92.667 72.625-153.844-19.966-58.576-77.885-92.29-136.625-89.937a141.913 141.913 0 0 0-40.344 7.53c-56.145 19.25-92.422 68.7-101.22 123.595.602-68.348 46.356-130.556 115.656-149.125 13.67-3.663 27.38-5.402 40.875-5.375zM66.876 177.938l-44.438 13.625 30.344 32.656 19.5-20.657-5.405-25.625zm382.906.812-6.56 27.625 17.5 19.5 31.686-34.063-42.625-13.062zm-193.155 69c10.227.247 19.356 7.11 22.156 17.563 3.415 12.74-3.98 25.586-16.717 29-11.147 2.986-22.387-2.31-27.313-12.22a44.435 44.435 0 0 1-1.28-3.468l-.126.03a23.72 23.72 0 0 1-.313-1.092c-3.412-12.74 4.013-25.587 16.75-29a24.442 24.442 0 0 1 4.782-.782c.69-.042 1.38-.046 2.063-.03zM54.03 283.47 22.376 317.5l42.594 13.094 6.56-27.656-17.5-19.47zm407.94 1.655-19.5 20.656 5.405 25.626 44.438-13.656-30.344-32.625zM95.686 381.25 85.28 426.594l43.44-9.97-8.157-27.218-24.876-8.156zm323.625 2.094-27.218 8.125L384 416.374l45.313 10.406-10-43.436zm-213.03 56.406-25.626 5.406 13.625 44.438 32.657-30.344-20.656-19.5zm99.374.75-19.5 17.5 34.063 31.688 13.092-42.625-27.656-6.563z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 룬검 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M495.063 17.063 323.375 64.374 19.03 368.72v56.155l297.47-297.47c22.103-22.1 44.235-31.255 61.656-30.53 38.327 1.594 54.864 49.01 5.844 98.03L85.312 493h54.72L446 187.03l49.063-169.968zM360.78 126l-18.686.313.375 22.968-22.97-.374-.313 18.688 23.594.406.408 23.594 18.687-.313-.375-22.968 22.97.375.31-18.687-23.592-.406L360.78 126zm-69.092 61.5-18.22 4.125 7.188 31.906 1.313 5.876 5.874 1.22 31.22 6.593 3.873-18.282-13.593-2.875 12.53-12.5-13.218-13.22-13.312 13.313-3.656-16.156zm-49.72 38.25-2.25 28.156-27.468 1.813 1.25 18.655 30.844-2.03 17.937 17.936 13.22-13.217-17.5-17.5 2.594-32.313-18.625-1.5zm-43.437 55.625-18.28 3.875 7.22 34.125-34.845-6.875L149 330.844l48.72 9.594 13.874 2.718-2.938-13.844-10.125-47.937zm-57 76.094-16.78 16.78L97.062 368l-4.093 18.25 26.06 5.875 5.345 25.344 18.313-3.845-5.375-25.53 17.437-17.408-13.22-13.218zm-57.155 44.936-18.688.313.376 22.967-22.938-.375-.314 18.69 23.563.375.406 23.594 18.69-.314-1.095-65.25zm-53.844 66.03-11.5 11.533V493h13.407l11.313-11.344-13.22-13.22z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 뫼비우스트레포일 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M234.615 16.943c-38.106.26-75.86 12.47-109.418 37.246 108.164-5.378 163.065 47.928 199.688 94.078l2.226 2.804-.538 3.543c-2.153 14.16.21 28.97 7.914 42.31 18.043 31.252 57.83 41.913 89.084 23.87 31.254-18.043 41.913-57.83 23.87-89.08-9.636-16.69-25.98-27.246-43.682-30.916l-2.74-.57-1.825-2.12c-46.1-53.607-105.733-81.565-164.578-81.167zm-92.322 53.08c-10.028-.016-20.632.522-31.844 1.663a234.623 234.623 0 0 0-32.298 29.728 82.274 82.274 0 0 1 22.744-2.631c13.168.33 26.43 3.852 38.606 10.88a81.086 81.086 0 0 1 22.578 19.31c23.693-18.095 52.583-29.727 84.045-32.26-26.31-15.876-59.523-26.618-103.832-26.69zm-44.057 45.11c-22.362.15-44.022 11.83-56.04 32.644-9.636 16.69-10.608 36.12-4.936 53.287l.88 2.66-.927 2.64C-1.302 316.3 38.897 423.187 136.18 465.603 77.436 374.62 96.15 300.422 117.81 245.63l1.315-3.33 3.336-1.304c13.34-5.216 24.987-14.668 32.688-28.008 18.044-31.25 7.385-71.037-23.87-89.08-9.765-5.638-20.366-8.474-30.876-8.754a60.16 60.16 0 0 0-2.166-.02zm293.213 5.533a43.983 43.983 0 0 1 44.124 44.123c0 24.477-19.645 44.122-44.125 44.122s-44.126-19.645-44.126-44.123a43.984 43.984 0 0 1 44.125-44.124zM98.104 137.064a43.984 43.984 0 0 1 44.125 44.124c0 24.478-19.645 44.123-44.125 44.123S53.98 205.667 53.98 181.188a43.985 43.985 0 0 1 44.125-44.123zM471.24 178.86c-4.15 22.802-17.875 43.723-39.447 56.177a81.536 81.536 0 0 1-13.277 6.156c.463 4.96.71 9.982.71 15.063 0 30.15-8.34 58.35-22.835 82.43 32.152-17.625 62.903-47.413 87.657-100.23a232.034 232.034 0 0 0-12.807-59.597zm-212.094 28.326a48.914 48.914 0 0 0-49.056 49.056 48.917 48.917 0 0 0 49.056 49.06 48.92 48.92 0 0 0 49.06-49.06 48.917 48.917 0 0 0-49.06-49.056zm234.97 47.796c-49.426 96.358-123.04 117.25-181.32 125.89l-3.544.526-2.797-2.236c-11.187-8.944-25.197-14.305-40.6-14.305-36.09 0-65.216 29.125-65.216 65.21 0 36.088 29.125 65.212 65.214 65.212 19.27 0 36.586-8.877 48.617-22.372l1.864-2.09 2.75-.517c114.467-21.613 186.935-109.867 175.03-215.318zM113.622 323.02c-4.68 42.24 4.264 91.172 47.035 149.293a231.573 231.573 0 0 0 46.18 14.072c-14.007-14.67-22.645-34.508-22.645-56.317a81.042 81.042 0 0 1 5.56-29.52c-33.534-16.157-60.566-43.662-76.13-77.528zm152.107 63.652a43.984 43.984 0 0 1 44.125 44.123c0 24.478-19.645 44.123-44.125 44.123s-44.125-19.645-44.125-44.123a43.985 43.985 0 0 1 44.125-44.123z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 궤도 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M256.25 20.656c-32.78 0-64.03 6.79-92.438 19-8.182-10.618-20.994-17.468-35.437-17.468-24.716 0-44.78 20.033-44.78 44.75 0 8.356 2.324 16.18 6.31 22.874-42.638 42.655-69.093 101.49-69.093 166.282 0 129.617 105.823 234.72 235.438 234.72 129.615-.002 234.72-105.103 234.72-234.72 0-129.618-105.105-235.438-234.72-235.438zm0 19.313c119.515 0 216.094 96.607 216.094 216.124s-96.58 216.094-216.094 216.094c-119.515 0-216.813-96.577-216.813-216.094 0-59.568 24.176-113.438 63.22-152.5 7.273 5.113 16.15 8.094 25.718 8.094 24.716 0 44.75-20.034 44.75-44.75 0-3.453-.385-6.804-1.125-10.032C197.91 46 226.396 39.97 256.25 39.97zm-.125 51.81c-91.3 0-165.875 74.575-165.875 165.876 0 91.3 74.576 165.406 165.875 165.406 35.12 0 67.708-10.965 94.5-29.656 7.13 4.23 15.45 6.656 24.344 6.656 26.396 0 47.81-21.384 47.81-47.78 0-12.763-5.005-24.366-13.155-32.938 7.677-19.067 11.906-39.884 11.906-61.688 0-91.3-74.106-165.875-165.405-165.875zm0 19.126c81.2 0 146.78 65.55 146.78 146.75 0 17.833-3.172 34.924-8.967 50.72a47.715 47.715 0 0 0-18.97-3.907c-26.396 0-47.78 21.414-47.78 47.81a47.562 47.562 0 0 0 9.28 28.283c-23.065 15.084-50.66 23.843-80.343 23.843-81.2 0-147.22-65.55-147.22-146.75s66.02-146.75 147.22-146.75zm-1.063 19.625c-7.462 31.99-21.767 62.112-42.906 83.25-21.14 21.14-48.73 32.913-80.72 40.376 31.99 7.462 62.112 21.736 83.25 42.875 21.14 21.14 32.914 48.764 40.376 80.75 7.463-31.986 19.204-59.61 40.344-80.75 21.14-21.138 51.262-35.412 83.25-42.874-32.236-7.428-59.455-19.11-80.72-40.375-21.262-21.263-35.446-51.013-42.873-83.25zm.094 86.564c20.498 0 37.125 16.627 37.125 37.125 0 20.496-16.626 37.124-37.124 37.124-20.497 0-37.125-16.628-37.125-37.125 0-20.5 16.63-37.126 37.126-37.126z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 배트윙 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M15.406 25.938c41.737 42.61 52.607 128.648 13.438 174.78 63.818 10.74 75.725 61.317 64.47 137.5 32.67-20.39 72.694-12.612 98.25 27.688a75.972 75.972 0 0 0-10.44 38.5c0 42.143 34.358 76.5 76.5 76.5 42.144 0 76.5-34.357 76.5-76.5a76 76 0 0 0-10.437-38.5c25.555-40.3 65.58-48.078 98.25-27.687-11.256-76.185.65-126.763 64.47-137.5-39.17-46.134-28.3-132.173 13.437-174.782C415.536 43.782 344.188 113 309.97 197.718c51.49 41.114 32.28 114.232-20.626 137.095a75.845 75.845 0 0 0-31.72-6.938c-11.31 0-22.043 2.5-31.718 6.938C173 311.95 153.79 238.832 205.28 197.72 171.063 113 99.715 43.782 15.407 25.937zm242.22 320.625c4.094 0 8.087.416 11.937 1.218-17.75 3.756-31.063 19.507-31.063 38.376 0 21.666 17.553 39.25 39.22 39.25 17.49 0 32.312-11.47 37.374-27.28.22 2.06.344 4.16.344 6.28 0 32.043-25.77 57.813-57.813 57.813-32.043 0-57.813-25.77-57.813-57.814 0-32.042 25.77-57.844 57.813-57.844z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 펜타그램 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M254.6 27.6c-40.4 0-78.1 11.68-109.8 31.84l-35.3-25.72 13.6 41.51C77.93 112.9 49.13 169.7 49.13 233.1c0 18.1 2.37 35.7 6.79 52.5l-36.85 26.6 45.86-.1c29.36 70.3 96.57 120.8 176.07 126l14.9 46.3 15-46.5c78.3-6.2 144.3-56.4 173.3-125.8l48.7.1-39.2-28.3c4.1-16.3 6.3-33.3 6.3-50.8 0-62.4-27.9-118.3-71.8-156.03l14.2-43.35-36.6 26.66c-32-20.73-70.3-32.78-111.2-32.78zm8.6 18.87c31.5 1.43 60.9 10.63 86.4 25.73l-17.4 12.73c-20.8-11-44.2-17.72-69-19zm-18.7.1v19.49c-23.6 1.42-46 7.79-65.9 18.08L161 71.29c25.7-15.07 57.1-23.12 83.5-24.76zm121.9 36.97L330.8 192.2c-5.5-9.6-12.7-18.1-21.3-24.9 19-27.9 37.9-55.9 56.9-83.76zm-220.3 0 90.7 66.16c-11.3 2.4-21.8 6.9-31.1 13.1-19.9-26.4-39.7-52.9-59.6-79.26zm117.1 1.11c18.4 1.05 36 5.49 52 12.66l-52 37.99zm-18.7.1v47.45l-48.8-35.59c15.1-6.57 31.5-10.7 48.8-11.86zm-115.1 9.56 6.8 20.89c-16.8 17-30 37.6-38.27 60.5l-19.1-6.1C92.24 140 109.1 113 129.4 94.31zm252.5 2c21.2 19.69 37.7 44.29 47.9 71.99l-19 6.1c-8-21.4-20.3-40.8-35.8-57.1zM142.8 135.4l20 61.2-47.1-15.2c6.2-17 15.5-32.6 27.1-46zm225.5 2.3c10.5 12.6 18.9 26.9 24.7 42.4L349.9 194zm-113.7 28.9c38.3 0 69.2 30.9 69.2 69.3 0 38.3-30.9 69.2-69.2 69.2-38.4 0-69.3-30.9-69.3-69.2 0-38.4 30.9-69.3 69.3-69.3zm180.8 19.5c3.9 15 6 30.7 6 47 0 13.3-1.5 26.4-4.1 38.9L419 258.8c1.4-8.6 2.1-17.5 2.1-26.6 0-13.7-1.7-27.1-4.8-39.9 6.4-2.1 12.8-4.1 19.1-6.2zm-362.01 1.4 19.21 6.1c-2.95 12.4-4.52 25.4-4.52 38.6 0 9.7.82 19.2 2.41 28.4l-18.25 13.2a188.07 188.07 0 0 1-4.46-40.7c.64-16 2.33-32.3 5.61-45.6zM398.5 198c2.6 11 3.9 22.5 3.9 34.2 0 4.8-.2 9.5-.6 14.1l-47.3-34.1c14.7-4.7 29.3-9.5 44-14.2zm-288.1 1.4 44.8 14.4-47.6 34.4c-.6-5.3-.9-10.6-.9-16 .4-11.5 1.5-23.2 3.7-32.8zM342 226.2l92 66.5-95-32.4c3.2-12.1 4.1-22.7 3-34.1zm-170.4 38.7c3.6 10.4 9.2 20 16.3 28.3l-109.7.2c31.1-9.5 62.2-19 93.4-28.5zm16.8 47-27.7 34.6c-12-9.8-22.3-21.5-30.7-34.5 19.5 0 39-.1 58.4-.1zm135.9 0 54.9.1c-7.9 12.3-17.6 23.3-28.6 32.8-8.8-11-17.6-22-26.3-32.9zm76.4.1 23.2.1c-11.5 24.6-28.1 46.2-48.6 63.5l-13.1-16.3c15.6-13.2 28.7-29.3 38.5-47.3zm-292.3 0c10.3 18.9 24.2 35.5 40.7 49l-13.2 16.4c-21.4-17.6-38.78-39.9-50.65-65.3zm182.2 4.1L256 423.3v-99.5c12.4-1 24.9-3.4 34.6-7.7zm17.7 5.8 27.3 34.1c-13.5 8.8-28.5 15.5-44.6 19.6 5.8-17.9 11.6-35.8 17.3-53.7zm-104.5.7 17.3 53.7c-16.3-3.8-31.5-10.2-45.2-18.8 9.3-11.7 18.6-23.3 27.9-34.9zm143.5 47.9 13.2 16.5c-24.3 16.7-52.6 27.8-83.3 31.5l7.2-22.4c23.4-5.9 45.7-14.2 62.9-25.6zm-183.1 1.6c18.8 12.2 40.4 20.7 63.4 24.5l7.2 22.2c-30.8-3.2-59.4-13.9-83.8-30.2z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 인피니티 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M278.535 276.134c12.314 21.92 26.598 38.42 42.854 49.503 16.5 10.837 35.094 16.255 55.782 16.255 24.874 0 45.193-8.25 60.955-24.752 15.762-16.747 23.643-38.05 23.644-63.91 0-24.875-7.265-45.563-21.795-62.064-14.532-16.5-32.757-24.752-54.676-24.752-19.95 0-38.052 8.25-54.306 24.752-16.01 16.255-33.495 44.577-52.46 84.968m-45.07-39.53c-12.067-21.672-26.352-37.926-42.853-48.763-16.254-10.835-34.848-16.254-55.782-16.254-24.875 0-45.193 8.25-60.955 24.752C58.11 212.593 50.23 233.65 50.23 259.51c0 24.875 7.265 45.562 21.795 62.063 14.53 16.5 32.756 24.752 54.676 24.752 19.95 0 37.928-8.127 53.937-24.382 16.254-16.255 33.864-44.7 52.828-85.338m26.23 67.605c-17.487 33.495-35.835 58-55.045 73.516C185.686 393.242 164.505 401 141.108 401c-33.248 0-61.448-13.792-84.598-41.376-22.905-27.584-34.357-61.694-34.357-102.33 0-43.1 10.22-77.95 30.662-104.55 20.688-26.597 47.533-39.896 80.535-39.897 23.397 0 44.33 7.635 62.803 22.905 18.47 15.023 36.942 39.898 55.414 74.624 16.747-33.987 34.85-58.985 54.306-74.994C325.33 119.128 347.003 111 370.893 111c32.754 0 60.707 13.915 83.86 41.745 23.395 27.83 35.094 62.187 35.094 103.07 0 42.854-10.344 77.58-31.032 104.18-20.442 26.35-47.164 39.527-80.165 39.527-23.398 0-44.21-7.142-62.433-21.426-17.98-14.53-36.82-39.16-56.523-73.886z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 캡틴 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M256 26C129.17 26 26 129.17 26 256s103.192 230 230 230 230-103.192 230-230S382.83 26 256 26zm168.813 174.7H298.258L257.442 78.36c78.035.628 144.206 51.81 167.37 122.34zM254.558 78.36 213.786 200.7H87.23c23.123-70.53 89.294-121.71 167.33-122.34zM78.328 256a177.056 177.056 0 0 1 7.637-51.49l101.728 75.932-37.34 118.345A177.518 177.518 0 0 1 78.33 256zm76.66 146.045L256 330.03l101.013 72.015a177.177 177.177 0 0 1-202.026 0zm206.614-3.302-37.295-118.345 101.728-75.933a177.463 177.463 0 0 1-64.39 194.322z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 음양 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M256 23C127.424 23 23 127.424 23 256s104.424 233 233 233 233-104.424 233-233S384.576 23 256 23zm-6.094 18.09C128.036 47.807 130.066 256 256 256c125.215 0 127.935 205.872 8.168 214.83-2.71.1-5.432.17-8.168.17-118.848 0-215-96.152-215-215 0-116.81 92.883-211.69 208.906-214.91zM256 103c22.537 0 41 18.463 41 41s-18.463 41-41 41-41-18.463-41-41 18.463-41 41-41zm0 224c-22.537 0-41 18.463-41 41s18.463 41 41 41 41-18.463 41-41-18.463-41-41-41z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 아스클레피오스의막대 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="m287.7 18.92-68.6 3.62 1.1 15.11.4-.1c5.8-1.24 11.3-1.89 16.4-2.05 15.4-.48 27.9 3.45 38.2 9 3.9 2.13 7.5 4.43 11 6.76zm-47.8 34.39c-.7 0-1.5 0-2.2.1-3.9.17-8.1.73-12.8 1.7-27.7 9.5-46.1 20.91-56.5 32.09-10.5 11.18-13.2 21.6-11.2 32 3.8 19.2 28.1 41.2 68.3 54.9v-33.3c-5-2.7-8.9-5.9-10.8-11.5-1.3-3.7-.9-7.8.2-10.9 1.1-3.2 2.8-5.7 4.8-8.4l4.5-6.1 6.8 3.5c48.1 24.4 81.6 30.6 108.3 19.5 12.8-5.3 16.4-10.3 16.8-11.9.3-1.6-.5-4.5-5.7-9-10.2-9.22-33.2-18.78-47.1-22.2l-1-.27-1-.52c-13.7-7.23-23.7-16.7-34.7-22.68-7.8-4.2-15.8-7.11-26.7-7.02zm49.8 37.19a7.916 7.878 0 0 1 7.9 7.88 7.916 7.878 0 0 1-7.9 7.92 7.916 7.878 0 0 1-7.9-7.92 7.916 7.878 0 0 1 7.9-7.88zm147.8 32.7c-12.3.3-24 3.5-33 8.4-10.5-1.4-21.4-4.2-32.7-7.7-2.7 5.6-7.6 10.2-14.6 14.3 13.9 4.6 28.1 8.7 42.4 10.9 2.7 12.8 8 25.5 17.7 37.1l13.8-11.6c-7.7-9.2-11.9-18.7-14-29 8.4-3.3 20.7-5.5 31.2-3.5l3.2-17.8c-4.7-.8-9.4-1.2-14-1.1zm-194 9.9v57.7c6.7-1.8 12.8-3.5 17.6-5 3.6-1.2 6.1-2.2 7.6-3l.3-40c-8.2-2.6-16.6-5.8-25.5-9.7zm43.4 25.8-.2 27.4v-.3c.1 3.6-1.7 6.7-3.3 8.5-1.7 1.8-3.4 2.8-5.1 3.8-3.5 1.9-7.3 3.2-11.8 4.6-8.9 2.8-20.1 5.6-31.3 9-11.2 3.4-22.4 7.6-30.6 12.4-8.1 4.9-12.6 10-13.6 15.2-3.1 16.4-.1 25.6 7.5 34.2 5.2 6.1 13.6 11.7 24 17.2l-2.4-21.3 6.1-2.6c18.3-8.1 38.3-13.8 55.3-21.1 17.1-7.2 30.7-15.8 38.2-28.2 4.7-7.9 5.5-13.6 4.5-19-.9-5.3-4-10.7-9.1-16.4-7-7.8-17.5-15.5-28.2-23.4zm-17.1 110.9c-10.4 3.8-20.8 7.3-30.3 11.2l3.3 30.2h.1c9-2.9 17.4-5.4 22.9-7.6 2.3-1 3.7-1.8 4.6-2.4zm18.3 15.4.3 18.2v.2c0 5.3-3.4 9.2-6.3 11.5-2.9 2.2-6 3.7-9.5 5.1-7 2.9-15.4 5.3-24.1 8.1-17.1 5.5-34 13.4-38.9 21.3-5.5 15.8-3.5 23.3 2 30 3.4 4.2 9 8 15.8 11.8l-2.2-18.7 7.3-2.1s19.9-5.9 40.2-15.8c10.2-5 20.4-10.9 27.9-17.3 7.6-6.3 12-12.8 12.8-18.1.4-2.5-.8-6.7-4-11.9-3.3-5.1-8.4-10.7-13.8-15.7-2.5-2.4-5.1-4.6-7.5-6.6zm-19.9 91.5c-9.9 4.2-17.8 6.9-23.1 8.6l.5 7 3.5 29.7-1.4-.7.1 1.2 1.2-.3c5.9-1.4 10.9-2.9 13.5-4.3 2.7-1.4 2.2-1.3 2.2-1.4l3.3-37.2zm16.6 17.6-2.1 23.8c-.7 7.5-6.5 13-11.9 15.8-5.5 2.8-11.5 4.3-17.7 5.8-12.4 2.9-25.9 5.8-33.1 10.6-7.1 4.7-11.3 9.3-13.3 12.9-2 3.7-2.1 6.1-1.2 9.1 1.3 4 6.1 9.4 14.2 14.5-.1-4.4.4-8.5 2.2-12.6 1.9-4.3 5.8-7.8 9.8-9.7 4-1.9 8.2-2.8 13.2-3.7 11.1-1.9 27.9-5.5 41.6-12.2 13.7-6.7 23.2-15.4 24.7-28.1.2-2-.8-4.9-3.9-8.8-3-3.8-7.9-7.9-13-11.5-3.3-2.2-6.5-4.2-9.5-5.9zM266 474.8c-5.2 1.3-10 2.3-14.2 3.1l1 14.5 12.3.7z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 드림캐처 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M248 16v32.24c-65 3.79-117.8 53.36-126.7 116.86-5-3.2-10.9-5.1-17.3-5.1-17.58 0-32 14.4-32 32 0 14.8 10.21 27.4 23.92 31l3.16 30.2c-.25 63.8 2.62 135.7-2.38 202.3-2.8-7.3-3.04-12.1-4.52-20.9l-12.22 2.2c2.2 13.7 4.98 27 13.12 38.9 23.92-9.3 30.22-60.9 36.62-93.9l-20.9-11.6 24.3-7c2.3-14.3 3.8-23.3 4.6-32.4l-19.5-15.2 20.2.2c0-3.9 0-8.1-.1-12.9-.4-13-11.8-42-23.3-48.2l-3.3-31.7c4.6-1.1 8.7-3.2 12.3-6.1 14.2 56.7 63.9 99.4 124 102.9v9.6c-9.3 3.3-16 12.2-16 22.6 0 11.6 8.3 21.3 19.3 23.5-12.5 3.6-25.2 19.2-23.8 26.2 8.3 41.6 14.9 88.6 30.8 93.1 19.6-19.7 21.6-59.3 25.5-97.1.5-4.8-11.6-18.8-23-22.2 10.9-2.3 19.2-12 19.2-23.5 0-10.4-6.7-19.3-16-22.6v-9.6c60.1-3.5 109.8-46.2 124-102.9 3.9 3.1 8.5 5.4 13.5 6.4l3.3 42.1c-11.6 5.4-21.7 20.6-22.1 32.1-.6 22.2.9 46.4 5.3 70.2l23.2 10.2-21.2-.3c.4 1.9.8 3.7 1.3 5.6l7.6 8.2-5.1 1.4c7.1 25.3 17.8 49 32.9 67.8 5.5-10.5 9.8-22.1 13.1-34.4l-12.2-1.9c-.6 7.8-1.3 15.6-2.1 23.3-5-58.5-4.6-127.2-4.8-183.6l-3.3-41.4c13.1-4.1 22.6-16.3 22.6-30.6 0-17.6-14.4-32-32-32-6.4 0-12.3 1.9-17.3 5.1C381.8 101.6 329 52.03 264 48.24V16h-16zm8 48c66.4 0 120 53.6 120 120s-53.6 120-120 120-120-53.6-120-120S189.6 64 256 64zm-4.8 15.01c-6.8.31-13.4 1.25-19.8 2.78-3.7 7.84-6.2 16.07-7.6 24.41-7-4.9-14.6-8.91-22.7-11.87-5.7 3.5-11 7.57-16 11.97 14.3 3.1 27.1 9.9 37.4 19.4.4 10.6 2.6 21.2 6.5 31.3-10.1-3.9-20.7-6.1-31.3-6.5-9.5-10.3-16.3-23.1-19.4-37.3-4.5 4.9-8.5 10.2-12 15.9 3 8.1 7.1 15.7 12 22.7-8.4 1.4-16.7 3.9-24.5 7.6-1.5 6.4-2.5 13-2.8 19.8 12.2-7.9 26.1-12.2 40.1-12.7 7.8 7.2 16.8 13.2 26.7 17.5-9.9 4.3-18.9 10.3-26.7 17.6-14-.6-27.9-4.8-40.1-12.7.3 6.8 1.3 13.3 2.8 19.7 7.8 3.7 16.1 6.2 24.5 7.6-4.9 7-9 14.6-12 22.7 3.5 5.7 7.5 11 12 15.9 3.1-14.2 9.9-27 19.4-37.3 10.6-.4 21.2-2.6 31.3-6.5-3.9 10.1-6.1 20.6-6.5 31.3-10.3 9.5-23.1 16.3-37.4 19.3 4.9 4.5 10.3 8.6 16 12.1 8.2-3 15.8-7 22.7-11.9 1.4 8.4 3.9 16.6 7.6 24.4 6.4 1.5 12.9 2.5 19.7 2.8-7.9-12.2-12.1-26-12.7-40.1 7.3-7.8 13.3-16.8 17.6-26.7 4.3 9.9 10.3 18.9 17.5 26.7-.5 14-4.8 27.9-12.7 40.1 6.8-.3 13.4-1.3 19.8-2.8 3.7-7.8 6.2-16 7.6-24.4 7 4.9 14.6 8.9 22.7 11.9 5.7-3.5 11.1-7.6 16-12.1-14.3-3-27.1-9.8-37.4-19.3-.4-10.6-2.5-21.2-6.5-31.3 10.1 4 20.7 6.1 31.3 6.5 9.5 10.3 16.3 23.1 19.4 37.3 4.5-4.9 8.5-10.2 12-15.9-3-8.1-7-15.7-11.9-22.7 8.4-1.4 16.6-3.9 24.4-7.6 1.5-6.4 2.5-13 2.8-19.8-12.2 7.9-26.1 12.2-40.1 12.7-7.8-7.2-16.8-13.2-26.7-17.5 9.9-4.3 18.9-10.3 26.7-17.6 14 .6 27.9 4.8 40.1 12.7-.3-6.8-1.3-13.3-2.8-19.7-7.8-3.7-16.1-6.2-24.5-7.6 4.9-7 9-14.6 12-22.7-3.5-5.7-7.6-11.1-12.1-16-3 14.3-9.8 27.1-19.3 37.4-10.7.4-21.2 2.6-31.3 6.5 3.9-10.1 6.1-20.7 6.5-31.3 10.3-9.5 23.1-16.4 37.4-19.4-5-4.5-10.3-8.47-16-11.97-8.1 2.96-15.7 6.97-22.7 11.87-1.4-8.34-3.9-16.57-7.6-24.41-6.4-1.53-13-2.47-19.8-2.78 8 12.2 12.2 26.09 12.8 40.09-7.3 7.8-13.3 16.8-17.6 26.7-4.3-9.9-10.3-18.9-17.6-26.7.6-14 4.8-27.89 12.8-40.09zM256 160c13.2 0 24 10.8 24 24s-10.8 24-24 24-24-10.8-24-24 10.8-24 24-24zm-152 16c8.9 0 16 7.1 16 16s-7.1 16-16 16c-8.93 0-16-7.1-16-16s7.07-16 16-16zm152 0c-4.5 0-8 3.5-8 8s3.5 8 8 8 8-3.5 8-8-3.5-8-8-8zm152 0c8.9 0 16 7.1 16 16s-7.1 16-16 16-16-7.1-16-16 7.1-16 16-16zM87.78 257.7c-10.12 5.9-18.62 15.3-18.82 22.9-2 42.8-.7 90.8 8.7 145.9l14.42 5.6c-3.8-58.4-3.7-116.3-4.3-174.4zM432 268c-.6 51.3-.5 102.5-4.3 154.1l14.4-5c7.6-31.7 9.6-67.4 9.3-103.2l-14.6-.3 14.4-8.4c0-5.7-.1-11.4-.4-17-.2-6.7-8.7-15-18.8-20.2zm-176 76c4.5 0 8 3.5 8 8s-3.5 8-8 8-8-3.5-8-8 3.5-8 8-8zm-4.2 31.6c1.4.3 2.8.4 4.2.4 1.3 0 2.5-.1 3.7-.3l-2.3 90.6-5.6-90.7z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 카드세우스 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M202.412 21.06c-2.189.065-4.715.577-7.795 1.643C149.244 38.411 80.172 79.747 18.965 98.262c10.858 6.727 22.689 12.663 34.941 17.37 13.696-6.286 27.073-12.537 38.414-18.808 13.887-7.678 24.612-15.672 29.078-22.199l13.204 9.035c-7.33 10.712-19.785 19.009-34.54 27.166-7.337 4.057-15.276 8.01-23.468 11.904 7.515 1.809 15.064 3.09 22.533 3.707 3.378.28 6.732.43 10.057.456 15.845-9.826 30.838-22.51 35.67-31.631l14.138 7.488c-3.464 6.54-8.679 12.826-14.933 18.695 15.63-5.498 29.79-15.436 41.54-31.103l7.235-9.647 6.076 10.416c4.704 8.064 11.043 14.811 18.235 20.618 5.332-.816 10.034-1.374 14.855-1.649V79.084c-9.7-7.317-16-18.93-16-31.941a39.612 39.612 0 0 1 3.068-15.305c-2.539-3.553-5.16-6.348-7.793-8.072-2.172-1.423-4.325-2.385-6.941-2.643a15.694 15.694 0 0 0-1.922-.063zm106.258 0c-.342.01-.677.03-1.004.063-2.616.258-4.769 1.22-6.941 2.643-2.634 1.724-5.254 4.52-7.793 8.072A39.612 39.612 0 0 1 296 47.143c0 13.011-6.3 24.624-16 31.941v30.996c5.003.289 10.454.932 14.855 1.649 7.192-5.807 13.531-12.554 18.235-20.618l6.076-10.416 7.234 9.647c11.75 15.667 25.911 25.605 41.541 31.103-6.254-5.869-11.47-12.155-14.933-18.695l14.138-7.488c4.832 9.122 19.825 21.805 35.67 31.63a134.06 134.06 0 0 0 10.057-.454c7.47-.619 15.018-1.9 22.533-3.708-8.192-3.894-16.131-7.847-23.469-11.904-14.754-8.157-27.208-16.454-34.539-27.166l13.204-9.035c4.466 6.527 15.19 14.521 29.078 22.2 11.34 6.27 24.718 12.52 38.414 18.808 12.252-4.708 24.083-10.644 34.941-17.371-61.207-18.515-130.279-59.85-175.652-75.559-3.52-1.219-6.317-1.711-8.713-1.642zM256 24c-13.35 0-24 10.65-24 24s10.65 24 24 24 24-10.65 24-24-10.65-24-24-24zm-8 62.332v24.64c2.793.606 5.759 1.61 8 2.89 2.681-1.483 5.28-2.266 8-2.89v-24.64c-2.587.53-5.263.81-8 .81s-5.413-.28-8-.81zm-12.547 39.654a76.025 76.025 0 0 0-4.674.2c-12.862.942-28.802 5.08-35.353 8.185-14.907 7.066-21.148 13.791-24.215 19.988-3.067 6.198-3.211 12.802-3.211 20.784 0 9.333 4.299 16.218 12.146 22.812 7.848 6.594 19.157 12.141 30.8 16.75 21.493 11.283 44.162 22.942 62.048 35.984 4.915 3.475 11.183 5.658 15.998 8.178 4.717-4.959 7.008-9.53 7.008-13.724 0-2.5-.667-5.262-1.893-8.182-12.214-23.082-35.176-34.215-59.312-47.52l-.057.063c-10.371-4.023-20.014-6.361-26.738-6.361l-3.578-15.157c15.833-7.916 27.435-14.553 34.338-20.877 6.756-6.188 9.266-11.253 9.209-19.312-4.007-1.756-8.557-1.851-12.516-1.81zm41.094 0c-4.174.141-9.299.064-12.516 1.81-.057 8.06 2.453 13.125 9.21 19.313 6.902 6.324 18.504 12.961 34.337 20.877L304 183.143c-7.963 0-20.012 3.269-32.525 8.744 10.05 6.432 19.599 13.926 27.498 23.611.695-.268 1.387-.518 2.082-.793 11.642-4.609 22.95-10.156 30.799-16.75C339.7 191.361 344 184.475 344 175.143c0-7.982-.144-14.586-3.21-20.784-3.068-6.197-9.309-12.922-24.216-19.988-6.55-3.105-22.491-7.243-35.353-8.185a75.995 75.995 0 0 0-4.674-.2zM256 151.77a49.262 49.262 0 0 1-6.434 7.138c-.508.466-1.035.926-1.566 1.383v17.15a160.265 160.265 0 0 1 8.008 3.92 163.653 163.653 0 0 1 7.992-3.92v-17.15a68.078 68.078 0 0 1-1.566-1.383A49.264 49.264 0 0 1 256 151.77zm-37.537 83.896c-1.594 3.4-2.463 6.61-2.463 9.477 0 4.833 3.03 10.165 9.322 16.015 6.292 5.85 15.368 11.666 24.686 17.06 9.318 5.395 18.832 10.38 26.472 15.339 3.82 2.48 7.189 4.92 9.995 7.81 2.806 2.89 5.525 6.609 5.525 11.776 0 4.25-2.151 8.289-4.693 10.804-2.543 2.516-5.357 4.063-8.274 5.467-2.293 1.104-4.71 2.104-7.16 3.098 6.558 4.82 12.595 10.053 17.467 15.232 2.72-1.247 5.468-2.497 8.181-3.807 6.982-3.37 13.564-7.126 17.93-11.242 4.367-4.115 6.549-7.97 6.549-13.552 0-9.945-3.598-17.446-9.586-24.297-5.988-6.852-14.492-12.712-23.363-17.746-8.87-5.035-17.995-9.213-25.438-13.438-3.721-2.112-7.045-4.194-9.908-6.88-.146-.138-.29-.291-.435-.434-10.483-7.04-23.998-15.262-34.807-20.682zm2.406 42.647c-8.107 4.759-15.766 10.22-21.283 16.533-5.988 6.85-9.586 14.352-9.586 24.297 0 5.583 2.182 9.437 6.549 13.552 4.366 4.116 10.948 7.872 17.93 11.243 2.64 1.274 5.3 2.493 7.94 3.708 19.051 9.787 36.7 19.107 53.985 23.813 4.034-1.373 4.848-5.133 3.936-9.729-14.856-14.943-29.808-23.803-47.373-32.316-2.917-1.404-5.731-2.951-8.274-5.467-2.542-2.515-4.693-6.554-4.693-10.804 0-5.167 2.72-8.885 5.525-11.776 2.806-2.89 6.174-5.33 9.995-7.81a158.19 158.19 0 0 1 4.373-2.721c-6.53-3.83-13.092-7.935-19.024-12.524zM256 299.998c-2.85 1.615-5.56 3.17-8 4.64v13.602c.75.346 1.504.714 2.258 1.082 1.845.76 3.75 1.558 5.74 2.461 2.81-1.274 5.521-2.389 8.002-3.388v-13.756a336.594 336.594 0 0 0-8-4.641zm-17.795 73.816c.588 4.245 2.564 8.12 5.824 12.147 3.933 4.857 9.67 9.59 15.723 14.059 6.053 4.469 12.365 8.641 17.643 13.166 5.277 4.524 10.605 9.79 10.605 17.957 0 9.9-5.82 17.934-12.969 27-7.148 9.065-16.35 18.536-25.51 27.273-2.047 1.953-3.986 3.667-6.005 5.53 8.23-4.31 16.77-9.533 24.816-15.385C290.729 459.27 308 437.905 308 423.143c0-4.467-1.67-8.043-4.982-11.957-3.312-3.915-8.27-7.772-13.592-11.48-5.322-3.71-10.947-7.234-15.762-11.368a55.67 55.67 0 0 1-1.666-1.494c-12.987-3.453-23.893-8.06-33.793-13.03zm-7.873 20.582c-2.574 1.786-5.2 3.527-7.758 5.31-5.321 3.708-10.28 7.565-13.592 11.48-3.311 3.914-4.982 7.49-4.982 11.957 0 7.314 3.964 16.342 11.316 25.61 6.386 8.05 15.135 16.148 24.827 23.481a384.732 384.732 0 0 0 5.076-4.976c-2.796-3.028-5.456-6.053-7.871-9.033C230.003 449.162 224 441.16 224 431.143c0-8.167 5.328-13.433 10.605-17.957 2.485-2.13 5.21-4.181 8.018-6.223-3.918-3.258-7.718-6.846-11.027-10.934a52.829 52.829 0 0 1-1.264-1.633zm25.662 22.666c-2.896 2.081-5.66 4.071-7.994 5.872v22.921a70.08 70.08 0 0 0 1.777 2.297c1.95 2.407 4.133 4.909 6.467 7.457 2.24-2.519 4.349-4.995 6.225-7.375.536-.68 1.04-1.353 1.531-2.023v-23.277c-2.346-1.81-5.09-3.778-8.006-5.872z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 이스터에그 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 512px; width: 512px;"></path><g class="" transform="translate(0,0)" style=""><path d="M256 24.998c-20.25 0-39.997 12.86-58.574 35.248-10.389 12.52-20.203 27.836-29.248 44.756h175.644c-9.045-16.92-18.86-32.236-29.248-44.756C295.997 37.858 276.25 24.998 256 24.998zm-62.414 98c11.206 5.37 19.633 15.693 22.414 28.08 2.781-12.387 11.208-22.71 22.414-28.08h-44.828zm80 0c11.206 5.37 19.633 15.693 22.414 28.08 2.781-12.387 11.208-22.71 22.414-28.08h-44.828zm-97.586 14c-12.81 0-23.002 10.192-23.002 23.002 0 12.81 10.192 23.002 23.002 23.002 12.81 0 23.002-10.192 23.002-23.002 0-12.81-10.192-23.002-23.002-23.002zm80 0c-12.81 0-23.002 10.192-23.002 23.002 0 12.81 10.192 23.002 23.002 23.002 12.81 0 23.002-10.192 23.002-23.002 0-12.81-10.192-23.002-23.002-23.002zm80 0c-12.81 0-23.002 10.192-23.002 23.002 0 12.81 10.192 23.002 23.002 23.002 12.81 0 23.002-10.192 23.002-23.002 0-12.81-10.192-23.002-23.002-23.002zm-120 31.924c-2.781 12.387-11.208 22.71-22.414 28.08h44.828c-11.206-5.37-19.633-15.693-22.414-28.08zm80 0c-2.781 12.387-11.208 22.71-22.414 28.08h44.828c-11.206-5.37-19.633-15.693-22.414-28.08zm-158.17 5.976a677.419 677.419 0 0 0-7.406 22.104h27.99c-9.349-4.48-16.765-12.408-20.584-22.104zm236.34 0c-3.819 9.696-11.235 17.623-20.584 22.104h27.99a677.419 677.419 0 0 0-7.406-22.104zm-249.184 40.1a716.98 716.98 0 0 0-9.31 35.727c3.57-2.272 7.676-3.723 12.324-3.723 4.994 0 9.963 2.017 13.342 5.129 3.379 3.112 5.357 6.888 6.79 10.703 2.868 7.63 3.777 16.03 4.796 24.03 1.018 8 2.145 15.6 3.787 19.97.82 2.185 1.716 3.41 2.137 3.797.42.388.179.371 1.148.371.97 0 .727.017 1.148-.371.421-.388 1.316-1.612 2.137-3.797 1.642-4.37 2.769-11.97 3.787-19.97 1.019-8 1.928-16.4 4.795-24.03 1.434-3.815 3.412-7.59 6.791-10.703 3.379-3.112 8.348-5.13 13.342-5.13s9.963 2.018 13.342 5.13c3.379 3.112 5.357 6.888 6.79 10.703 2.868 7.63 3.777 16.03 4.796 24.03 1.018 8 2.145 15.6 3.787 19.97.82 2.185 1.716 3.41 2.137 3.797.42.388.179.371 1.148.371.97 0 .727.017 1.148-.371.421-.388 1.316-1.612 2.137-3.797 1.642-4.37 2.769-11.97 3.787-19.97 1.019-8 1.928-16.4 4.795-24.03 1.434-3.815 3.412-7.59 6.791-10.703 3.379-3.112 8.348-5.13 13.342-5.13s9.963 2.018 13.342 5.13c3.379 3.112 5.357 6.888 6.79 10.703 2.868 7.63 3.777 16.03 4.796 24.03 1.018 8 2.145 15.6 3.787 19.97.82 2.185 1.716 3.41 2.137 3.797.42.388.179.371 1.148.371.97 0 .727.017 1.148-.371.421-.388 1.316-1.612 2.137-3.797 1.642-4.37 2.769-11.97 3.787-19.97 1.019-8 1.928-16.4 4.795-24.03 1.434-3.815 3.412-7.59 6.791-10.703 3.379-3.112 8.348-5.13 13.342-5.13s9.963 2.018 13.342 5.13c3.379 3.112 5.357 6.888 6.79 10.703 2.868 7.63 3.777 16.03 4.796 24.03 1.018 8 2.145 15.6 3.787 19.97.82 2.185 1.716 3.41 2.137 3.797.42.388.179.371 1.148.371.97 0 .727.017 1.148-.371.421-.388 1.316-1.612 2.137-3.797 1.642-4.37 2.769-11.97 3.787-19.97 1.019-8 1.928-16.4 4.795-24.03 1.434-3.815 3.412-7.59 6.791-10.703 3.379-3.112 8.348-5.13 13.342-5.13 4.648 0 8.753 1.452 12.324 3.724a716.98 716.98 0 0 0-9.31-35.727H124.986zm3.014 50c-1.938 0-4.385 1.347-7.643 6.094s-6.357 12.087-8.714 19.601c-4.485 14.3-6.454 28.54-6.641 29.93.034 20.316 1.718 38.365 4.86 54.379h292.277c3.14-16.014 4.825-34.063 4.859-54.379-.187-1.39-2.156-15.63-6.64-29.93-2.358-7.514-5.457-14.854-8.715-19.601s-5.705-6.094-7.643-6.094c-.97 0-.727-.017-1.148.371-.421.388-1.316 1.612-2.137 3.797-1.642 4.37-2.769 11.97-3.787 19.97-1.019 8-1.928 16.4-4.795 24.03-1.434 3.815-3.412 7.59-6.791 10.703-3.379 3.112-8.348 5.129-13.342 5.129s-9.963-2.017-13.342-5.129c-3.379-3.112-5.357-6.888-6.79-10.703-2.868-7.63-3.777-16.03-4.796-24.03-1.018-8-2.145-15.6-3.787-19.97-.82-2.185-1.716-3.41-2.137-3.797-.42-.388-.179-.371-1.148-.371-.97 0-.727-.017-1.148.371-.421.388-1.316 1.612-2.137 3.797-1.642 4.37-2.769 11.97-3.787 19.97-1.019 8-1.928 16.4-4.795 24.03-1.434 3.815-3.412 7.59-6.791 10.703-3.379 3.112-8.348 5.129-13.342 5.129s-9.963-2.017-13.342-5.129c-3.379-3.112-5.357-6.888-6.79-10.703-2.868-7.63-3.777-16.03-4.796-24.03-1.018-8-2.145-15.6-3.787-19.97-.82-2.185-1.716-3.41-2.137-3.797-.42-.388-.179-.371-1.148-.371-.97 0-.727-.017-1.148.371-.421.388-1.316 1.612-2.137 3.797-1.642 4.37-2.769 11.97-3.787 19.97-1.019 8-1.928 16.4-4.795 24.03-1.434 3.815-3.412 7.59-6.791 10.703-3.379 3.112-8.348 5.129-13.342 5.129s-9.963-2.017-13.342-5.129c-3.379-3.112-5.357-6.888-6.79-10.703-2.868-7.63-3.777-16.03-4.796-24.03-1.018-8-2.145-15.6-3.787-19.97-.82-2.185-1.716-3.41-2.137-3.797-.42-.388-.179-.371-1.148-.371-.97 0-.727-.017-1.148.371-.421.388-1.316 1.612-2.137 3.797-1.642 4.37-2.769 11.97-3.787 19.97-1.019 8-1.928 16.4-4.795 24.03-1.434 3.815-3.412 7.59-6.791 10.703-3.379 3.112-8.348 5.129-13.342 5.129s-9.963-2.017-13.342-5.129c-3.379-3.112-5.357-6.888-6.79-10.703-2.868-7.63-3.777-16.03-4.796-24.03-1.018-8-2.145-15.6-3.787-19.97-.82-2.185-1.716-3.41-2.137-3.797-.42-.388-.179-.371-1.148-.371zm-13.752 128c4.453 15.05 10.424 27.958 17.715 38.951l41.547-38.951h-59.262zm97.129 0L256 432.043l44.623-39.045h-89.246zm127.113 0 41.547 38.951c7.29-10.993 13.262-23.902 17.715-38.951H338.49zm-146.281 7.143-41.453 38.861h85.867l-44.414-38.861zm127.582 0-44.414 38.861h85.867l-41.453-38.861zm-165.277 56.857C179.83 477.7 214.174 487.002 256 487.002c41.827 0 76.17-9.302 101.486-30.004H154.514z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 마왕전아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 32px; width: 32px;"></path><g class="" transform="translate(0,0)" style=""><path d="M401.3 12.16c11 13.87 19.9 28.67 20.1 47.42 0 0-20.9-8.69-28.4.24-31.5 67.38 53.5 95.48 64.7 36.4 11-34.97-56.4-84.06-56.4-84.06zM89.6 27.3S18.15 99.53 36.49 135.2c12.48 24.3 59.05 29.8 80.81 13.3 11-8.4 13.1-30.4 4.4-41.2-5.7-7.1-21.1-9.77-27.15-3-3.89 4.4 8.25 13 3.95 17.1-5.68 5.5-18.59.5-22.89-6.1-16.19-24.87 13.99-88 13.99-88zM256 133.5c-45.5 0-83.6 18.9-123.1 44.5-35.3 23-71.3 51.2-113.7 74.5C61.6 275.8 97.6 304 132.9 327c39.5 25.6 77.6 44.5 123.1 44.5s83.6-18.9 123.1-44.5c35.3-23 71.4-51.2 113.7-74.5-42.3-23.3-78.4-51.5-113.7-74.5-39.5-25.6-77.6-44.5-123.1-44.5zm0 14c57.9 0 105 47.1 105 105s-47.1 105-105 105-105-47.1-105-105 47.1-105 105-105zm-7.1 26.4s-57 37.2-60 66.7c-2.9 28.9 16.7 65.8 44.7 75.4 28.2 9.7 70.2-5.6 83.8-31.7 9.8-18.9 3-52.8-16.8-61.6-17.8-7.8-54 9.9-52.4 25.4 0 0 33-7.8 37.2 3.7 4.2 11.5-10.8 23.6-26.4 25.8-18.4 2.7-33.4-12.7-37.1-30.6-5.4-26.9 27-73.1 27-73.1zm196.6 142.9c3 25.9-7 129.4-45.6 115-9.5-3.5 15.4-20.2 10-28.8-5.7-9.1-22.7-9.3-32-3.9-20.5 11.8-40.4 45-28.1 65.2 20.5 33.5 90.7 36.8 117.5 8.1 35.7-38.3-21.8-155.6-21.8-155.6zm-389.64 42c-10.66-.4-43.33 96-9.91 106.7 9.59 3.1 26.15 1.1 39.39-5.4 1.36 6.5 4.31 11.8 9.44 14.8 21.02 12.3 103.82-12.2 56.72-46-9-3.6-29.4 13.7-29.4 13.7-12.2-24.5-14.5-51.7-10.5-63.3-3.5-1-11.5 11.9-17.97 28.7-2.53-3-5.51-6-8.98-9.1-10.4-5.3-23.1 27.9-23.1 27.9-21.7-6.5-9.9-50.8-5.2-67.9-.16-.1-.32-.1-.49-.1z" fill="#fff" fill-opacity="1"></path></g></svg>'

        //유물아이콘
        const 고스트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ghost-icon lucide-ghost"><path d="M9 10h.01"/><path d="M15 10h.01"/><path d="M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"/></svg>`;
        const 쉴드밴아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-ban-icon lucide-shield-ban"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m4.243 5.21 14.39 12.472"/></svg>`;
        const 엑스아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-axe-icon lucide-axe"><path d="m14 12-8.5 8.5a2.12 2.12 0 1 1-3-3L11 9"/><path d="M15 13 9 7l4-4 6 6h3a8 8 0 0 1-7 7z"/></svg>`;
        const 암포라아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-amphora-icon lucide-amphora"><path d="M10 2v5.632c0 .424-.272.795-.653.982A6 6 0 0 0 6 14c.006 4 3 7 5 8"/><path d="M10 5H8a2 2 0 0 0 0 4h.68"/><path d="M14 2v5.632c0 .424.272.795.652.982A6 6 0 0 1 18 14c0 4-3 7-5 8"/><path d="M14 5h2a2 2 0 0 1 0 4h-.68"/><path d="M18 22H6"/><path d="M9 2h6"/></svg>`;
        const 모루아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-anvil-icon lucide-anvil"><path d="M7 10H6a4 4 0 0 1-4-4 1 1 0 0 1 1-1h4"/><path d="M7 5a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1 7 7 0 0 1-7 7H8a1 1 0 0 1-1-1z"/><path d="M9 12v5"/><path d="M15 12v5"/><path d="M5 20a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3 1 1 0 0 1-1 1H6a1 1 0 0 1-1-1"/></svg>`;
        const 클로버아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clover-icon lucide-clover"><path d="M16.17 7.83 2 22"/><path d="M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12"/><path d="m7.83 7.83 8.34 8.34"/></svg>`;
        const 플라워아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flower-icon lucide-flower"><circle cx="12" cy="12" r="3"/><path d="M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"/><path d="M12 7.5V9"/><path d="M7.5 12H9"/><path d="M16.5 12H15"/><path d="M12 16.5V15"/><path d="m8 8 1.88 1.88"/><path d="M14.12 9.88 16 8"/><path d="m8 16 1.88-1.88"/><path d="M14.12 14.12 16 16"/></svg>`;
        const 티켓아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ticket-icon lucide-ticket"><path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M13 5v2"/><path d="M13 17v2"/><path d="M13 11v2"/></svg>`;
        const 모래시계아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hourglass-icon lucide-hourglass"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>`;
        const 퍼즐아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-puzzle-icon lucide-puzzle"><path d="M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z"/></svg>`;
        const 로켓아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rocket-icon lucide-rocket"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>`;
        const 표창아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-fan-icon lucide-fan"><path d="M10.827 16.379a6.082 6.082 0 0 1-8.618-7.002l5.412 1.45a6.082 6.082 0 0 1 7.002-8.618l-1.45 5.412a6.082 6.082 0 0 1 8.618 7.002l-5.412-1.45a6.082 6.082 0 0 1-7.002 8.618l1.45-5.412Z"/><path d="M12 12v.01"/></svg>`;
        const 소생아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="height: 24px; width: 24px;"></path><g class="" transform="translate(0,0)" style=""><path d="m192 17.65 16 34h96l16-34zm-9 53v51.95h32v22.2c-19.3-9-42.6-8.2-55-8.2-50.5 0-82.1 21.9-99.5 48-17.4 26.1-21.5 55.5-21.5 73 0 52.5 38.6 94.4 83.3 131C167 425.1 219 457.3 249.6 488l6.4 6.3 6.4-6.3c30.6-30.7 82.6-62.9 127.3-99.4 44.7-36.6 83.3-78.5 83.3-131 0-17.5-4.1-46.9-21.5-73s-49-48-99.5-48c-12.4 0-35.7-.8-55 8.2v-22.2h32V70.65zm18 18h110v15.95H201zm32 33.95h46v60.7l15.4-15.3c11.7-11.8 41.6-13.4 57.6-13.4 45.5 0 69.9 18.1 84.5 40 14.6 21.9 18.5 48.5 18.5 63 0 43.5-33.4 81.7-76.7 117-40.7 33.4-89 63.5-122.3 94.7-33.3-31.2-81.6-61.3-122.3-94.7-43.3-35.3-76.7-73.5-76.7-117 0-14.5 3.9-41.1 18.5-63s39-40 84.5-40c16 0 45.9 1.6 57.6 13.4l15.4 15.3zm-41 71c-64 0-80 48-80 80 0 64 80 96 144 144 64-48 144-80 144-144 0-32-16-80-80-80-32 0-48 0-64 48-16-48-32-48-64-48zm125.7 14.6c3.6-.1 5.9.3 5.8.6-16.5 7.3-33.9 24.4-44.6 41.7 0 0-3.2-17.7 9.9-31.9 7.4-8.1 21.1-10.3 28.9-10.4zM192 209.6c-24 21.5-41.3 58.2-47.2 90.4 0 0-19.5-23.7-7.7-53.4 9.8-24.5 50.1-36.5 54.9-37z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 샐러드아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-salad-icon lucide-salad"><path d="M7 21h10"/><path d="M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z"/><path d="M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1"/><path d="m13 12 4-4"/><path d="M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2"/></svg>`;
        const 햄버거아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hamburger-icon lucide-hamburger"><path d="M12 16H4a2 2 0 1 1 0-4h16a2 2 0 1 1 0 4h-4.25"/><path d="M5 12a2 2 0 0 1-2-2 9 7 0 0 1 18 0 2 2 0 0 1-2 2"/><path d="M5 16a2 2 0 0 0-2 2 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 2 2 0 0 0-2-2q0 0 0 0"/><path d="m6.67 12 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2"/></svg>`;
        const 마법의팔레트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-palette-icon lucide-palette"><path d="M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z"/><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/></svg>`;
        const 뼈다구아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bone-icon lucide-bone"><path d="M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z"/></svg>`;
        const 스탭아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-footprints-icon lucide-footprints"><path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/><path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/><path d="M16 17h4"/><path d="M4 13h4"/></svg>`;
        const 열쇠아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key-square-icon lucide-key-square"><path d="M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z"/><path d="m14 7 3 3"/><path d="m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814"/></svg>`;
        const 스피커아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-boom-box-icon lucide-boom-box"><path d="M4 9V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"/><path d="M8 8v1"/><path d="M12 8v1"/><path d="M16 8v1"/><rect width="20" height="12" x="2" y="9" rx="2"/><circle cx="8" cy="15" r="2"/><circle cx="16" cy="15" r="2"/></svg>`;
        const 망치아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gavel-icon lucide-gavel"><path d="m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8"/><path d="m16 16 6-6"/><path d="m8 8 6-6"/><path d="m9 7 8 8"/><path d="m21 11-8-8"/></svg>`;
        const 안경아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-glasses-icon lucide-glasses"><circle cx="6" cy="15" r="4"/><circle cx="18" cy="15" r="4"/><path d="M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2"/><path d="M2.5 13 5 7c.7-1.3 1.4-2 3-2"/><path d="M21.5 13 19 7c-.7-1.3-1.5-2-3-2"/></svg>'
        const 펜타그램아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M254.6 27.6c-40.4 0-78.1 11.68-109.8 31.84l-35.3-25.72 13.6 41.51C77.93 112.9 49.13 169.7 49.13 233.1c0 18.1 2.37 35.7 6.79 52.5l-36.85 26.6 45.86-.1c29.36 70.3 96.57 120.8 176.07 126l14.9 46.3 15-46.5c78.3-6.2 144.3-56.4 173.3-125.8l48.7.1-39.2-28.3c4.1-16.3 6.3-33.3 6.3-50.8 0-62.4-27.9-118.3-71.8-156.03l14.2-43.35-36.6 26.66c-32-20.73-70.3-32.78-111.2-32.78zm8.6 18.87c31.5 1.43 60.9 10.63 86.4 25.73l-17.4 12.73c-20.8-11-44.2-17.72-69-19zm-18.7.1v19.49c-23.6 1.42-46 7.79-65.9 18.08L161 71.29c25.7-15.07 57.1-23.12 83.5-24.76zm121.9 36.97L330.8 192.2c-5.5-9.6-12.7-18.1-21.3-24.9 19-27.9 37.9-55.9 56.9-83.76zm-220.3 0 90.7 66.16c-11.3 2.4-21.8 6.9-31.1 13.1-19.9-26.4-39.7-52.9-59.6-79.26zm117.1 1.11c18.4 1.05 36 5.49 52 12.66l-52 37.99zm-18.7.1v47.45l-48.8-35.59c15.1-6.57 31.5-10.7 48.8-11.86zm-115.1 9.56 6.8 20.89c-16.8 17-30 37.6-38.27 60.5l-19.1-6.1C92.24 140 109.1 113 129.4 94.31zm252.5 2c21.2 19.69 37.7 44.29 47.9 71.99l-19 6.1c-8-21.4-20.3-40.8-35.8-57.1zM142.8 135.4l20 61.2-47.1-15.2c6.2-17 15.5-32.6 27.1-46zm225.5 2.3c10.5 12.6 18.9 26.9 24.7 42.4L349.9 194zm-113.7 28.9c38.3 0 69.2 30.9 69.2 69.3 0 38.3-30.9 69.2-69.2 69.2-38.4 0-69.3-30.9-69.3-69.2 0-38.4 30.9-69.3 69.3-69.3zm180.8 19.5c3.9 15 6 30.7 6 47 0 13.3-1.5 26.4-4.1 38.9L419 258.8c1.4-8.6 2.1-17.5 2.1-26.6 0-13.7-1.7-27.1-4.8-39.9 6.4-2.1 12.8-4.1 19.1-6.2zm-362.01 1.4 19.21 6.1c-2.95 12.4-4.52 25.4-4.52 38.6 0 9.7.82 19.2 2.41 28.4l-18.25 13.2a188.07 188.07 0 0 1-4.46-40.7c.64-16 2.33-32.3 5.61-45.6zM398.5 198c2.6 11 3.9 22.5 3.9 34.2 0 4.8-.2 9.5-.6 14.1l-47.3-34.1c14.7-4.7 29.3-9.5 44-14.2zm-288.1 1.4 44.8 14.4-47.6 34.4c-.6-5.3-.9-10.6-.9-16 .4-11.5 1.5-23.2 3.7-32.8zM342 226.2l92 66.5-95-32.4c3.2-12.1 4.1-22.7 3-34.1zm-170.4 38.7c3.6 10.4 9.2 20 16.3 28.3l-109.7.2c31.1-9.5 62.2-19 93.4-28.5zm16.8 47-27.7 34.6c-12-9.8-22.3-21.5-30.7-34.5 19.5 0 39-.1 58.4-.1zm135.9 0 54.9.1c-7.9 12.3-17.6 23.3-28.6 32.8-8.8-11-17.6-22-26.3-32.9zm76.4.1 23.2.1c-11.5 24.6-28.1 46.2-48.6 63.5l-13.1-16.3c15.6-13.2 28.7-29.3 38.5-47.3zm-292.3 0c10.3 18.9 24.2 35.5 40.7 49l-13.2 16.4c-21.4-17.6-38.78-39.9-50.65-65.3zm182.2 4.1L256 423.3v-99.5c12.4-1 24.9-3.4 34.6-7.7zm17.7 5.8 27.3 34.1c-13.5 8.8-28.5 15.5-44.6 19.6 5.8-17.9 11.6-35.8 17.3-53.7zm-104.5.7 17.3 53.7c-16.3-3.8-31.5-10.2-45.2-18.8 9.3-11.7 18.6-23.3 27.9-34.9zm143.5 47.9 13.2 16.5c-24.3 16.7-52.6 27.8-83.3 31.5l7.2-22.4c23.4-5.9 45.7-14.2 62.9-25.6zm-183.1 1.6c18.8 12.2 40.4 20.7 63.4 24.5l7.2 22.2c-30.8-3.2-59.4-13.9-83.8-30.2z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 쉴드배앤아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M53.156 25.78c30.55 26.034 52.813 95.137 52.813 176.47 0 44.36-6.922 84.657-17.814 116.688 31.134 71.43 85.946 122.39 179.906 175.28 91.558-48.747 144.024-96.565 173.75-167.593-12.5-33.06-20.28-76.47-20.28-124.375 0-81.333 22.262-150.436 52.812-176.47-41.924 9.324-83.858 16.318-125.78 20.595L277.904 181.72l46.47 20.655L209.312 391.72l41.468-169.595-22.53-10.25-71.375 19.938 59.406-50.22L259.938 51.22c-68.92.347-137.86-7.508-206.78-25.44z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 고오스아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M373.688 22.063c-1.245-.014-2.498 0-3.75.03-31.364.748-65.528 15.414-96.938 47.313-88.264 89.642-154.092 171.18-242.938 174.03 23.65 18.21 54.87 31.21 85.25 36.783-24.375 29.26-50.877 47.65-93.437 64.842 37.915 9.124 74.452 6.5 109.813-2.343-27.29 34.35-62.118 65.85-107.47 95.78 60.376-.392 136.226-12.138 181.626-47.906-4.842 30.69-16.186 65.125-43.22 100.47 70.74-18.73 117.115-42.386 146.595-83.533 2.905 27.513-.94 45.098-11.095 80.595 78.006-66.3 150.857-164.775 182.78-270.97C513.44 108.94 452.066 22.89 373.69 22.063zM371.03 96.47c5.76 0 11.1 1.732 15.564 4.686-7.706.283-13.875 6.6-13.875 14.375 0 7.956 6.45 14.407 14.405 14.407 5.118 0 9.6-2.665 12.156-6.687.028.503.033 1.022.033 1.53 0 15.633-12.648 28.314-28.282 28.314-15.632 0-28.31-12.68-28.31-28.313 0-15.63 12.678-28.31 28.31-28.31zm67.376 34.874a28.19 28.19 0 0 1 12.438 2.875c-5.734 1.9-9.875 7.284-9.875 13.655 0 7.955 6.45 14.406 14.405 14.406 4.54 0 8.547-2.093 11.188-5.374.086.902.156 1.826.156 2.75 0 15.632-12.68 28.313-28.314 28.313-15.633 0-28.312-12.682-28.312-28.314s12.68-28.312 28.312-28.312zm-111.5 32.47 4.906 45.155 29.782-25.032 4.625 42.53 31.31-26.343 4.314 39.75 30.312-25.47 5.97 55.032-43.938 36.938-4.313-39.75-30.313 25.47-4.625-42.533-31.312 26.344-4.906-45.156-29.783 25.03-5.968-55.03 43.936-36.938z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 고오스트아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M282.83 18.877c21.567 6.146 36.328 15.205 40.572 28.77a71.007 71.007 0 0 0-4.066 2.363c-25.655 5.807-53.084 18.634-81.047 34.363 20.225-4.69 36.705-4.42 47.544 3.324-5.712 10.3-10.797 22.294-15.123 36.06-21.343 67.922-125.678-80.577-189.065-5.255C41.47 166.24 92.702 212.342 26.5 294.29c35.583-4.14 45.11-9.47 62.416-36.21 10.44-16.13 28.52-22.1 44.668-21.45-12.718 11.206-25.786 30.354-38.21 59.895 19.832-18.528 44.927-38.68 71.603-40.005.912 6.354-2.408 13.74-12.008 21.418C93.21 327.327 15.58 364.185 19.83 476.504c5.558-11.267 11.646-20.31 17.574-28.617 5.98 29.582 28.2 53.8 92.99 40.482-46.928-6.407-76.268-59.586-45.355-82.528 62.716-46.544 128.82 1.436 269.9-75.342a79.832 79.832 0 0 1 7.164-3.46c-2.246 19.6-12.367 39.84-22.362 57.14 14.26-10.38 25.415-20.147 33.928-29.262 2.14 26.14-11.748 54.65-25.393 78.268 43.26-31.49 61.19-57.976 63.207-78.422 9.334 36.678-1.895 95.547-25.03 123.492 77.553-39.433 106.608-77.127 109.76-190.664 1.662-59.824-66.23-60.536-56.435-101.344 11.945-49.756 6.768-84.69-7.565-107.947-19.6-49.73-79.99-59.74-149.385-59.423zM89.8 47.684C54.69 47.534 45.233 83.056 55.724 117c17.146-51.504 70.414-44.24 111.17-34.367-33.282-25.005-58.707-34.87-77.096-34.95zm254.595 30.742c18.643 21.37 29.373 43.02 10.105 65.732-26.562-16.677-26.985-39.252-10.105-65.732zm74.494 48.6c3.655-.013 7.78.35 12.473 1.09-1.706 30.506-14.4 33-46.634 32.154 8.335-22.146 14.416-33.176 34.16-33.245zm-84.677 40.316c9.652.1 20.258 2.84 30.598 8.918 44.65 26.246 21.934 73.314-4.1 74.78-15.174.855 1.443-23.842-16.17-38.476-15.258-12.678-38.596 12.53-45.204-5.78-8.218-22.693 10.21-39.696 34.877-39.442zm60.18 246.168c-24.195 27.825-58.89 60.1-99.444 31.41 16.625 45.643 68.87 70.465 99.443-31.41z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 월계수아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M234.7 18.05c-21 .2-38.8 2.5-62 10.2-4.1 2-8.2 4.1-12.2 6.2.8 5.26 3.2 10.77 5.5 14.7-4.9 4.2-9.6 8.4-14.1 12.8-3.7-5.5-6.6-11.4-8.3-17.4-14.2 9.2-27.7 19.6-40.1 31.4 1.9 9.5 9.2 18.21 15.2 24.15-3.7 5.2-7.2 10.4-10.5 15.7-8.22-7.2-15.12-15.5-19.32-24.65C74.97 108.1 61.92 126 53.08 142.3c5.29 13 19.01 22.7 29.8 28.4-2 6.1-3.7 12.2-5.1 18.4-13.5-6.4-26.3-15.7-34.5-26.6-8.7 20.1-14.7 40.7-18.2 61.4 9.63 15.5 30.57 22.9 46 25.9.1 6.4.4 12.8.9 19.2-17.79-2.7-37.26-9.6-49.9-20.4-1.6 22.3-.5 44.5 3.4 66.2 15.25 13.7 41.14 15.3 58.6 13.7 2 6.1 4.1 12.2 6.5 18.1-18.61 4.5-43.29 1.1-59.3-6.2 6.6 23.7 16.4 46.4 29.2 67.4 19.33 8.6 44.52 3.6 61.72-2.5 3.7 5.3 7.6 10.5 11.6 15.5-17.8 9.5-39.9 11.5-57.52 10.1 12.3 16.3 26.62 31.2 42.72 44.4 4.9 1.1 10.5 1.1 16.7.3 11.7-1.7 25.2-7 37.9-14.7 16.7 13.5 34.9 24.7 54.1 33.1l7.5-17.2c-16-6.9-31.3-16.2-45.6-27.3 13.3-10.9 24.3-24 30.2-36.5 4.7-9.7 6.3-18.4 4.5-26.3-10.7-5.7-20.6-12.5-29.5-20.3-7.8 20.8-26.4 36.1-43.5 46-4-4.9-7.9-9.9-11.6-15 16.8-9.8 39.9-27.5 39.1-47.1-8.9-10.3-16.6-21.8-22.9-34.1-12 14-30.7 22.5-46.5 26.7-2.4-5.8-4.6-11.6-6.6-17.6 16.8-5.2 37.9-13 44.1-29.7-4.3-11.5-7.5-23.6-9.7-36-13.8 8.4-32 11.1-46.32 10.9-.6-6.2-1-12.4-1.2-18.7 15.52-.6 33.92-2.5 44.92-14.3-.8-12.6-.5-25.5.9-38.5-13.4 2.8-29 .3-40.42-3.2 1.3-6 2.9-12.1 4.8-18.1 12.82 3.2 27.12 6.7 38.82.8 2.7-13.6 6.7-27.3 12-40.8-9.9-1.8-20.2-6.3-27.7-10.7 3.3-5.3 6.8-10.5 10.5-15.7 8.1 4.2 16.3 8.8 25.2 8.4 5.7-11.6 12.3-22.65 19.5-32.75-5.1-2.7-10-6.4-14.4-10.6 4.4-4.3 9.1-8.5 13.9-12.7 3.8 3.54 8 6.18 12.3 8.2 15.9-18.6 35.9-36.23 49-53.8zm38.4 0c15.4 20.75 33.8 35.63 48.9 53.7 4.6-1.76 9.1-5.23 12.3-8.1 4.9 4.2 9.5 8.4 13.9 12.7-4.4 4.2-9.2 7.9-14.4 10.6 7.3 10.1 13.9 21.05 19.6 32.65 9-.1 18.4-4.4 25.2-8.4 3.7 5.2 7.2 10.4 10.4 15.7-8.8 5.9-18.2 9.6-27.6 10.7 5.3 13.5 9.3 27.2 12 40.8 12.3 5.4 27.3 2.7 38.7-.8 1.9 6 3.5 12.1 4.9 18.1-14.2 3.4-27.3 6.2-40.4 3.3 1.4 12.9 1.6 25.8.8 38.5 11.4 12.3 30.2 14.4 44.9 14.2-.2 6.3-.5 12.5-1.2 18.7-17.1-.5-32.8-2.5-46.3-10.9-2.1 12.4-5.3 24.5-9.6 36.1 8.2 17.4 27.8 25.3 44.1 29.6-2 6-4.2 11.8-6.6 17.6-18.5-5.6-34.9-13-46.6-26.7-6.3 12.4-13.9 23.8-22.9 34.1 1.5 22.4 22.4 37.8 39.2 47.1-3.7 5.1-7.6 10.1-11.6 15-19-11.8-36.6-25.8-43.5-46-9 7.8-18.8 14.6-29.6 20.3-1.8 7.9-.1 16.6 4.5 26.3 6 12.5 17 25.6 30.3 36.5-14.3 11.1-29.6 20.4-45.6 27.3l7.4 17.2c19.3-8.4 37.4-19.6 54.1-33.2 12.7 7.8 26.2 13.1 38 14.8 6.2.8 11.8.8 16.7-.3 16.1-13.2 30.4-28.1 42.7-44.4-18 1.7-37.9-2.3-56.5-9.7-.3-.1-.7-.3-1.1-.4 4.1-5 7.9-10.2 11.7-15.5 18.2 7.8 43.7 11.7 61.6 2.5 12.8-21 22.6-43.7 29.2-67.4-.4.2-.8.4-1.2.5-20.5 6.4-40.1 7.6-58.1 5.7 2.4-5.9 4.5-12 6.5-18 19.1 1.7 45.2.1 58.6-13.8 3.9-21.7 5.1-43.9 3.4-66.2-14.4 10.7-34.9 17.9-49.9 20.4.5-6.4.9-12.8 1-19.2 16.8-4.8 37.9-10 45.9-25.9-3.5-20.7-9.5-41.3-18.2-61.4-9.4 11.6-23.1 21-34.4 26.5-1.5-6.1-3.2-12.2-5.2-18.3 12-7.4 25.1-15.3 29.9-28.4-10.1-18.7-22.2-35.8-35.9-51.05-4.2 9.05-11.1 17.45-19.2 24.65-3.3-5.3-6.8-10.5-10.6-15.7 6.2-7.17 14.2-14.71 15.2-24.15-12.4-11.8-25.8-22.2-40-31.4-1.8 6-4.7 11.9-8.3 17.4-4.5-4.4-9.2-8.6-14.1-12.8 2.7-4.82 4.7-9.62 5.4-14.7-4-2.1-8.1-4.2-12.2-6.2-24.7-8.2-43.3-10.3-66.2-10.2z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 데빌마스크아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M86.55 31.4C58.98 60.64 45.4 99.1 47 136c1.88 43.1 23.9 83.8 69 106.3l5 2.5v5.6c0 45 23.1 100.1 52.5 145.2 14.6 22.5 30.8 42.6 46 57.8 13.9 13.8 27.1 23.2 36.5 27.2 9.4-4 22.5-13.4 36.4-27.3 15.2-15.2 31.4-35.3 46.1-57.8 29.3-45.1 52.5-100.1 52.5-145.1v-5.6l5-2.5c45.1-22.5 67.1-63.2 69-106.3 1.6-36.9-12-75.36-39.5-104.6.9 28.55 2.9 50.9-.6 70.6-4.5 24.4-19.5 43.8-52.9 60.5l-4.9 2.4-4.5-3.3c-2.1-1.6-4.2-3-6.3-4.5-3.3 7-7.9 13.6-13.9 19.7-11.2 11.1-27.4 10.9-39.7 6-12.3-5-23.7-14.4-23.7-28.4v-3.7l2.6-2.7c6-6 10.7-11.2 14.6-16.2-26.3-5.7-54-5.7-80.4 0 3.9 5 8.6 10.2 14.6 16.2l2.6 2.7v3.7c0 14-11.4 23.4-23.7 28.4-12.3 4.9-28.5 5.1-39.7-6-6-6.1-10.6-12.7-13.9-19.7-2.1 1.4-4.2 2.9-6.3 4.5l-4.5 3.3-4.9-2.4c-33.4-16.7-48.42-36.1-52.85-60.5-3.58-19.7-1.54-42.05-.6-70.6zm88.15 52.71C171 94.26 168 104.9 167 115.3c-1.9 18.2 1.5 34.9 15.4 48.7 4.8 4.9 12.6 5.1 20.3 2 5.6-2.2 9.6-6.3 11.3-9.2-14.1-14.7-22.4-27.1-28.3-40.9-4-9.3-7.3-19.9-11-31.79zm162.6 0c-3.7 11.86-7 22.49-11 31.79-5.9 13.8-14.2 26.2-28.3 40.9 1.7 2.9 5.7 7 11.3 9.2 7.7 3.1 15.5 2.9 20.3-2 13.9-13.8 17.3-30.5 15.4-48.7-1-10.4-4-21.04-7.7-31.19zM157.2 192.6l10.9 21.8c11.1 22.2 31.3 45.3 53.3 61.7l-21.8-54.4 16.8-6.6 30.7 76.8 1.9.9v.9h14v-.9l1.9-.9 30.7-76.8 16.8 6.6-21.8 54.4c22-16.4 42.2-39.5 53.3-61.7l10.9-21.8 22.2 88.7v1.1c0 6.2-2.6 12.1-6.3 16.4-3.8 4.4-8.6 7.5-13.9 10-10.5 5-23.3 7.5-36.1 8.6-2.1.2-4.1.3-6.1.4l-17 33.9c9.7-3.6 21.1-8.1 35.1-13.7l12.3-4.9v13.3c0 20.5-13.6 41.3-30.6 58.4-17.1 17-37.9 30.6-58.4 30.6s-41.3-13.6-58.4-30.6c-17-17.1-30.6-37.9-30.6-58.4v-13.3l12.3 4.9c14 5.6 25.4 10.1 35.1 13.7l-17-33.9c-2-.1-4-.2-6.1-.4-12.8-1.1-25.6-3.6-36.1-8.6-5.3-2.5-10.1-5.6-13.9-10-3.7-4.3-6.3-10.2-6.3-16.4v-1.1zm6.3 49-10.4 41.5c.1 1.3.5 2.5 1.8 3.9 1.5 1.8 4.2 3.8 7.9 5.5 7.5 3.5 18.7 6 29.9 6.9 10.8.9 21.5.5 29.3-.9-22.5-14.2-43.4-34.6-58.5-56.9zm185 0c-15.1 22.3-36 42.7-58.5 56.9 7.8 1.4 18.5 1.8 29.3.9 11.2-.9 22.4-3.4 29.9-6.9 3.7-1.7 6.4-3.7 7.9-5.5 1.3-1.4 1.7-2.6 1.8-3.9zm-106.4 70.1-22 11 35.9 71.9 35.9-71.9-22-11zm-53.3 49.4c4.3 10 12 21.3 21.6 30.9 11.3 11.3 25 20.1 36 23.6l-20.6-41.1c-10.6-3.1-22.5-7.6-37-13.4zm134.4 0c-14.5 5.8-26.4 10.3-37 13.4l-20.6 41.1c11-3.5 24.7-12.3 36-23.6 9.6-9.6 17.3-20.9 21.6-30.9z" fill="#fff" fill-opacity="1"></path></g></svg>'

        const 소드아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sword-icon lucide-sword"><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/></svg>`;
        const 스피어아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M27.63 48.7c39.43 38.73 93.67 90.2 140.57 131.8 24.5 21.8 47.1 40.8 63.8 53.6 2.9 2.2 5.3 3.9 7.8 5.6-1.8-2.5-3.5-5-5.7-7.8-12.5-16.8-31.6-39.4-53.3-64C139.2 121 87.67 66.73 48.7 27.63zm89.27 109.6c-10.8 13.4-19.24 26.7-22.87 37.6L168.7 251c.8-15.4.7-30.9-.1-46.2-4.1-3.5-8.3-7.1-12.4-10.9-12.8-11.3-26-23.3-39.3-35.6zm50.9-48.7c3.2 8.3 6 17.1 8.3 26 6.1 6.9 12.2 13.7 18.1 20.3 14.1 15.9 26.9 30.9 37.8 44.2-7.2-34.1-16-67.1-24.3-90l-11.8-16.07c-8.4 2.81-18 8.27-28.1 15.57zm72 43.9c5.2 20.3 9.9 42.3 14.1 64.2.9 4.9 1.8 9.6 2.7 14.4 2.8 4.1 5.1 7.8 7 11.2 1.7 3.2 2.9 5.9 3.6 8.9.8 3.1 1.5 8.1-2.7 12.3-.8.8-1.6 1.4-2.5 1.9 1.6 10.7 2.9 21 3.9 30.5 1.1 10.2 1.8 19.4 2.2 27.6l46.8 34.7c.6-40.5-5.6-87.6-17.9-128.4zm-52.6 67.4c.2 14.3-.3 28.7-1.3 42.9l63.2 46.6c-1.3-15.8-3.6-32.9-5.7-46.9-6.2-3.4-13.6-8.5-22.3-15.1-9.8-7.4-21.3-16.8-33.9-27.5zm137.5 47.5c6.8 35.3 9.4 71.8 7.9 103.8l56.2 41.5c1.7-20.8-.6-42.8-8.5-70.2zM405.8 378c2.1 17.2 1.9 32.8-.4 48.1l79 58.3z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 투핸드소드아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M24.68 24.68c-3.535 3.537-5.85 9.779-5.85 16.264 0 4.39 1.123 8.6 2.905 12.003l23.41-7.803 7.802-23.409c-3.403-1.782-7.612-2.904-12.003-2.904-6.485 0-12.727 2.314-16.263 5.85zm17.133 40.545L84.49 105.82c2.94-4.483 5.96-8.317 9.486-11.843 3.526-3.525 7.36-6.546 11.843-9.486L65.226 41.814l-5.854 17.558zm64.892 41.48c-3.067 3.067-5.818 6.763-8.872 11.806l77.446 73.667c2.645-3.307 5.214-6.216 7.948-8.95 2.735-2.735 5.644-5.304 8.951-7.949l-73.667-77.446c-5.043 3.054-8.739 5.805-11.806 8.872zm88.941 88.94c-9.114 9.115-17.08 22.447-35.67 50.598l11.092 11.092c34.16-51.62 34.647-52.106 86.267-86.267l-11.092-11.092c-28.15 18.59-41.483 26.556-50.597 35.67zm24.042 24.043c-3.998 3.997-7.577 8.54-11.858 14.661l242.865 237.584 42.474 21.236-21.236-42.474L234.349 207.83c-6.12 4.281-10.664 7.86-14.661 11.858z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 사이아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M476.953 34.873C470.795 28.715 237.497 251.72 162.997 326.2l22.628 22.628C261.473 273.082 483.11 41.03 476.953 34.873zM233.747 166.356c-.24-.24-.6-.335-1.07-.293-9.55.855-113.11 97.3-143.888 124.035a9 9 0 0 0 0 12.728l43.84 43.842-13.442 13.504 32.53 32.53 13.443-13.507L209 423.037a9.001 9.001 0 0 0 12.728 0c28.048-32.29 129.91-138.957 123.743-144.957L215.363 403.944l-107.48-107.48zm-120.442 213.39-2.346 21.12 21.12-2.346zm14.072 37.406-18.455 2.05-2.062 18.564zM94.63 384.844 74.666 404.9l17.955-1.996zm-4.045 36.396-32.575 3.62 28.955 28.958zM44.82 434.232l-9.9 9.9 33.122 33.12 9.902-9.896z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 라이트세이버즈아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M478.89 21.842c-6.434-.113-15.047 3.628-24.242 12.822L328.912 160.4c0-.007.003-.015.004-.023l-60.228 60.228.01.01-12.727 12.727-.01-.01-22.657 22.658.01.01-12.44 12.44-.01-.01-30.884 30.884c0 .005.002.01.004.014l-55.656 55.656 22.627 22.627 320.32-320.32c18.827-18.825 14.79-35.217 1.616-35.448zm-445.84.06c-13.176.232-17.213 16.623 1.614 35.45l185.912 185.912 22.658-22.66-44.164-44.16c0 .02 0 .038-.002.058L57.29 34.725C48.098 25.53 39.484 21.79 33.05 21.902zm234.538 36.39c-9.308 42.14-12.624 79.314-27.922 121.454-21.636-16.89-30.623-41.47-43.836-63.414.586 10.88 1.66 22.256 2.42 33.838l57.71 57.71 78.485-78.485a2474.362 2474.362 0 0 1 4.078-21.237c-21.27 28.796-42.452 44.68-71.396 73.475-6.752-45.418.278-77.923.46-123.34zM87.873 170.623c-.052.003-.08.017-.082.044-.258 5.25 104.427 78.357 96.222 83.578-13.465 8.55-57.975 31.11-83.508 44.914 19.72-3.345 53.538-7.933 72.18-8.002l35.453-35.453-63.655-63.652c-27.027-10.216-54.915-21.568-56.61-21.43zm245.143 56.144-29.086 29.086 56.174 56.17c10.848.735 21.692 1.416 32.5 1.218-24.518-15.9-71.99-43.734-71.64-50.568.353-6.887 63.447-21.216 95.518-31.606-27.787-2.137-55.973 3.846-83.466-4.3zm-41.813 41.812-22.656 22.656 86.437 86.438 22.627-22.627-44.473-44.475h.06l-41.994-41.992zm-35.098 35.098-57.703 57.703c.408 14.207.21 28.454-.52 40.38 11.322-26.84 17.846-51.86 45.827-74.473 14.444 11.985 24.816 40.267 37.224 60.4-.91-19.042-6.873-52.002-5.03-64.214l-19.8-19.797zM111.7 354.984 98.974 367.71l45.256 45.257 12.725-12.73-45.252-45.253h-.002zm288.538.06-45.254 45.253v.002l12.727 12.727 45.257-45.256-12.73-12.725zM94.023 385.39l-9.9 9.9 32.527 32.526 9.9-9.9-32.527-32.527zm323.893.06-32.527 32.527 9.9 9.9 32.526-32.527-9.9-9.9zm-346.52 22.568L21.9 457.512l32.528 32.527 10.603-10.604 10.73 10.726 17.847-17.848-10.728-10.726 21.042-21.043-9.9-9.9-38.89 38.89-12.728-12.728 38.89-38.89-9.9-9.9zm369.15.06-9.9 9.9 38.89 38.89-12.73 12.728-38.89-38.89-9.898 9.9 49.494 49.494 32.527-32.528-10.604-10.603 10.726-10.73-17.848-17.847-10.726 10.728-21.043-21.042z" fill="#fff" fill-opacity="1"></path></g></svg>'
        const 추방자의검아이콘 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M50.348 19.37c-.616.02-1.23.066-1.852.16h-.002c-17.38 2.646-29.2 14.79-29.2 36.208 35.305 18.283 66.755 42.684 85.85 85.266L64.85 199.406l25.697 25.114c7.188-14.017 15.388-27.635 25.113-40.883l68.33-67.746c14.346-10.816 28.963-20.67 44.385-28.615L203.26 62.162l-61.906 42.633C103.76 87.532 75.44 61.048 56.088 19.53c-2.035 0-3.892-.21-5.74-.16zm164.18 97.23c-5.02 3.18-10.268 6.81-15.632 10.8l60.284 60.252-40.946 6.702-43.068-42.05-46.137 43.094.275.295c-3.707 4.943-7.09 9.848-10.035 14.645l255.986 255.85 116.955 20.496L469.7 371.64 214.526 116.6zm-39.647 61.543 37.054 36.177 21.148-3.46 6.56 39.745-46.695 6.95-49.8-49.774 31.734-29.637zm100.58 25.783 88.198 88.152-15.986 36.54-33.373-33.175-61.554 21.877L209.402 274l51.768-7.705-9.645-58.453 23.936-3.916zm102.39 102.338 74.603 74.564 16.193 82.752-35.314-6.19-7.635-51.206-63.808-63.432 15.96-36.488zm-68.38 10.73 98.657 98.074 5.803 38.922-29.635-5.193-116.91-116.846 42.084-14.956z" fill="#fff" fill-opacity="1"></path></g></svg>'

        const 하트플러스아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart-plus-icon lucide-heart-plus"><path d="M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5"/><path d="M15 15h6"/><path d="M18 12v6"/></svg>`;
        const 하트비트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M366.688 30.027c-1.01-.01-2.022-.01-3.034.004h.002c-41.495.563-83.634 22.155-110.844 69.282-41.912-117.77-236.49-76.29-232 64.5.64 20.068 5.132 38.987 12.454 56.917h76.45l21.22-74.126 26.375 90.134 18.46-64.312 17.238 48.303H328.1l21.222-74.126 26.375 90.13 18.46-64.308 17.238 48.303h72.517c7.097-18.183 10.927-37.136 10.307-56.917-2.61-83.04-63.874-133.082-127.533-133.786zM131.125 211.34l-7.842 27.39h-81.58c54.51 103.006 197.737 172.59 216.172 241.395 16.782-62.62 165.07-139.482 217.855-241.396h-77.023l-2.69-7.542-20.154 70.208-26.353-90.054-7.84 27.387H180.32l-2.69-7.54-20.15 70.206-26.355-90.056z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 소망아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M159.361 28.344c-51.352.63-79.54 56.303-79.244 86.957 1.504 47.346 34.181 79.356 74.82 114.763 35.351 30.799 76.091 63.283 100.907 109.987.05-.092.105-.18.156-.272.051.092.105.18.156.272 24.816-46.704 65.556-79.188 100.906-109.987 40.64-35.407 73.317-67.417 74.82-114.763.297-30.654-27.891-86.327-79.243-86.957C314.636 27.878 270 54 256 96c-14-42-58.636-68.122-96.639-67.656zM60.17 198.06c-8.818-.137-17.843 11.093-17.895 39.882-.078 44.153-4.356 56.616 16.077 106.551C73.335 381.112 80.054 409.257 128 432c5.68 20.022 3.413 24.73-.44 41.84-3.596 15.974 33.423 18.91 60.534 5.453 29.091-15.868 26.65-59.557 21.453-89.184-6.044-34.454-25.06-41.615-41.543-56.332-17.115-24.475-21.098-68.813-48.856-86.699-5.797-3.735-35.37-7.527 5.262 93.942-53.571-13.268-43.813-74.773-47.687-120.31-1.154-13.561-8.773-22.53-16.553-22.65zm391.66 0c-7.78.12-15.399 9.088-16.553 22.65-3.874 45.536 5.884 107.041-47.687 120.309 40.633-101.47 11.059-97.677 5.262-93.942-27.758 17.886-31.74 62.224-48.856 86.7-16.482 14.716-35.5 21.877-41.543 56.331-5.197 29.627-7.638 73.316 21.453 89.184 27.111 13.456 64.13 10.521 60.533-5.453-3.852-17.11-6.119-21.818-.439-41.84 47.946-22.743 54.665-50.888 69.648-87.506 20.433-49.935 16.155-62.398 16.077-106.55-.052-28.79-9.077-40.02-17.895-39.883z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 물약아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="m192 17.65 16 34h96l16-34zm-9 53v51.95h32v22.2c-19.3-9-42.6-8.2-55-8.2-50.5 0-82.1 21.9-99.5 48-17.4 26.1-21.5 55.5-21.5 73 0 52.5 38.6 94.4 83.3 131C167 425.1 219 457.3 249.6 488l6.4 6.3 6.4-6.3c30.6-30.7 82.6-62.9 127.3-99.4 44.7-36.6 83.3-78.5 83.3-131 0-17.5-4.1-46.9-21.5-73s-49-48-99.5-48c-12.4 0-35.7-.8-55 8.2v-22.2h32V70.65zm18 18h110v15.95H201zm32 33.95h46v60.7l15.4-15.3c11.7-11.8 41.6-13.4 57.6-13.4 45.5 0 69.9 18.1 84.5 40 14.6 21.9 18.5 48.5 18.5 63 0 43.5-33.4 81.7-76.7 117-40.7 33.4-89 63.5-122.3 94.7-33.3-31.2-81.6-61.3-122.3-94.7-43.3-35.3-76.7-73.5-76.7-117 0-14.5 3.9-41.1 18.5-63s39-40 84.5-40c16 0 45.9 1.6 57.6 13.4l15.4 15.3zm-41 71c-64 0-80 48-80 80 0 64 80 96 144 144 64-48 144-80 144-144 0-32-16-80-80-80-32 0-48 0-64 48-16-48-32-48-64-48zm125.7 14.6c3.6-.1 5.9.3 5.8.6-16.5 7.3-33.9 24.4-44.6 41.7 0 0-3.2-17.7 9.9-31.9 7.4-8.1 21.1-10.3 28.9-10.4zM192 209.6c-24 21.5-41.3 58.2-47.2 90.4 0 0-19.5-23.7-7.7-53.4 9.8-24.5 50.1-36.5 54.9-37z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 하트윙아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M54.53 118.73c-15.623 74.884 20.42 123.6 64.126 150.56-33.063-7.81-65.052-19.483-98.25-36.845 25.5 77.488 81.165 95.816 129.906 90.75-26.933 14.252-55.392 25.302-83.937 32.782 69.446 43.143 120.11 16.458 148.27-21.317a586.15 586.15 0 0 0-6.217-5.498c-5.193-3.697-10.128-7.95-14.778-12.71-5.968-5.095-12.045-10.295-18.173-15.73-33.648-29.837-67.978-65.614-69.43-112.83-.002-.05 0-.1-.002-.15-19.147-22.057-36.472-45.304-51.514-69.013zm402.94 0c-15.04 23.705-32.368 46.943-51.515 68.993 0 .026.003.05.004.078 1.388 45.967-33.476 82.66-67.968 113.386-13.87 12.355-27.86 23.824-39.904 34.44 28.298 37.26 78.683 63.125 147.54 20.35-28.543-7.48-56.98-18.53-83.91-32.78 48.737 5.056 104.38-13.28 129.876-90.75-33.197 17.363-65.187 29.036-98.25 36.845 43.705-26.962 79.75-75.675 64.125-150.56zm-132.42 3.977c-22.146.17-45.395 11.85-61.025 38.36l-7.783 13.2-7.736-13.228c-19.473-33.286-54.394-43.623-82.15-35.75h-.01c-24.486 6.947-43.386 26.957-42.307 62.048 1.187 38.61 30.602 70.852 63.38 99.918 16.39 14.533 33.36 28.123 47.412 41.52 8.357 7.968 15.777 15.842 21.332 24.142 5.568-7.718 12.923-15.143 21.217-22.86 14.382-13.384 31.856-27.363 48.64-42.314 33.567-29.9 63.045-63.115 61.95-99.398-1.118-36.974-22.723-58.38-48.618-64.127a63.71 63.71 0 0 0-14.303-1.513z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 테크놀로지아아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M139.625 23.563c-1.58.008-3.147.052-4.72.125l171.75 258.093h146.25c15.35-16.906 27.875-35.263 35.69-56.56h-96.876c-7.317 18.17-25.136 31.093-45.845 31.093-27.173 0-49.375-22.233-49.375-49.407 0-11.436 3.95-21.978 10.53-30.375l-49.155-77.655c-.03.053-.063.103-.094.156a195.36 195.36 0 0 0-3.624-6c-30.106-48.086-73.28-69.694-114.53-69.468zm228.656 2.656c-35.864.328-72.648 18.056-100.78 57.655h204.125C447.147 47.133 408.293 25.85 368.28 26.22zm-253.967.25c-11.495 2.624-22.58 7.007-32.876 13 10.672 9.08 17.47 22.6 17.47 37.624 0 12.72-4.873 24.35-12.844 33.125l43.187 67.31h85.594L114.314 26.47zM49.5 46.374c-17.074 0-30.72 13.645-30.72 30.72 0 17.073 13.646 30.686 30.72 30.686 17.074 0 30.72-13.612 30.72-30.686 0-17.074-13.646-30.72-30.72-30.72zm232.844 56.188 38.97 61.53a48.966 48.966 0 0 1 24.56-6.593c27.05 0 49.203 22.03 49.407 49.03h98.75c2.575-11.807 3.757-24.49 3.345-38.25-.735-24.555-6.237-46.66-15.22-65.718h-199.81zm-259.47 16.062c-4.02 15.02-5.985 31.62-5.436 49.656.095 3.143.293 6.215.562 9.25h89.063l-35.97-56.06a48.996 48.996 0 0 1-21.593 5c-9.79 0-18.926-2.887-26.625-7.845zm323 57.563c-17.073 0-30.687 13.644-30.687 30.718 0 17.074 13.614 30.72 30.688 30.72 17.074 0 30.72-13.646 30.72-30.72 0-17.074-13.646-30.72-30.72-30.72zm-325.03 20.03c3.693 16.938 10.187 32.203 18.75 46.345h156.968l2.75 4.343L276.97 369.53l9.092 14.345H212.22a49.277 49.277 0 0 1-8.282 19c22.164 24.562 41.335 52.573 53.843 86.75 35.156-90.944 118.132-134.872 176.564-189.156h-137.72l-2.78-4.19-66.594-100.06H20.844zM52.5 261.25c21.193 27.23 49.796 50.764 79.313 75.313 8.633-7.354 19.808-11.813 31.968-11.813 24.116 0 44.348 17.504 48.595 40.438h39.72L186.28 261.25H52.5zm111.28 82.188c-17.073 0-30.718 13.644-30.718 30.718 0 17.074 13.645 30.72 30.72 30.72 17.073 0 30.687-13.646 30.687-30.72 0-17.074-13.615-30.72-30.69-30.72z" fill="#fff" fill-opacity="1"></path></g></svg>`;

        const 하트마이너스아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart-minus-icon lucide-heart-minus"><path d="M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5"/><path d="M15 15h6"/></svg>`;
        const 브로큰하트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M373.47 25.5c-33.475-.064-67.614 13.444-94.44 43.156l37.22 145.156-33.437.032 35.343 132.093-116.718-188.375 50.03 5.375L202.5 47.312C120.437-1.43 4.756 40.396 8.5 158.156c4.402 138.44 191.196 184.6 247.406 331.625 59.376-147.035 251.26-184.33 246.656-331.624-2.564-82.042-64.6-132.532-129.093-132.656z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 산산조각하트아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M112 16c-22.1 4.7-42.55 16.45-58.12 35.68l80.32 75.42L112 16zm31.9 20.77c-.9 0-1.7.1-2.6.1l26.6 132.83 88.8 40.4 10.3-75.4c-17.2-63.6-70.1-97.97-120.7-97.93h-2.4zm226.7 41.18c-24 .1-49.2 7.75-72.6 24.35l-13.7 99.9 62.3 28.3 134-53.6c-6.5-60.1-55.1-99.25-110-98.95zM55.11 89.9c-5.99 10.5-10.78 22.6-14.01 36.4-14.83 63.3 15.59 125.4 51.48 181.8l56.62-129.8-94.09-88.4zM176.9 193.6 265 407.5c27.1-13.4 57.2-27.4 85.8-43.5l-22.6-101.7-151.3-68.7zm293.9 18.2-124.4 49.7 20.7 92.9c47.5-28.8 88.1-64.5 99.7-114 2.3-9.9 3.6-19.4 4-28.6zm-314.9 16.1-55.5 127.2c36.3 54.6 73.7 103.2 73.7 141.5 10.9-18.8 37.8-35.2 70.9-52.2l-89.1-216.5z" fill="#fff" fill-opacity="1"></path></g></svg>`;
        const 보스의알아이콘 = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px; width: 30px;"></path><g class="" transform="translate(0,0)" style=""><path d="M125.5 18.32c-7.6 11.66-3.8 25.54-29.09 27.43C122 47.6 119.6 62.27 116.7 79.64c7-10.99 5.8-26.11 29.6-26.37-17.6-8.95-20.8-21.77-20.8-34.95zm289.3 23.86c-7.9 15.84-10.7 33.81-42.5 39.75 32.5-1.2 35.5 18.01 34.2 40.27 7.8-16.6 6.5-43.57 33.9-37.6-23.5-8.64-23.7-25.84-25.6-42.42zM256 48c-46.3 0-117.6 75.3-153.6 177.4 7.3 3.1 14.3 6.9 21 11.3 5-2.7 10.4-4 15.9-4.1 6.1-.1 12.2 1.3 17.9 3.9 11.3 5.2 21.3 15 28.2 28.4 6.9 13.3 9.4 27.8 7.6 40.9-1.5 10.9-6.1 21.2-13.9 28.3 5.8 13.1 14 25.9 24.1 36.9 10.7 11.7 23.5 21.4 37.9 27.7a40 40 0 0 1 38.8-30.7 40 40 0 0 1 .1 0 40 40 0 0 1 23.5 7.7c13.8-17.5 26.1-34.9 33.1-53.6a30.91 36.38 9.798 0 1-9.9-33.7 30.91 36.38 9.798 0 1 31.9-31 30.91 36.38 9.798 0 1 4.7.4 30.91 36.38 9.798 0 1 10 3.9c-2.6-10.6-6.6-20.6-22.7-24.3 20.1-.2 21-10.8 24.9-23.8 3 17.7 3.3 26 24.2 28.4-21.6 6.8-20.7 11.8-23.4 21.9a30.91 36.38 9.798 0 1 11.3 35 30.91 36.38 9.798 0 1-1.7 6.6c8.6 2.2 18.9 3 29.5 2.5 4.5-.3 9.1-.8 13.6-1.6C410.9 165.6 313.8 48 256 48zM39.74 73.43c2.02 15.89-3.06 25.8-10.52 33.77 11.39-1.3 18.79-9.04 31.53 7-8.69-15.97 3.77-19.21 13.51-28.88-10.56.26-23.53 3.95-34.52-11.89zM255.9 80a80 80 0 0 1 .1 0 80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 79.9-80zm.1 16-16 40-48 24 48 12 16 52 16-52 48-12-48-24-16-40zm182.9 40.6c2.7 13.6 15.1 20.9-1.7 39.9 19.6-16.5 28.1-4.3 38.1 10.2-2.6-12.8-14-22.8 2.9-39.6-18.9 5.9-30.1-1.1-39.3-10.5zM33.68 157.3c9.19 14.5 31.84 29 8.15 50 21.42-13 35.01-2.4 49.14 6.5-7.42-16.1-17.78-22.1-2.52-50.6-19.37 26.1-38.17 9-54.77-5.9zm63.21 84.9C86.35 276.7 80 313.9 80 352c0 42.7 35.7 92.6 88 121a40 33.09 35.15 0 1 2.4-4.2 40 33.09 35.15 0 1 25.8-12.5 40 33.09 35.15 0 1 25.9 8.5 40 33.09 35.15 0 1 18.7 30.5c5 .5 10.1.7 15.2.7 24.8 0 48.6-5.4 70.2-14.4-9.3-3.7-17.3-8.6-24.4-14.4-7.2-5.8-13.3-12.4-18.8-19.3a40 40 0 0 1-3 .1 40 40 0 0 1-38.6-29.7c-20.1-7.2-37.5-19.8-51.5-35.1-11.2-12.2-20.3-26.2-26.9-40.7-8.3 1.8-17.1.5-24.9-3.2-5.5-2.5-10.7-6.1-15.4-10.7 2.6 17.2 9.9 28.8 32.9 28.3-30.9 9.7-27.6 21.3-33.6 38-3.9-16.2-9.6-31.4-30.54-39 22.44 0 25.94-14.9 28.84-29.7-4-4.4-7.5-9.5-10.5-15.2-6.9-13.3-9.4-27.8-7.6-40.9 1-7.6 3.6-15 7.7-21.1-4.1-2.6-8.5-4.9-13.01-6.8zm279.01 79.1a30.91 36.38 9.798 0 1-22.7 8.5c-8.5 21.9-22.6 41.3-37.6 59.9A40 40 0 0 1 320 408a40 40 0 0 1-18.6 33.8c3.7 4.2 7.6 8.1 11.8 11.5 9.8 8 21.3 13.9 36.8 16.4 49-28.9 82-76.6 82-117.7 0-9.2-.4-18.4-1.1-27.5-4.8.7-9.7 1.1-14.5 1.4-14.1.8-28.2-.4-40.5-4.6zm-22.5 39.2c18.6 17.4 28.7 8.5 43.6 0-12.8 18.8-19.7 26.7-2.7 47.1-29.1-14.4-29.7-5.6-45.5 2.4 8.3-14.4 18.5-28.4 4.6-49.5zm-191.5 20.2c4.6 16 7.6 30.3 32.2 34.9-28.3 6.2-22.4 20-25.8 36-6-21.1-14.4-38.1-38.4-34.2 30.5-11 26.7-19.8 32-36.7z" fill="#fff" fill-opacity="1"></path></g></svg>`;

        const 아이콘맵 = {
            보스의알아이콘,
            소드아이콘,
            홀리워터아이콘,
            도핑아이콘,
            스피어아이콘,
            투핸드소드아이콘,
            사이아이콘,
            라이트세이버즈아이콘,
            추방자의검아이콘,
            하트마이너스아이콘,
            브로큰하트아이콘,
            산산조각하트아이콘,
            하트플러스아이콘,
            하트비트아이콘,
            소망아이콘,
            물약아이콘,
            하트윙아이콘,
            테크놀로지아아이콘,
            데빌마스크아이콘,
            월계수아이콘,
            고오스아이콘,
            고오스트아이콘,
            쉴드배앤아이콘,
            페어리아이콘,
            그리핀아이콘,
            하피아이콘,
            노움아이콘,
            안경아이콘,
            펜타그램아이콘,
            망치아이콘,
            스피커아이콘,
            열쇠아이콘,
            스탭아이콘,
            크리티컬아이콘,
            드레인아이콘,
            버서커아이콘,
            아이언바디아이콘,
            인사이트아이콘,
            퀵니스아이콘,
            발굴아이콘,
            머니아이콘,
            성공아이콘,
            실패아이콘,
            마스터아이콘,
            버닝아이콘,
            뽑기아이콘,
            인텔리전스아이콘,
            브로큰아이콘,
            즉사아이콘,
            고스트아이콘,
            쉴드밴아이콘,
            엑스아이콘,
            암포라아이콘,
            모루아이콘,
            클로버아이콘,
            플라워아이콘,
            티켓아이콘,
            모래시계아이콘,
            퍼즐아이콘,
            로켓아이콘,
            표창아이콘,
            봄아이콘,
            여름아이콘,
            가을아이콘,
            겨울아이콘,
            서클체크아이콘,
            그루트아이콘,
            락골렘아이콘,
            미노타우르스아이콘,
            가고일아이콘,
            와이번아이콘,
            아이스골렘아이콘,
            샐러드아이콘,
            햄버거아이콘,
            마법의팔레트아이콘,
            뼈다구아이콘,
            해머아이콘,
        };

        function 화면잠금() {
            document.body.style.pointerEvents = "none";
            document.body.style.opacity = "0.5";
            const 버튼들 = document.querySelectorAll("button");
            버튼들.forEach(btn => btn.disabled = true);
        }

        function 화면해제() {
            document.body.style.pointerEvents = "auto";
            document.body.style.opacity = "1";
            const 버튼들 = document.querySelectorAll("button");
            버튼들.forEach(btn => btn.disabled = false);
        }

        function 공격버튼잠금() {
            const 공격버튼 = document.getElementById("공격버튼");
            const 레어몬스터 = document.getElementById("레어몬스터");
            const 보스몬스터 = document.getElementById("보스몬스터");

            if (공격버튼) {
                공격버튼.style.pointerEvents = "none";
                공격버튼.style.opacity = "0.5";
            }

            if (레어몬스터) {
                레어몬스터.style.pointerEvents = "none";
                레어몬스터.style.opacity = "0.5";
            }

            if (보스몬스터) {
                보스몬스터.style.pointerEvents = "none";
                보스몬스터.style.opacity = "0.5";
            }
        }

        function 공격버튼잠금해제() {
            const 공격버튼 = document.getElementById("공격버튼");
            const 레어몬스터 = document.getElementById("레어몬스터");
            const 보스몬스터 = document.getElementById("보스몬스터");

            if (공격버튼) {
                공격버튼.style.pointerEvents = "auto";
                공격버튼.style.opacity = "1";
            }

            if (레어몬스터) {
                레어몬스터.style.pointerEvents = "auto";
                레어몬스터.style.opacity = "1";
            }

            if (보스몬스터) {
                보스몬스터.style.pointerEvents = "auto";
                보스몬스터.style.opacity = "1";
            }
        }

        function 메시지표시(대상, 아이콘HTML, 텍스트, 글자색) {
            const rect = 대상.getBoundingClientRect();

            const el = document.createElement("div");
            el.innerHTML = `
        ${아이콘HTML}<span>${텍스트}</span>
    `;
            el.style.position = "absolute";
            el.style.left = `${rect.left + Math.random() * rect.width}px`;
            el.style.top = `${rect.top + Math.random() * rect.height}px`;
            el.style.color = 글자색;
            el.style.padding = "8px 12px";
            el.style.borderRadius = "8px";
            el.style.fontWeight = "bold";
            el.style.zIndex = 9999;
            el.style.pointerEvents = "none";
            el.style.animation = "fadeOut 3s ease-out forwards";
            el.style.whiteSpace = "nowrap";

            document.body.appendChild(el);
            setTimeout(() => el.remove(), 3000);
        }

        async function 회원가입() {
            화면잠금();

            const 아이디 = document.getElementById("이메일입력").value.trim();
            const 비번 = document.getElementById("비번입력").value.trim();
            const 이메일형식 = `${아이디}@gagl.com`;
            const 유저아이디 = 아이디;
            const 기기ID = localStorage.getItem("기기ID") || crypto.randomUUID();

            localStorage.setItem("기기ID", 기기ID);

            const 아이디패턴 = /^[a-zA-Z0-9_]{3,12}$/;
            if (!아이디패턴.test(아이디)) {
                메시지표시(메시지표시박스, "", "아이디는 영문/숫자/밑줄 포함 3~12자여야 합니다", "");
                화면해제();
                return;
            }

            try {
                const { data, error } = await supabase.auth.signUp({
                    email: 이메일형식,
                    password: 비번
                });

                if (error || !data.user) {
                    if (error.message.includes("already registered")) {
                        메시지표시(메시지표시박스, "", "존재하는 아이디입니다", "");
                    } else {
                        메시지표시(메시지표시박스, "", "회원가입 실패: " + error.message, "");
                    }
                    화면해제();
                    return;
                }


                await supabase.auth.signOut();
                await supabase.auth.signInWithPassword({ email: 이메일형식, password: 비번 });

                const { data: { user }, error: 로그인오류 } = await supabase.auth.getUser();
                if (로그인오류 || !user) {
                    메시지표시(메시지표시박스, "", "재로그인 실패", "");
                    화면해제();
                    return;
                }

                const 유저UID = user.id;

                const 응답 = await fetch("/register-user", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID, 유저아이디, 기기ID, 로그인이메일: 이메일형식 })
                });

                const 결과 = await 응답.json();

                if (!응답.ok) {
                    메시지표시(메시지표시박스, "", 결과.오류 || "서버 오류", "");
                    화면해제();
                    return;
                }

                메시지표시(메시지표시박스, "✅", "회원가입 성공! 자동 로그인 완료", "#00c851");
                유저데이터 = 결과.유저데이터;

                if (document.readyState === "complete" || document.readyState === "interactive") {
                    전투화면보여주기(유저데이터);
                    document.getElementById("메뉴얼").click();
                } else {
                    document.addEventListener("DOMContentLoaded", () => {
                        전투화면보여주기(유저데이터);
                        document.getElementById("메뉴얼").click();
                    });
                }

            } catch (e) {
                메시지표시(메시지표시박스, "", "예외 오류 발생: " + e.message, "");
            }

            화면해제();
        }

        async function 로그인() {
            화면잠금();

            const 아이디 = document.getElementById("이메일입력").value.trim();
            const 비번 = document.getElementById("비번입력").value.trim();
            const 이메일형식 = `${아이디}@gagl.com`;

            if (!아이디 || !비번) {
                메시지표시(메시지표시박스, "", "아이디와 비밀번호를 입력하세요", "");
                화면해제();
                return;
            }

            try {
                const { error: 로그인오류 } = await supabase.auth.signInWithPassword({
                    email: 이메일형식,
                    password: 비번
                });

                if (로그인오류) {
                    메시지표시(메시지표시박스, "", "로그인 실패: " + 로그인오류.message, "");
                    화면해제();
                    return;
                }

                const { data: { user } } = await supabase.auth.getUser();
                if (!user || !user.id) {
                    메시지표시(메시지표시박스, "", "유저 인증 정보 없음", "");
                    화면해제();
                    return;
                }

                const 응답 = await fetch("/get-user", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID: user.id })
                });

                const 결과 = await 응답.json();
                const 유저정보 = 결과.유저데이터;

                주인장인가 = 결과.주인장인가;

                if (!유저정보) {
                    메시지표시(메시지표시박스, "", "유저 정보가 존재하지 않습니다", "");
                    화면해제();
                    return;
                }

                유저데이터 = {
                    ...유저정보,
                    스킬: 유저정보.스킬 || {},
                    장비목록: 유저정보.장비목록 || [],
                };

                if (결과.새로고침하자 == true) {
                    location.reload();
                }

                메시지표시(메시지표시박스, "✅", "로그인 성공!", "#00c851");
                전투화면보여주기(유저데이터);
                document.getElementById("메뉴얼").click();
            } catch (e) {
                메시지표시(메시지표시박스, "", "오류 발생: " + e.message, "");
            } finally {
                화면해제();
            }
        }

        async function 회원탈퇴() {

            const 확인 = await 사용자확인(
                "돌이킬 수 없는 실수를 하시겠습니까?"
            );
            if (!확인) return;


            화면잠금();

            try {
                const {
                    data: { user }
                } = await supabase.auth.getUser();

                if (!user) {
                    메시지표시(메시지표시박스, "", "로그인 정보 없음", "");
                    return;
                }

                const 응답 = await fetch("/delete-user", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: user.id,
                        유저아이디: 유저데이터.유저아이디
                    })
                });

                if (!응답.ok) {
                    console.warn("auth 삭제 실패", await 응답.text());
                }

                메시지표시(메시지표시박스, "✅", "탈퇴가 완료되었습니다.", "");

                await supabase.auth.signOut(); // 세션 삭제
                localStorage.removeItem("기기ID"); // UUID 삭제
                location.reload(); // 로그인 화면으로 새로고침

            } catch (e) {
                메시지표시(메시지표시박스, "", "탈퇴 중 오류 발생: " + e.message, "");
            } finally {
                화면해제();
            }
        }


        document.getElementById("전투").addEventListener("click", () => {
            if (!유저데이터) return;
            전투화면보여주기(유저데이터);
        });


        function 팔레트적용(닉네임, 팔레트) {
            const 팔레트클래스 = {
                "민초": "마법의팔레트민초",
                "지옥": "마법의팔레트지옥",
                "블라섬": "마법의팔레트블라섬",
                "가글": "마법의팔레트가글",
                "겨울": "마법의팔레트겨울",
                "네온사인": "마법의팔레트네온사인",
                "핑크오션": "마법의팔레트핑크오션",
                "황혼하늘": "마법의팔레트황혼하늘",
                "에메랄드숲": "마법의팔레트에메랄드숲",
                "노랭": "마법의팔레트노랭",
                "초록": "마법의팔레트초록",
                "보라": "마법의팔레트보라",
                "핑크": "마법의팔레트핑크",
                "마왕": "마법의팔레트마왕전",
            };
            const 클래스 = 팔레트클래스[팔레트];
            return 클래스 ? `<span class="${클래스}">${닉네임}</span>` : 닉네임;
        }


        async function 전투화면보여주기(유저) {
            화면잠금();
            모든화면숨기기();
            document.getElementById("전투화면").style.display = "block";
            document.getElementById("에너지박스").style.display = "block";

            document.getElementById("화면설명").innerHTML = "스태미너는 정각을 기준으로 시간당 120씩 회복됩니다";


            if (유저.펫단계 >= 1) {
                let 색상코드;
                if (유저.펫단계 === 1) 색상코드 = "#cd7f32";
                else if (유저.펫단계 === 2) 색상코드 = "#c0c0c0";
                else 색상코드 = "#ffd700";

                const 보스넘버 = 유저.보스넘버 ?? 0;
                const 전투보스번호 = (보스넘버 - 1 + 보스데이터목록.length) % 보스데이터목록.length;
                const 전투보스 = 보스데이터목록[전투보스번호];

                const 펫아이콘 = 전투보스.아이콘;
                const 전투보스이름 = 전투보스.이름;

                const 컨테이너 = document.getElementById("화면설명");
                컨테이너.innerHTML += `<span id="펫아이콘컨테이너" style="margin-left: 8px; transform: scale(0.08); display: inline-block; vertical-align: middle;">${펫아이콘}</span>`;

                // 색상 적용
                const paths = document.querySelectorAll("#펫아이콘컨테이너 path");
                paths.forEach(p => p.setAttribute("fill", 색상코드));
            }

            const 최대 = 유저.최대스태미너 ?? 2000;
            const 현재 = 유저.현재스태미너 ?? 0;

            const 스태미너표시 = document.getElementById("스태미너표시");
            if (스태미너표시) 스태미너표시.innerText = `${현재}/${최대}`;

            const 에너지바 = document.querySelector(".에너지바");
            if (에너지바) 에너지바.style.width = `${(현재 / 최대) * 100}%`;

            document.getElementById("등급외테두리").style.border = "0.2px solid #4b4b4b";

            // const 닉네임표시 = 팔레트적용(유저.유저아이디, 유저.마법의팔레트);
            const 닉네임표시 = 팔레트적용(
                유저.유저아이디,
                유저.마왕전랭킹 === 1 ? "마왕" : 유저.마법의팔레트
            );


            document.getElementById("타이틀을아이디로").innerHTML = `${닉네임표시}`;
            document.getElementById("전투스킬설정버튼").style.display = "block";

            const 직위 = 최고전직명(유저.전직정보);

            const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
            const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
            const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
            const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];


            const 결정객체 = 유저.직업결정;

            if (결정객체) {
                const 계열키 = Object.keys(결정객체)[0];
                const 단계 = 결정객체[계열키];

                let 직업이름;
                if (계열키 === "검술") {
                    직업이름 = 검술[단계 - 1];
                } else if (계열키 === "마술") {
                    직업이름 = 마술[단계 - 1];
                } else if (계열키 === "신술") {
                    직업이름 = 신술[단계 - 1];
                } else if (계열키 === "궁술") {
                    직업이름 = 궁술[단계 - 1];
                } else {
                    직업이름 = "-";
                }

                document.getElementById("유저아이디").innerHTML = (직업이름 ? `[${직업이름}] ` : "") + (`${닉네임표시}` || "알 수 없음");

            } else {
                document.getElementById("유저아이디").innerHTML = (`${닉네임표시}` || "알 수 없음");

            }

            document.getElementById("유저공격력").innerText = `공격력 ${유저.최종공격력 || 10}`;
            document.getElementById("유저체력").innerText = `체력 ${유저.남은체력}/${유저.최대체력}`;

            document.getElementById("몬스터테두리안표시").style.display = "none";
            document.getElementById("레벨").innerText = `레벨 ${유저.레벨 || 1}`;
            document.getElementById("총경험치").innerText = 유저.경험치?.toLocaleString() || "0";
            document.getElementById("총골드").innerText = (유저.골드 || 0).toLocaleString();
            document.getElementById("총숙련도").innerText = (유저.숙련도 || 0).toLocaleString();

            document.getElementById("획득경험치").innerText = "0";
            document.getElementById("획득골드").innerText = "0";
            document.getElementById("획득숙련도").innerText = "0";
            document.getElementById("승리패배로그").innerText = "";
            document.getElementById("획득로그").innerText = "";
            document.getElementById("추가획득로그").innerText = "";
            document.querySelectorAll(".전투로그컨테이너").forEach(e => e.remove());

            if (!유저.현재층) 유저.현재층 = 1;

            document.getElementById("현재층").innerText = `${유저.현재층}층`;
            화면해제();
        }

        function 최고전직명(전직정보) {
            const 전직순서 = [
                "백인장", "오백인장", "천인장", "만인장", "부장군", "장군",
                "대장군", "대사마", "승상", "후", "공", "제후",
                "왕", "황제", "천황", "제황", "태황", "천제",
                "무극", "태일", "일자", "대천황", "초월자", "성군", "제천대성", "원제"
            ];

            let 마지막직위 = null;
            for (const 직위 of 전직순서) {
                if (전직정보?.[직위] === 1) {
                    마지막직위 = 직위;
                } else {
                    break;
                }
            }
            return 마지막직위;
        }

        let 반자동실행 = false;
        let 풀자동실행 = false;

        let 보스풀자동실행 = false;
        const 보스풀자동Btn = document.getElementById("보스풀자동");
        const 보스몬스터btn = document.getElementById("보스몬스터");

        const 반자동Btn = document.getElementById("반자동");
        const 풀자동Btn = document.getElementById("풀자동");
        const 공격Btn = document.getElementById("공격버튼");
        const 레어Btn = document.getElementById("레어몬스터");


        반자동Btn.addEventListener("click", (e) => {
            if (풀자동실행) return;

            e.stopPropagation();     // 외부 클릭 리스너로 전파 방지
            반자동실행 = !반자동실행;
            if (반자동실행) {
                document.getElementById("공격버튼").click();
            }
        });


        풀자동Btn.addEventListener("click", (e) => {
            if (반자동실행) return;
            e.stopPropagation();
            풀자동실행 = !풀자동실행;
            반자동실행 = false;

            if (풀자동실행) {
                if (레어Btn.style.display !== "none") 레어Btn.click();
                else 공격Btn.click();
            }
        });

        보스풀자동Btn.addEventListener("click", (e) => {
            e.stopPropagation();
            보스풀자동실행 = !보스풀자동실행;

            if (보스풀자동실행) {
                보스몬스터btn.click();
            }
        });



        document.getElementById("공격버튼").addEventListener("click", async () => {
            if (!유저데이터) return;

            if (유저데이터.현재스태미너 < 1) {
                메시지표시(메시지표시박스, "", "스태미너가 없습니다", "");
                반자동실행 = false;
                풀자동실행 = false;
                return;
            }

            공격버튼잠금();
            let 레어몬스터등장 = false;

            try {
                const 응답 = await fetch("/attack-normal", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저데이터 })
                });

                const 결과 = await 응답.json();
                const 등급외테두리 = document.getElementById("등급외테두리");


                if (결과.점검하자) {
                    // 기존 내용 모두 제거
                    document.body.innerHTML = '';
                    Object.assign(document.body.style, {
                        backgroundColor: '#000',
                        margin: '0',
                        display: 'flex',
                        flexDirection: 'column',
                        justifyContent: 'flex-start',   // 위쪽 정렬
                        alignItems: 'center',            // 가로 중앙
                        height: '100vh',
                        color: '#fff',
                        paddingTop: '20vh'               // 화면 상단에서 20% 내려오기
                    });
                    const msg = document.createElement('div');
                    msg.textContent = '점 검 중 >.<';
                    msg.style.fontSize = '2rem';
                    document.body.appendChild(msg);
                    return;
                }

                if (결과.새로고침하자 == true) {
                    location.reload();
                }

                // ✅ 스태미너 부족 시 처리
                if (결과.결과 === "불가") {
                    메시지표시(등급외테두리, "", 결과.메시지 || "스태미너 부족", "");
                    반자동실행 = false;
                    풀자동실행 = false;
                    화면해제();
                    return;
                }

                if (결과.스킬발동) {
                    if (결과.스킬발동.인사이트) {
                        메시지표시(숙련도테두리안표시, 인사이트아이콘, "", "#3b82f6");
                    }
                    if (결과.스킬발동.인텔리전스) {
                        메시지표시(경험치테두리안표시, 인텔리전스아이콘, "", "#00c851");
                    }
                    if (결과.스킬발동.발굴) {
                        메시지표시(골드테두리안표시, 발굴아이콘, "", "#f5c400");
                    }
                }


                // 기존 전투 로그 삭제
                const 기존로그들 = document.querySelectorAll(".전투로그컨테이너");
                기존로그들.forEach(e => e.remove());

                // 새로운 로그 생성
                if (결과.전투로그 && Array.isArray(결과.전투로그)) {
                    결과.전투로그.filter(로그 => 로그.턴 <= 100).slice().reverse().forEach(로그 => {
                        const 로그컨테이너 = document.createElement("div");
                        로그컨테이너.className = "전투로그컨테이너";
                        로그컨테이너.style.marginTop = "15px";
                        로그컨테이너.style.border = "0.2px solid #4b4b4b";
                        로그컨테이너.style.borderRadius = "10px";
                        로그컨테이너.style.padding = "15px";

                        const 아이콘HTML = (로그.아이콘 || []).map(이름 => 아이콘맵[이름] || "").join(" ");

                        // 회복 로그는 데미지 표시 안 함
                        let 데미지텍스트 = "";
                        let 회복텍스트 = "";

                        if (로그.타입 === "공격") {
                            데미지텍스트 = `<span><span style="color: #f63b3b;">${로그.몬스터이름}</span>에게 ${로그.효과} 피해를 입혔다!</span>`;
                        } else if (로그.타입 === "회복") {
                            회복텍스트 = `<span><span style="color: #3b82f6;">${로그.유저아이디}</span> 체력 ${로그.효과} 회복</span>`;
                        }

                        let 추가횟수표시 = "";
                        if (로그.타입 === "공격" && 로그.추가공격횟수 > 0) {
                            // 실제 타격 횟수 = 1(기본) + 로그.추가공격횟수
                            const 총공격횟수 = 1 + 로그.추가공격횟수;
                            추가횟수표시 = `<span style="margin-left: 4px; color: #f63b3b;">x${총공격횟수}</span>`;
                        }

                        // (2) innerHTML에서 공격 텍스트 뒤에 추가횟수표시 붙이기
                        로그컨테이너.innerHTML = `
    <div style="background: #4b4b4b; width: calc(100% + 30px); margin: -15px 0 0 -15px; padding: 6px 0; text-align: center; border-top-left-radius: 10px; border-top-right-radius: 10px;">
        <strong>Turn ${로그.턴}</strong>
    </div>
    <div class="가로정렬" style="margin: 4px 0; align-items: center; gap: 6px;">
        ${아이콘HTML}
        ${로그.타입 === "공격" ? 데미지텍스트 + 추가횟수표시 : ""}
        ${로그.타입 === "회복" ? 회복텍스트 : ""}
    </div>
<!-- 유저와 몬스터 정보 양쪽 정렬 -->
<div class="가로정렬" style="margin-top: 10px; justify-content: space-between; align-items: center; gap: 12px;">
    <div style="border: 0.2px solid #3b82f6; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        <div>${로그.유저아이디}</div>
        <div>
            <div>공격력 ${로그.유저최종공격력}</div>
            <div>체력 ${로그.유저체력}/${로그.유저최대체력}</div>
        </div>
    </div>

    <div style="border: 0.2px solid #f63b3b; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        <div>${로그.몬스터이름}</div>
        <div>
            <div>체력 ${Math.max(0, 로그.몬스터체력)}/${로그.몬스터최대체력}</div>
            <div>방어력 ${로그.몬스터방어력}</div>
        </div>
    </div>
</div>
        `;

                        const 타겟 = document.getElementById("몬스터테두리안표시");
                        if (타겟 && 타겟.parentNode) {
                            타겟.parentNode.insertBefore(로그컨테이너, 타겟.nextSibling);
                        }
                    });
                }

                if (결과.결과 === "패배") {
                    const 몬스터 = 결과.몬스터;
                    유저데이터 = 결과.유저데이터;

                    document.getElementById("몬스터테두리안표시").style.display = "block";
                    document.getElementById("악마이름").innerText = 몬스터.이름;
                    document.getElementById("악마체력").innerText = `체력 ${몬스터.체력}`;
                    document.getElementById("악마방어력").innerText = `방어력 ${몬스터.방어력}`;

                    document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;

                    document.getElementById("획득경험치").innerText = "0";
                    document.getElementById("획득골드").innerText = "0";
                    document.getElementById("획득숙련도").innerText = "0";
                    document.getElementById("레벨업표시").innerText = "";
                    document.getElementById("획득로그").innerText = "";
                    document.getElementById("추가획득로그").innerText = "";

                    document.getElementById("유저체력").innerText = `체력 ${유저데이터.남은체력}/${유저데이터.최대체력}`;
                    document.getElementById("승리패배로그").innerText = "패배";
                    document.getElementById("승리패배로그").style.color = "#ef4444";

                    반자동실행 = false;
                    풀자동실행 = false;

                } else {
                    const { 유저데이터: 새유저, 몬스터, 보상, 레벨업, 회복 } = 결과;
                    유저데이터 = 새유저;

                    document.getElementById("몬스터테두리안표시").style.display = "block";
                    document.getElementById("악마이름").innerText = 몬스터.이름;
                    document.getElementById("악마체력").innerText = `체력 ${몬스터.체력}`;
                    document.getElementById("악마방어력").innerText = `방어력 ${몬스터.방어력}`;

                    // document.getElementById("등급외테두리").style.border = `0.2px solid ${색상맵[몬스터.타입] || "#4b4b4b"}`;
                    document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;

                    document.getElementById("총경험치").innerText = 새유저.경험치.toLocaleString();
                    document.getElementById("총골드").innerText = 새유저.골드.toLocaleString();
                    document.getElementById("총숙련도").innerText = 새유저.숙련도.toLocaleString();
                    document.getElementById("획득경험치").innerText = `+${보상.경험치}`;
                    document.getElementById("획득골드").innerText = `+${보상.골드}`;
                    document.getElementById("획득숙련도").innerText = `+${보상.숙련도}`;
                    document.getElementById("레벨").innerText = `레벨 ${새유저.레벨}`;
                    document.getElementById("유저공격력").innerText = `공격력 ${새유저.최종공격력}`;
                    document.getElementById("유저체력").innerText = `체력 ${새유저.남은체력}/${새유저.최대체력}`;
                    document.getElementById("획득로그").innerText =
                        `${보상.경험치} EXP, ${보상.골드} Gold, ${보상.숙련도} 숙련도 획득`;
                    document.getElementById("추가획득로그").innerText = "";

                    if (레벨업.증가한레벨 > 0) {
                        document.getElementById("레벨업표시").innerText = `레벨 ${새유저.레벨} 달성!`;
                        document.getElementById("레벨업표시").style.color = "#3f84ec";
                    } else document.getElementById("레벨업표시").innerText = "";

                    if (결과.드랍유물) {
                        const 유물드랍박스 = document.getElementById("유물드랍박스");
                        const 유저테두리안표시 = document.getElementById("유저테두리안표시");

                        if (유물드랍박스) {
                            // ✅ 먼저 기존에 떠 있는 박스를 숨김
                            유물드랍박스.style.display = "none";

                            // ✅ setTimeout 제거 방지: 이전 타이머 클리어 (선택 사항)
                            if (window.유물드랍타이머) clearTimeout(window.유물드랍타이머);

                            유물드랍박스.innerText = `유물 [${결과.드랍유물}]을(를) 획득했다!`;
                            유물드랍박스.style.display = "block";

                            // 위치 조정용 부모 변경
                            if (유저테두리안표시) {
                                // 등급외테두리에 위치 기준 설정
                                유저테두리안표시.style.position = "relative";

                                // 유물드랍박스를 등급외테두리 내부로 이동
                                유저테두리안표시.appendChild(유물드랍박스);

                                // 전투화면용 위치 조정
                                Object.assign(유물드랍박스.style, {
                                    position: "absolute",
                                    top: "50%",
                                    left: "50%",
                                    transform: "translate(-50%, -50%)",
                                    zIndex: "100"
                                });
                            }
                        }
                        // ✅ 새 타이머로 숨김 처리 (전역 변수로 저장)
                        window.유물드랍타이머 = setTimeout(() => {
                            유물드랍박스.style.display = "none";
                        }, 3000);
                    }

                    document.getElementById("승리패배로그").innerText = "승리";
                    document.getElementById("승리패배로그").style.color = "#00c851";
                }

                const 레어몬스터 = document.getElementById("레어몬스터");

                if (결과.레어몬스터이름) {
                    document.getElementById("등급외테두리").style.border = "0.2px solid #c653ff";
                    레어몬스터.innerText = 결과.레어몬스터이름;
                    레어몬스터.style.display = "inline-block";
                    레어몬스터등장 = true;
                } else {
                    레어몬스터.style.display = "none";
                    document.getElementById("등급외테두리").style.border = "0.2px solid #4b4b4b";
                }


                // ✅ 유저데이터 변경 이후, 승리/패배 관계 없이 실행
                const 스태미너표시 = document.getElementById("스태미너표시");
                const 에너지바 = document.querySelector(".에너지바");
                if (스태미너표시 && 에너지바) {
                    const 최대 = 유저데이터.최대스태미너 ?? 2000;
                    const 현재 = 유저데이터.현재스태미너 ?? 0;
                    스태미너표시.innerText = `${현재}/${최대}`;
                    에너지바.style.width = `${(현재 / 최대) * 100}%`;
                }
                if (결과.모래시계발동) {
                    메시지표시(에너지바, 모래시계아이콘, "", "");
                }
            } catch (e) {
                메시지표시(메시지표시박스, "", "전투 중 오류: " + e.message, "");
                반자동실행 = false;
                풀자동실행 = false;

            } finally {
                if (레어몬스터등장) {
                    반자동실행 = false;
                    // await new Promise(resolve => setTimeout(resolve, 1500)); // ✅ 1.5초 대기
                } else {
                    // await new Promise(resolve => setTimeout(resolve, 500));


                }

                공격버튼잠금해제();
                if (풀자동실행) {
                    if (레어Btn.style.display !== "none") {
                        레어Btn.click();
                    } else {
                        공격Btn.click();
                    }
                    return;
                }

                if (반자동실행) {
                    공격Btn.click();
                }
            }

        });



        document.getElementById("레어몬스터").addEventListener("click", async () => {
            if (!유저데이터) return;


            if (유저데이터.현재스태미너 < 1) {
                메시지표시(메시지표시박스, "", "스태미너가 없습니다", "");
                return;
            }

            const 이름 = document.getElementById("레어몬스터").innerText;
            공격버튼잠금();
            let 레어몬스터등장 = false;

            try {
                const 응답 = await fetch("/attack-rare", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저데이터, 레어몬스터이름: 이름 })
                });

                const 결과 = await 응답.json();
                const 등급외테두리 = document.getElementById("등급외테두리");

                // ✅ 스태미너 부족 시 처리
                if (결과.결과 === "불가") {
                    메시지표시(등급외테두리, "", 결과.메시지 || "스태미너 부족", "");
                    반자동실행 = false;
                    풀자동실행 = false;

                    화면해제();
                    return;
                }

                if (결과.스킬발동) {
                    if (결과.스킬발동.인사이트) {
                        메시지표시(숙련도테두리안표시, 인사이트아이콘, "", "#3b82f6");
                    }
                    if (결과.스킬발동.인텔리전스) {
                        메시지표시(경험치테두리안표시, 인텔리전스아이콘, "", "#00c851");
                    }
                    if (결과.스킬발동.발굴) {
                        메시지표시(골드테두리안표시, 발굴아이콘, "", "#f5c400");
                    }
                }

                // 기존 전투 로그 삭제
                const 기존로그들 = document.querySelectorAll(".전투로그컨테이너");
                기존로그들.forEach(e => e.remove());

                // 새로운 로그 생성
                if (결과.전투로그 && Array.isArray(결과.전투로그)) {
                    결과.전투로그.filter(로그 => 로그.턴 <= 100).slice().reverse().forEach(로그 => {
                        const 로그컨테이너 = document.createElement("div");
                        로그컨테이너.className = "전투로그컨테이너";
                        로그컨테이너.style.marginTop = "15px";
                        로그컨테이너.style.border = "0.2px solid #4b4b4b";
                        로그컨테이너.style.borderRadius = "10px";
                        로그컨테이너.style.padding = "15px";

                        const 아이콘HTML = (로그.아이콘 || []).map(이름 => 아이콘맵[이름] || "").join(" ");

                        // 회복 로그는 데미지 표시 안 함
                        let 데미지텍스트 = "";
                        let 회복텍스트 = "";

                        if (로그.타입 === "공격") {
                            데미지텍스트 = `<span><span style="color: #f63b3b;">${로그.몬스터이름}</span>에게 ${로그.효과} 피해를 입혔다!</span>`;
                        } else if (로그.타입 === "회복") {
                            회복텍스트 = `<span><span style="color: #3b82f6;">${로그.유저아이디}</span> 체력 ${로그.효과} 회복</span>`;
                        }

                        let 추가횟수표시 = "";
                        if (로그.타입 === "공격" && 로그.추가공격횟수 > 0) {
                            // 실제 타격 횟수 = 1(기본) + 로그.추가공격횟수
                            const 총공격횟수 = 1 + 로그.추가공격횟수;
                            추가횟수표시 = `<span style="margin-left: 4px; color: #f63b3b;">x${총공격횟수}</span>`;
                        }

                        // (2) innerHTML에서 공격 텍스트 뒤에 추가횟수표시 붙이기
                        로그컨테이너.innerHTML = `
    <div style="background: #4b4b4b; width: calc(100% + 30px); margin: -15px 0 0 -15px; padding: 6px 0; text-align: center; border-top-left-radius: 10px; border-top-right-radius: 10px;">
        <strong>Turn ${로그.턴}</strong>
    </div>
    <div class="가로정렬" style="margin: 4px 0; align-items: center; gap: 6px;">
        ${아이콘HTML}
        ${로그.타입 === "공격" ? 데미지텍스트 + 추가횟수표시 : ""}
        ${로그.타입 === "회복" ? 회복텍스트 : ""}
    </div>
<!-- 유저와 몬스터 정보 양쪽 정렬 -->
<div class="가로정렬" style="margin-top: 10px; justify-content: space-between; align-items: center; gap: 12px;">
    <div style="border: 0.2px solid #3b82f6; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        <div>${로그.유저아이디}</div>
        <div>
            <div>공격력 ${로그.유저최종공격력}</div>
            <div>체력 ${로그.유저체력}/${로그.유저최대체력}</div>
        </div>
    </div>

    <div style="border: 0.2px solid #f63b3b; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        <div>${로그.몬스터이름}</div>
        <div>
            <div>체력 ${로그.몬스터체력}/${로그.몬스터최대체력}</div>
            <div>방어력 ${로그.몬스터방어력}</div>
        </div>
    </div>
</div>
        `;

                        const 타겟 = document.getElementById("몬스터테두리안표시");
                        if (타겟 && 타겟.parentNode) {
                            타겟.parentNode.insertBefore(로그컨테이너, 타겟.nextSibling);
                        }
                    });
                }


                if (결과.결과 === "패배") {
                    const 몬스터 = 결과.몬스터;
                    유저데이터 = 결과.유저데이터;

                    document.getElementById("몬스터테두리안표시").style.display = "block";
                    document.getElementById("악마이름").innerText = 몬스터.이름;
                    document.getElementById("악마체력").innerText = `체력 ${몬스터.체력}`;
                    document.getElementById("악마방어력").innerText = `방어력 ${몬스터.방어력}`;

                    // document.getElementById("등급외테두리").style.border = `0.2px solid ${색상맵[몬스터.타입] || "#4b4b4b"}`;
                    document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;

                    document.getElementById("획득경험치").innerText = "0";
                    document.getElementById("획득골드").innerText = "0";
                    document.getElementById("획득숙련도").innerText = "0";
                    document.getElementById("레벨업표시").innerText = "";
                    document.getElementById("획득로그").innerText = "";
                    document.getElementById("추가획득로그").innerText = "";

                    document.getElementById("유저체력").innerText = `체력 ${유저데이터.남은체력}/${유저데이터.최대체력}`;
                    document.getElementById("승리패배로그").innerText = "패배";
                    document.getElementById("승리패배로그").style.color = "#ef4444";

                    반자동실행 = false;
                    풀자동실행 = false;

                } else {
                    const { 유저데이터: 새유저, 몬스터, 보상, 레벨업, 회복 } = 결과;
                    유저데이터 = 새유저;

                    document.getElementById("몬스터테두리안표시").style.display = "block";
                    document.getElementById("악마이름").innerText = 몬스터.이름;
                    document.getElementById("악마체력").innerText = `체력 ${몬스터.체력}`;
                    document.getElementById("악마방어력").innerText = `방어력 ${몬스터.방어력}`;

                    // document.getElementById("등급외테두리").style.border = `0.2px solid ${색상맵[몬스터.타입] || "#4b4b4b"}`;
                    document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;

                    document.getElementById("총경험치").innerText = 새유저.경험치.toLocaleString();
                    document.getElementById("총골드").innerText = 새유저.골드.toLocaleString();
                    document.getElementById("총숙련도").innerText = 새유저.숙련도.toLocaleString();
                    document.getElementById("획득경험치").innerText = `+${보상.경험치}`;
                    document.getElementById("획득골드").innerText = `+${보상.골드}`;
                    document.getElementById("획득숙련도").innerText = `+${보상.숙련도}`;
                    document.getElementById("레벨").innerText = `레벨 ${새유저.레벨}`;
                    document.getElementById("유저공격력").innerText = `공격력 ${새유저.최종공격력}`;
                    document.getElementById("유저체력").innerText = `체력 ${새유저.남은체력}/${새유저.최대체력}`;
                    document.getElementById("획득로그").innerText =
                        `${보상.경험치 - 결과.추가경험치} EXP, ${보상.골드 - 결과.추가골드} Gold, ${보상.숙련도 - 결과.추가숙련도} 숙련도 획득`;
                    document.getElementById("추가획득로그").innerHTML =
                        (결과.추가경험치 > 0 ? `<span style="color: ${document.getElementById("총경험치")?.style.color || "#ffffff"};">추가획득 +${결과.추가경험치} EXP</span> ` : "") +
                        (결과.추가골드 > 0 ? `<span style="color: ${document.getElementById("총골드")?.style.color || "#ffd700"};">추가획득 +${결과.추가골드} Gold</span> ` : "") +
                        (결과.추가숙련도 > 0 ? `<span style="color: #3b82f6;">추가획득 +${결과.추가숙련도} 숙련도</span>` : "");

                    if (레벨업.증가한레벨 > 0) {
                        document.getElementById("레벨업표시").innerText = `레벨 ${새유저.레벨} 달성!`;
                        document.getElementById("레벨업표시").style.color = "#3f84ec";
                    } else document.getElementById("레벨업표시").innerText = "";

                    if (결과.드랍유물) {
                        const 유물드랍박스 = document.getElementById("유물드랍박스");
                        const 유저테두리안표시 = document.getElementById("유저테두리안표시");

                        if (유물드랍박스) {
                            // ✅ 먼저 기존에 떠 있는 박스를 숨김
                            유물드랍박스.style.display = "none";

                            // ✅ setTimeout 제거 방지: 이전 타이머 클리어 (선택 사항)
                            if (window.유물드랍타이머) clearTimeout(window.유물드랍타이머);

                            유물드랍박스.innerText = `유물 [${결과.드랍유물}]을(를) 획득했다!`;
                            유물드랍박스.style.display = "block";

                            // 위치 조정용 부모 변경
                            if (유저테두리안표시) {
                                // 유저테두리안표시에 위치 기준 설정
                                유저테두리안표시.style.position = "relative";

                                // 유물드랍박스를 유저테두리안표시 내부로 이동
                                유저테두리안표시.appendChild(유물드랍박스);

                                // 전투화면용 위치 조정
                                Object.assign(유물드랍박스.style, {
                                    position: "absolute",
                                    top: "50%",
                                    left: "50%",
                                    transform: "translate(-50%, -50%)",
                                    zIndex: "100"
                                });
                            }
                        }

                        // ✅ 새 타이머로 숨김 처리 (전역 변수로 저장)
                        window.유물드랍타이머 = setTimeout(() => {
                            유물드랍박스.style.display = "none";
                        }, 3000);
                    }

                    if (결과.드랍장비) {
                        const 장비 = 결과.드랍장비;
                        const 네온박스 = document.getElementById("네온박스");
                        const 유저테두리안표시 = document.getElementById("유저테두리안표시");

                        if (네온박스) {
                            // ✅ 먼저 기존에 떠 있는 박스를 숨김
                            네온박스.style.display = "none";

                            // ✅ setTimeout 제거 방지: 이전 타이머 클리어 (선택 사항)
                            if (window.네온타이머) clearTimeout(window.네온타이머);

                            네온박스.innerText = `${장비.이름}을(를) 획득했다!`;
                            네온박스.style.display = "block";

                            // 위치 조정용 부모 변경
                            if (유저테두리안표시) {
                                // 유저테두리안표시에 위치 기준 설정
                                유저테두리안표시.style.position = "relative";

                                // 네온박스를 유저테두리안표시 내부로 이동
                                유저테두리안표시.appendChild(네온박스);

                                // 전투화면용 위치 조정
                                Object.assign(네온박스.style, {
                                    position: "absolute",
                                    top: "50%",
                                    left: "50%",
                                    transform: "translate(-50%, -50%)",
                                    zIndex: "100"
                                });
                            }
                        }

                        // ✅ 새 타이머로 숨김 처리 (전역 변수로 저장)
                        window.네온타이머 = setTimeout(() => {
                            네온박스.style.display = "none";
                        }, 3000);
                    }


                    document.getElementById("승리패배로그").innerText = "승리";
                    document.getElementById("승리패배로그").style.color = "#00c851";
                }

                const 레어몬스터 = document.getElementById("레어몬스터");

                if (결과.레어몬스터이름) {
                    레어몬스터.innerText = 결과.레어몬스터이름;
                    레어몬스터.style.display = "inline-block";
                    레어몬스터등장 = true;
                    document.getElementById("등급외테두리").style.border = "0.2px solid #c653ff";
                } else {
                    레어몬스터.style.display = "none";
                    document.getElementById("등급외테두리").style.border = "0.2px solid #4b4b4b";
                }

                // ✅ 유저데이터 변경 이후, 승리/패배 관계 없이 실행
                const 스태미너표시 = document.getElementById("스태미너표시");
                const 에너지바 = document.querySelector(".에너지바");
                if (스태미너표시 && 에너지바) {
                    const 최대 = 유저데이터.최대스태미너 ?? 2000;
                    const 현재 = 유저데이터.현재스태미너 ?? 0;
                    스태미너표시.innerText = `${현재}/${최대}`;
                    에너지바.style.width = `${(현재 / 최대) * 100}%`;
                }

                if (결과.모래시계발동) {
                    메시지표시(에너지바, 모래시계아이콘, "", "");
                }

            } catch (e) {
                메시지표시(메시지표시박스, "", "레어 전투 오류: " + e.message, "");
                반자동실행 = false;
                풀자동실행 = false;

            } finally {
                if (레어몬스터등장) {
                    // await new Promise(resolve => setTimeout(resolve, 1500)); // ✅ 1.5초 대기
                } else {
                    // await new Promise(resolve => setTimeout(resolve, 500));


                }

                공격버튼잠금해제();

                if (풀자동실행) {
                    if (레어Btn.style.display !== "none") {
                        레어Btn.click();
                    } else {
                        공격Btn.click();
                    }
                }

            }

        });


        document.getElementById("타이틀을아이디로").addEventListener("click", async function 아이디변경시작() {
            if (!유저데이터) return;

            const 기존표시 = document.getElementById("타이틀을아이디로");
            const 원래아이디 = 유저데이터.유저아이디;

            // 입력창 생성
            const 입력창 = document.createElement("input");
            입력창.type = "text";
            입력창.maxLength = 8;
            입력창.placeholder = "새 아이디 입력";
            입력창.style.background = "white";
            입력창.style.color = "black";
            입력창.style.border = "none";
            입력창.style.fontSize = "14px";
            입력창.size = 8;
            입력창.style.outline = "none";
            입력창.value = "";
            기존표시.replaceWith(입력창);
            입력창.focus();

            // 외부 클릭 감지 핸들러
            const 외부클릭취소 = (e) => {
                if (!입력창.contains(e.target)) {
                    const 복원 = document.createElement("div");
                    복원.id = "타이틀을아이디로";
                    복원.className = "커서호버";
                    // const 닉네임표시 = 팔레트적용(원래아이디, 유저데이터.마법의팔레트);
                    const 닉네임표시 = 팔레트적용(
                        원래아이디,
                        유저데이터.마왕전랭킹 === 1 ? "마왕" : 유저데이터.마법의팔레트
                    );

                    복원.innerHTML = 닉네임표시;
                    입력창.replaceWith(복원);
                    복원.addEventListener("click", 아이디변경시작);
                    document.removeEventListener("click", 외부클릭취소);
                }
            };

            // 입력창 클릭 제외하고 바깥 클릭 시 취소
            setTimeout(() => {
                document.addEventListener("click", 외부클릭취소);
            }, 0);

            입력창.addEventListener("keydown", async (e) => {
                if (e.key !== "Enter") return;

                const 새아이디 = 입력창.value.trim();
                if (!새아이디 || 새아이디.length > 6) {
                    메시지표시(메시지표시박스, "", "1~6자 이내로 입력하세요", "");
                    return;
                }

                화면잠금();

                try {
                    const 응답 = await fetch("/update-username", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            유저UID: 유저데이터.유저UID,
                            새아이디
                        })
                    });

                    const 결과 = await 응답.json();

                    if (!응답.ok) {
                        메시지표시(메시지표시박스, "", 결과.오류 || "아이디 변경 실패", "");
                        화면해제();
                        return;
                    }

                    유저데이터.유저아이디 = 새아이디;
                    // const 닉네임표시 = 팔레트적용(유저데이터.유저아이디, 유저데이터.마법의팔레트);
                    const 닉네임표시 = 팔레트적용(
                        유저데이터.유저아이디,
                        유저데이터.마왕전랭킹 === 1 ? "마왕" : 유저데이터.마법의팔레트
                    );


                    const 복원 = document.createElement("div");
                    복원.id = "타이틀을아이디로";
                    복원.className = "커서호버";
                    복원.innerHTML = 닉네임표시;
                    입력창.replaceWith(복원);
                    복원.addEventListener("click", 아이디변경시작);

                    document.getElementById("유저아이디").innerHTML = 닉네임표시;
                    메시지표시(메시지표시박스, "✅", "아이디 변경 완료", "#00c851");
                    document.removeEventListener("click", 외부클릭취소);

                    location.reload();
                } catch (e) {
                    메시지표시(메시지표시박스, "", "네트워크 오류", "");
                } finally {
                    화면해제();
                }
            });
        });

        // 🟡 무지개 타이틀 애니메이션
        let 색상인덱스 = 0;
        const 무지개색들 = ["#ff0000", "#ff7f00", "#ffff00", "#00ff00", "#0000ff", "#4b0082", "#9400d3"];
        setInterval(() => {
            const 타이틀 = document.getElementById("뽑기타이틀");
            // 타이틀.style.display = "flex";
            // 타이틀.style.alignItems = "center";
            // 타이틀.style.gap = "6px";
            타이틀.innerHTML = `${뽑기아이콘} 뽑기`;
            if (타이틀) {
                타이틀.style.color = 무지개색들[색상인덱스 % 무지개색들.length];
                색상인덱스++;
            }
        }, 250);



        //외부클릭시
        document.addEventListener("click", (e) => {
            const target = e.target;


            if (target.id !== "반자동" && target.id !== "풀자동" && target.id !== "공격버튼" && target.id !== "레어몬스터") {
                반자동실행 = false;
                풀자동실행 = false;
            }

            if (target.id !== "보스풀자동" && target.id !== "보스몬스터") {
                보스풀자동실행 = false;
            }



            const 뽑기창 = document.getElementById("뽑기창");
            if (뽑기창.style.display !== "none" && !뽑기창.contains(target) && target.id !== "총골드" && target.id !== "뽑기") {
                뽑기창.style.display = "none";
            }

            const 미니창 = document.getElementById("미니정보창");
            if (미니창.style.display === "block" && !미니창.contains(target)) {
                미니창.style.display = "none";
            }

            // 3) 기타 클릭 핸들링
            switch (target.id) {
                // case "객체아이디":
                //   실행함수();
                //   break;
            }

            //    총경험치 클릭 시 전직화면 열기
            if (target.matches("#총경험치") || target.matches("#전직")) {
                모든화면숨기기();
                document.getElementById("전직화면").style.display = "block";
                전직화면보여주기();
            }
        });


        document.getElementById("총골드").addEventListener("click", () => {
            if (!유저데이터) return;
            const 뽑기창 = document.getElementById("뽑기창");
            뽑기창.style.display = "block";
        });


        async function 장비뽑기시도(종류 = "일반") {
            const 뽑기창 = document.getElementById("뽑기창");
            const 네온박스 = document.getElementById("네온박스");
            const 비용 = 100000;
            const 등급외테두리 = document.getElementById("등급외테두리");

            if (종류 === "일반") {
                if (유저데이터.골드 < 비용) {
                    메시지표시(뽑기창, "", "골드 부족!", "");
                    return;
                }
            } else if (종류 === "고급") {
                const 티켓 = 유저데이터.유물목록?.["티켓"] || 0;
                if (티켓 < 1) {
                    메시지표시(뽑기창, "", "유물. 티켓이 부족합니다!", "");
                    return;
                }
            } else if (종류 === "연속일반") {
                if (유저데이터.골드 < 10 * 비용) {
                    메시지표시(뽑기창, "", "골드 부족!", "");
                    return;
                }
            } else if (종류 === "연속고급") {
                const 티켓 = 유저데이터.유물목록?.["티켓"] || 0;
                if (티켓 < 10) {
                    메시지표시(뽑기창, "", "유물. 티켓이 부족합니다!", "");
                    return;
                }
            }

            const 메시지 =
                종류 === "일반"
                    ? `일반장비뽑기을 ${비용.toLocaleString()} 골드로 진행하시겠습니까?`
                    : 종류 === "고급"
                        ? `고급장비뽑기을 티켓 1장으로 진행하시겠습니까?`
                        : 종류 === "연속일반"
                            ? `연속일반장비뽑기 10회를 총 ${(10 * 비용).toLocaleString()} 골드로 진행하시겠습니까?`
                            : 종류 === "연속고급"
                                ? `연속고급장비뽑기 10회를 티켓 10장으로 진행하시겠습니까?`
                                : "";

            const 확인 = await 사용자확인(메시지);
            뽑기창.style.display = "none";
            if (!확인) return;


            화면잠금();
            try {
                const 응답 = await fetch("/gamble-Equipment", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID: 유저데이터.유저UID, 종류 })
                });
                const 결과 = await 응답.json();
                if (!응답.ok || 결과.오류) {
                    메시지표시(등급외테두리, "", 결과.오류 || "", "");
                    return;
                }
                유저데이터 = 결과.유저데이터;
                document.getElementById("총골드").innerText = 유저데이터.골드.toLocaleString();

                const items = Array.isArray(결과.results) ? 결과.results : [결과];
                items.forEach((item, i) => {
                    setTimeout(() => {
                        const 네온박스 = document.getElementById("네온박스");

                        if (!item.장비) {
                            메시지표시(등급외테두리, item.퍼즐발동 ? 퍼즐아이콘 : "", "뽑기에 실패했습니다!", "");
                            return;
                        }
                        if (item.퍼즐발동) {
                            메시지표시(등급외테두리, 퍼즐아이콘, "", "");
                        }


                        if (네온박스) {
                            네온박스.style.display = "none";

                            if (window.네온타이머) clearTimeout(window.네온타이머);
                            네온박스.innerText = `${item.장비.이름}을(를) 획득했다!`;
                            네온박스.style.display = "block";

                            if (등급외테두리) {
                                등급외테두리.style.position = "relative";
                                등급외테두리.appendChild(네온박스);
                                Object.assign(네온박스.style, {
                                    position: "absolute",
                                    top: "50%",
                                    left: "50%",
                                    transform: "translate(-50%, -50%)",
                                    zIndex: "100"
                                });
                            }
                        }
                        window.네온타이머 = setTimeout(() => {
                            네온박스.style.display = "none";
                        }, 3000);

                    }, i * 500);
                });

            } catch (e) {
                메시지표시(등급외테두리, "", "뽑기 중 오류: " + e.message, "");
            } finally {
                화면해제();
            }
        }

        async function 현질(종류 = "팔레트") {
            메시지표시(뽑기창, "", "오픈톡 '가글주인장'으로 문의하세요", "");
        }

        async function 유물뽑기시도(종류 = "일반") {
            const 뽑기창 = document.getElementById("뽑기창");
            const 비용 = 100000;
            const 유물드랍박스 = document.getElementById("유물드랍박스");
            const 유저테두리안표시 = document.getElementById("유저테두리안표시");

            const maxCounts = {
                "플라워": 9,
                "뼈다구": 9,
                "안경": 9,
                "샐러드": 0,
                "스피커": 0,
                "열쇠": 9,
            };

            // 유저가 가진 모든 유물 이름 기준으로 검사
            const 유물보유상태 = Object.entries(유저데이터.유물목록 || {}).map(([이름, 보유수량]) => {
                const 최대개수 = maxCounts[이름] ?? 99;
                return 보유수량 >= 최대개수;
            });

            // 유저가 가진 유물들이 전부 최대 보유량일 경우
            if (유물보유상태.length > 0 && 유물보유상태.every(Boolean)) {
                메시지표시(메시지표시박스, "", "더이상 유물획득이 불가합니다. 유물을 합성하세요", "");
                return;
            }

            // ✅ 일반유물데이터 전체 검사 추가
            const 일반유물이름들 = Object.keys(일반유물데이터);
            const 일반유물포화상태 = 일반유물이름들.every(이름 => {
                const 보유량 = 유저데이터.유물목록?.[이름] || 0;
                return 보유량 >= 99;
            });

            if (일반유물포화상태) {
                메시지표시(메시지표시박스, "", "패시브 유물 수량이 최대입니다. 유물화면에서 합성 후 시도하세요", "");
                return;
            }

            if (종류 === "일반") {
                if (유저데이터.골드 < 비용) {
                    메시지표시(메시지표시박스, "", "골드 부족!", "");
                    return;
                }
            } else if (종류 === "연속일반") {
                if (유저데이터.골드 < 10 * 비용) {
                    메시지표시(메시지표시박스, "", "골드 부족!", "");
                    return;
                }
            }

            const 메시지 =
                종류 === "일반"
                    ? `유물뽑기(을)를 ${비용.toLocaleString()} 골드로 진행하시겠습니까?`
                    : 종류 === "연속일반"
                        ? `유물뽑기 10회를 총 ${(10 * 비용).toLocaleString()} 골드로 진행하시겠습니까?`
                        : "";


            const 확인 = await 사용자확인(메시지);
            뽑기창.style.display = "none";
            if (!확인) return;

            화면잠금();
            try {
                const 응답 = await fetch("/gamble-Relic", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: 유저데이터.유저UID,
                        종류, // 반드시 함께 전송해야 서버에서 1회/10회 구분 가능
                    }),
                });
                const 결과 = await 응답.json();

                if (!응답.ok || 결과.오류) {
                    메시지표시(메시지표시박스, "", 결과.오류 || "", "");
                    return;
                }

                유저데이터 = 결과.유저데이터;
                document.getElementById("총골드").innerText = 유저데이터.골드.toLocaleString();

                // 5) 결과가 여러 회차인 경우, 순차적으로 띄워줌
                const items = Array.isArray(결과.results) ? 결과.results : [결과];

                items.forEach((item, i) => {
                    setTimeout(() => {
                        // 5-1) 퍼즐 발동 시 별도 표시 (원하는 아이콘 넣어주세요)
                        if (item.퍼즐발동) {
                            메시지표시(메시지표시박스, 퍼즐아이콘, "", "");
                        }

                        // 5-2) 유물 획득 알림
                        if (유물드랍박스) {
                            // 기존에 떠 있던 박스를 숨김
                            유물드랍박스.style.display = "none";
                            if (window.유물드랍타이머) clearTimeout(window.유물드랍타이머);

                            // 텍스트 설정
                            if (item.유물이름) {
                                유물드랍박스.innerText = `유물 [${item.유물이름}]을(를) 획득했다!`;
                            } else {
                                유물드랍박스.innerText = "뽑기에 실패했습니다!";
                            }

                            // 화면에 표시
                            유물드랍박스.style.display = "block";

                            // 위치 조정
                            if (유저테두리안표시) {
                                유저테두리안표시.style.position = "relative";
                                유저테두리안표시.appendChild(유물드랍박스);
                                Object.assign(유물드랍박스.style, {
                                    position: "absolute",
                                    top: "50%",
                                    left: "50%",
                                    transform: "translate(-50%, -50%)",
                                    zIndex: "100",
                                });
                            }

                            // 3초 후 숨김
                            window.유물드랍타이머 = setTimeout(() => {
                                유물드랍박스.style.display = "none";
                            }, 3000);
                        }
                    }, i * 500); // 회차마다 0.5초 간격으로 표시
                });
            } catch (e) {
                메시지표시(메시지표시박스, "", "뽑기 중 오류: " + e.message, "");
            } finally {
                화면해제();
            }
        }

        document.getElementById("아래층으로").addEventListener("click", async () => {
            if (!유저데이터) return;
            if (유저데이터.현재층 <= 1) return 메시지표시(아래층으로, "", "지하로 내려갈 수 없습니다", "");

            유저데이터.현재층--;
            document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;
        });

        document.getElementById("위층으로").addEventListener("click", async () => {
            if (!유저데이터) return;

            // if (유저데이터.현재층 >= 4) {
            //     메시지표시(위층으로, 마법진아이콘, " 빛나는 마법진이 가로막습니다", "");
            //     return;
            // }

            유저데이터.현재층++;
            document.getElementById("현재층").innerText = `${유저데이터.현재층}층`;
        });



        async function 전직화면보여주기() {
            화면잠금();
            document.getElementById("화면설명").innerHTML =
                "경험치를 소모하여 전직과 직업선택이 가능합니다<br>전직과 직업을 클릭 시 직업 초기화가 가능합니다<br>";

            // 1) 서버에서 전직정보 + 경험치 가져오기
            const 응답 = await fetch("/get-job-info", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
            });
            const 결과 = await 응답.json();
            if (!응답.ok) {
                메시지표시(메시지표시박스, "", "전직정보 조회 실패: " + 결과.오류, "");
                화면해제();
                return;
            }
            const 전직정보 = 결과.전직정보;      // { "백인장":0, "오백인장":1, ... }
            let 경험치 = 결과.경험치 ?? 0;

            // 2) 서버에서 이미 선택된 계열(직업결정 JSON) 가져오기
            const 둘째응답 = await fetch("/get-job-result", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
            });
            const 둘째결과 = await 둘째응답.json();
            if (!둘째응답.ok) {
                메시지표시(메시지표시박스, "", "전직 결과 조회 실패: " + 둘째결과.오류, "");
                화면해제();
                return;
            }
            // 직업결정 컬럼 형식: null 또는 { "마술": 1 }, { "궁술": 2 } 등
            const 직업결정JSON = 둘째결과.직업결정 || null;

            // 3) 완료된 킹덤 전직 개수 계산
            const 전직순서 = [
                "백인장", "오백인장", "천인장", "만인장", "부장군", "장군",
                "대장군", "대사마", "승상", "후", "공", "제후",
                "왕", "황제", "천황", "제황", "태황", "천제",
                "무극", "태일", "일자", "대천황", "초월자", "성군", "제천대성", "원제"
            ];

            let 완료개수 = 0;
            for (const 직위 of 전직순서) {
                if (전직정보[직위] === 1) 완료개수++;
                else break;
            }
            // 완료개수: 0~18

            // 4) 컨테이너 비우기
            const container = document.getElementById("전직컨테이너");
            document.querySelectorAll(".전직항목").forEach(e => e.remove());

            const 경험치div = document.getElementById("경험치와포인트");
            경험치div.innerHTML = `
        <div>경험치</div>
        <div>${경험치.toLocaleString()} 포인트</div>
    `;

            // 6) 킹덤 전직(왕위)의 최상위 다음 후보 표시
            if (완료개수 < 전직순서.length) {
                const 다음킹덤 = 전직순서[완료개수];
                const div = document.createElement("div");
                div.className = "사백픽셀테두리 양쪽정렬 전직항목";
                div.style.marginTop = "5px";

                const 왼쪽 = document.createElement("div");
                왼쪽.style.display = "flex";
                왼쪽.style.flexDirection = "column";
                왼쪽.style.fontWeight = "bold";

                const 직위텍스트 = document.createElement("div");
                직위텍스트.textContent = 다음킹덤;

                const 효과텍스트 = document.createElement("div");
                효과텍스트.textContent = `최종공격력 x${(1.1 + 완료개수 * 0.1).toFixed(1)}`;
                효과텍스트.style.fontSize = "12px";
                효과텍스트.style.color = "gray";
                효과텍스트.style.marginTop = "3px";

                왼쪽.appendChild(직위텍스트);
                왼쪽.appendChild(효과텍스트);

                const 오른쪽 = document.createElement("div");
                오른쪽.style.borderRadius = "7px";
                오른쪽.style.padding = "7px 10px";
                오른쪽.style.fontSize = "13px";
                const 비용 = (완료개수 + 1) * 50000;
                오른쪽.textContent = `전직(${비용.toLocaleString()}p)`;
                오른쪽.style.backgroundColor = "white";
                오른쪽.style.color = "black";
                오른쪽.style.cursor = "pointer";
                오른쪽.onclick = () => {
                    전직하기(다음킹덤, 왼쪽);
                };

                div.appendChild(왼쪽);
                div.appendChild(오른쪽);
                container.appendChild(div);
            }

            // 7) 각 계열별 직업 목록 및 설명 정의
            const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
            const 검술설명 = [
                "추가공격(1~4회) 확률 10%",
                "추가공격(1~4회) 확률 20%",
                "추가공격(1~4회) 확률 30%",
                "추가공격(1~4회) 확률 40%",
                "추가공격(1~4회) 확률 50%",
                "추가공격(1~4회) 확률 80%"
            ];

            const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
            const 마술설명 = [
                "추가데미지 20%",
                "추가데미지 40%",
                "추가데미지 60%",
                "추가데미지 80%",
                "추가데미지 100%",
                "추가데미지 160%"
            ];

            const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
            const 신술설명 = [
                "턴당체력회복+1 확률 11%",
                "턴당체력회복+2 확률 11%",
                "턴당체력회복+3 확률 11%",
                "턴당체력회복+4 확률 11%",
                "턴당체력회복+5 확률 11%",
                "턴당체력회복+8 확률 11%",
            ];

            const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];
            const 궁술설명 = [
                "체력소모무시 8%",
                "체력소모무시 16%",
                "체력소모무시 24%",
                "체력소모무시 32%",
                "체력소모무시 40%",
                "체력소모무시 64%",
            ];

            // helper: 한 개의 직업 항목을 만들어 container에 추가 (비용 매개변수 추가)
            function 직업항목추가(직업명, 설명, 비용, onClickFn) {
                const div = document.createElement("div");
                div.className = "사백픽셀테두리 양쪽정렬 전직항목";
                div.style.marginTop = "5px";

                const 왼쪽 = document.createElement("div");
                왼쪽.style.display = "flex";
                왼쪽.style.flexDirection = "column";
                왼쪽.style.fontWeight = "bold";

                const 이름텍스트 = document.createElement("div");
                이름텍스트.textContent = 직업명;

                const 설명텍스트 = document.createElement("div");
                설명텍스트.textContent = 설명;
                설명텍스트.style.fontSize = "12px";
                설명텍스트.style.color = "gray";
                설명텍스트.style.marginTop = "3px";

                왼쪽.appendChild(이름텍스트);
                왼쪽.appendChild(설명텍스트);

                const 오른쪽 = document.createElement("div");
                오른쪽.style.borderRadius = "7px";
                오른쪽.style.padding = "7px 10px";
                오른쪽.style.fontSize = "13px";
                오른쪽.textContent = `선택(${비용.toLocaleString()}p)`;
                오른쪽.style.backgroundColor = "white";
                오른쪽.style.color = "black";
                오른쪽.style.cursor = "pointer";
                오른쪽.onclick = onClickFn;

                div.appendChild(왼쪽);
                div.appendChild(오른쪽);
                container.appendChild(div);
            }

            // a) 킹덤 완료개수 < 3: 계열 직업 노출 없음
            if (완료개수 < 3) {
                화면해제();
                return;
            }

            // b) 직업결정이 아직 없는 상태 → 1차 직업을 “[계열] 직업명” 형태로 노출
            if (!직업결정JSON) {
                if (완료개수 >= 3) {
                    const cost1 = 150000;
                    직업항목추가(
                        `[검술] ${검술[0]}`,  // ← “[검술] 나이트”
                        검술설명[0],
                        cost1,
                        () => 계열선택("검술")
                    );
                    직업항목추가(
                        `[마술] ${마술[0]}`,  // ← “[마술] 매지션”
                        마술설명[0],
                        cost1,
                        () => 계열선택("마술")
                    );
                    직업항목추가(
                        `[신술] ${신술[0]}`,  // ← “[신술] 클레릭”
                        신술설명[0],
                        cost1,
                        () => 계열선택("신술")
                    );
                    직업항목추가(
                        `[궁술] ${궁술[0]}`,  // ← “[궁술] 스나이퍼”
                        궁술설명[0],
                        cost1,
                        () => 계열선택("궁술")
                    );
                }
                화면해제();
                return;
            }

            // c) 직업결정JSON이 존재하는 상태 → 계열 + 단계 정보 파싱
            const 선택계열 = Object.keys(직업결정JSON)[0];   // ex) "마술"
            const 선택단계 = 직업결정JSON[선택계열];           // ex) 1

            // 계열별 목록과 설명을 결정
            let 계열목록, 계열설명;
            if (선택계열 === "검술") {
                계열목록 = 검술;
                계열설명 = 검술설명;
            } else if (선택계열 === "마술") {
                계열목록 = 마술;
                계열설명 = 마술설명;
            } else if (선택계열 === "신술") {
                계열목록 = 신술;
                계열설명 = 신술설명;
            } else {
                계열목록 = 궁술;
                계열설명 = 궁술설명;
            }

            // 다음 단계 인덱스 (0-based)
            const 다음Idx = 선택단계; // 예: 선택단계=1 이면 다음Idx=1

            if (다음Idx < 계열목록.length) {
                // → “[마술] 워록” 식으로 표시
                const 다음직업명 = `[${선택계열}] ${계열목록[다음Idx]}`;
                const 다음설명 = 계열설명[다음Idx];

                // 필요한 킹덤 전직 완료 단계: (다음Idx + 1) * 3
                const 필요한단계 = (다음Idx + 1) * 3;

                // 경험치 비용 계산 (단계 1: 100,000p, 단계 2: 200,000p, …)
                const cost = (다음Idx + 1) * 150000;

                const 클릭함수 = () => {
                    if (완료개수 < 필요한단계) {
                        메시지표시(메시지표시박스, "", `${전직순서[필요한단계 - 1]} 전직 완료 시 선택할 수 있습니다.`, "");
                        return;
                    }
                    계열선택(선택계열);
                };

                직업항목추가(다음직업명, 다음설명, cost, 클릭함수);
            }

            화면해제();
        }



        async function 계열선택(계열) {
            화면잠금();
            try {
                // 📌 경험치 사전 확인
                const 현재단계 = 유저데이터.직업결정?.[계열] ?? 0;
                const 다음단계 = 현재단계 + 1;
                const 비용 = 다음단계 * 150000;
                const 현재경험치 = 유저데이터.경험치 ?? 0;

                if (현재경험치 < 비용) {
                    메시지표시(메시지표시박스, "", `경험치가 부족합니다`, "");
                    화면해제();
                    return;
                }

                // ✅ 서버에 선택된 계열을 저장
                const 응답 = await fetch("/set-job-result", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: 유저데이터.유저UID,
                        계열선택: 계열
                    })
                });

                const 결과 = await 응답.json();
                if (!응답.ok) {
                    메시지표시(메시지표시박스, "", (결과.오류 || "알 수 없는 오류"), "");
                    화면해제();
                    return;
                }

                // ✅ 반영
                유저데이터.경험치 = 결과.새로운경험치;
                유저데이터.레벨 = 결과.레벨;
                유저데이터.최종공격력 = 결과.최종공격력;
                유저데이터.직업결정 = 결과.직업결정;


                await 전직화면보여주기();
            } catch (e) {
                메시지표시(메시지표시박스, "", "서버 오류 발생", "");
            } finally {
                화면해제();
            }
        }




        async function 전직하기(직위, 위치참조) {
            화면잠금();

            // ✅ 1. 경험치 및 중복 여부 미리 체크
            const 전직정보 = 유저데이터.전직정보 ?? {};
            const 완료전직갯수 = Object.values(전직정보).filter(v => v === 1).length;
            const 비용 = (완료전직갯수 + 1) * 50000;
            const 현재경험치 = 유저데이터.경험치 ?? 0;

            if (현재경험치 < 비용) {
                메시지표시(메시지표시박스, "", `경험치가 부족합니다`, "");
                화면해제();
                return;
            }

            const 응답 = await fetch("/promote-job", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    유저UID: 유저데이터.유저UID,
                    직위: 직위
                })
            });

            const 결과 = await 응답.json();

            if (!응답.ok) {
                메시지표시(메시지표시박스, "", "전직 실패: " + 결과.오류, "");
                화면해제();
                return;
            }
            유저데이터.경험치 = 결과.경험치;     // 추가
            유저데이터.레벨 = 결과.레벨;            // 추가
            유저데이터.최종공격력 = 결과.최종공격력;

            // 성공하면 화면 갱신
            메시지표시(메시지표시박스, "", 직위 + " 전직 성공!", "");
            전직화면보여주기();
        }

        const 일반유물데이터 = {
            "소드": { 설명: "공격력이 증가합니다(*1%)" },
            "하트플러스": { 설명: "체력이 증가합니다(*1%)" },
            "고스트": { 설명: "히든몬스터 등장률이 증가합니다(*1%)" },
            "쉴드밴": { 설명: "악마들의 방어력을 감소시킵니다(*1%)" },
            "하트마이너스": { 설명: "악마들의 체력 감소(*0.1%)" },
            "클로버": { 설명: "장비 뽑기확률이 증가합니다(*0.1%)" },
            "모래시계": { 설명: "스태미너 소모를 무시합니다(0.1%)" },
            "암포라": { 설명: "보스전 스태미너 소모량 감소(1%)" },
            "퍼즐": { 설명: "뽑기비용을 무시합니다(0.1%)" },
            "스탭": { 설명: "화려한 발재간으로 체력소모무시(0.1%)" },
            "망치": { 설명: "루시퍼의 심장 강화확률 증가(+0.1%)" },
            "모루": { 설명: "증발되는 재료를 재조립합니다(0.1%)" },
            "펜타그램": { 설명: "진화 확률을 증가시킵니다(+0.01%)" },
        };
        const 레어유물데이터 = {
            "소드": { 설명: "공격력이 증가합니다(*1%)" },
            "하트플러스": { 설명: "체력이 증가합니다(*1%)" },
            "고스트": { 설명: "히든몬스터 등장률이 증가합니다(*1%)" },
            "쉴드밴": { 설명: "악마들의 방어력을 감소시킵니다(*1%)" },
            "하트마이너스": { 설명: "악마들의 체력 감소(*0.1%)" },
            "클로버": { 설명: "장비 뽑기확률이 증가합니다(*0.1%)" },
            "모래시계": { 설명: "스태미너 소모를 무시합니다(0.1%)" },
            "암포라": { 설명: "보스전 스태미너 소모량 감소(1%)" },
            "퍼즐": { 설명: "뽑기비용을 무시합니다(0.1%)" },
            "스탭": { 설명: "화려한 발재간으로 체력소모무시(0.1%)" },
            "플라워": { 설명: "스킬을 초기화합니다" },
            "뼈다구": { 설명: "직업을 초기화합니다" },
            "티켓": { 설명: "고급장비도박에 사용됩니다" },
            "샐러드": { 설명: "스태미너를 충전합니다(+60)" },
            "열쇠": { 설명: "지하던전에 진입합니다" },
            "스피커": { 설명: "광장에서 소리칠 수 있습니다" },
            "망치": { 설명: "루시퍼의 심장 강화확률 증가(+0.1%)" },
            "모루": { 설명: "증발되는 재료를 재조립합니다(0.1%)" },
            "펜타그램": { 설명: "진화 확률을 증가시킵니다(+0.01%)" },
            "안경": { 설명: "악세사리를 바꿔낄 수 있습니다" },
            "데빌마스크": { 설명: "마왕에게 도전할 수 있습니다" },
        };
        const 신화유물데이터 = {
            "소드": { 설명: "공격력이 증가합니다(*1%)" },
            "스피어": { 설명: "공격력이 증가합니다(*1%)" },
            "투핸드소드": { 설명: "공격력이 증가합니다(*1%)" },
            "사이": { 설명: "공격력이 증가합니다(*1%)" },
            "라이트세이버즈": { 설명: "공격력이 증가합니다(*1%)" },
            "추방자의검": { 설명: "공격력이 증가합니다(*1%)" },
            "하트플러스": { 설명: "체력이 증가합니다(*1%)" },
            "하트비트": { 설명: "체력이 증가합니다(*1%)" },
            "소망": { 설명: "체력이 증가합니다(*1%)" },
            "물약": { 설명: "체력이 증가합니다(*1%)" },
            "하트윙": { 설명: "체력이 증가합니다(*1%)" },
            "테크놀로지아": { 설명: "체력이 증가합니다(*1%)" },
            "고스트": { 설명: "히든몬스터 등장률이 증가합니다(*1%)" },
            "쉴드밴": { 설명: "악마들의 방어력을 감소시킵니다(*1%)" },
            "하트마이너스": { 설명: "악마들의 체력 감소(*0.1%)" },
            "브로큰하트": { 설명: "악마들의 체력 감소(*0.1%)" },
            "산산조각하트": { 설명: "악마들의 체력 감소(*0.1%)" },
            "클로버": { 설명: "장비 뽑기확률이 증가합니다(*0.1%)" },
            "모래시계": { 설명: "스태미너 소모를 무시합니다(0.1%)" },
            "암포라": { 설명: "보스전 스태미너 소모량 감소(1%)" },
            "퍼즐": { 설명: "뽑기비용을 무시합니다(0.1%)" },
            "스탭": { 설명: "화려한 발재간으로 체력소모무시(0.1%)" },
            "플라워": { 설명: "스킬을 초기화합니다" },
            "뼈다구": { 설명: "직업을 초기화합니다" },
            "티켓": { 설명: "고급장비도박에 사용됩니다" },
            "샐러드": { 설명: "스태미너를 충전합니다(+60)" },
            "열쇠": { 설명: "지하던전에 진입합니다" },
            "스피커": { 설명: "광장에서 소리칠 수 있습니다" },
            "마법의팔레트": { 설명: "아이디를 염색합니다" },
            "햄버거": { 설명: "스태미너를 충전합니다(+300)" },
            "망치": { 설명: "루시퍼의 심장 강화확률 증가(+0.1%)" },
            "모루": { 설명: "증발되는 재료를 재조립합니다(0.1%)" },
            "펜타그램": { 설명: "진화 확률을 증가시킵니다(+0.01%)" },
            "안경": { 설명: "악세사리를 바꿔낄 수 있습니다" },
            "쉴드배앤": { 설명: "악마들의 방어력을 더 감소시킵니다(*1%)" },
            "고오스": { 설명: "히든몬스터 등장률이 더 증가합니다(*1%)" },
            "고오스트": { 설명: "히든몬스터 등장률이 더 더 증가합니다(*1%)" },
            "월계수": { 설명: "장비 뽑기확률이 더 증가합니다(*0.1%)" },
            "데빌마스크": { 설명: "마왕에게 도전할 수 있습니다" },
            "보스의알": { 설명: "미정" },
        };

        document.addEventListener("DOMContentLoaded", async () => {
            const { data: { user }, error: 인증오류 } = await supabase.auth.getUser();

            if (인증오류) {
                return;
            }

            if (user && user.id) {
                try {
                    const 유저응답 = await fetch("/get-user", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ 유저UID: user.id })
                    });
                    const 유저결과 = await 유저응답.json();
                    const 유저정보 = 유저결과.유저데이터;

                    주인장인가 = 유저결과.주인장인가;

                    // if (결과.점검하자 == true) {
                    //     document.body.style.display = 'none';
                    // }

                    if (유저결과.새로고침하자 == true) {
                        location.reload();
                    }

                    if (유저결과.점검하자) {
                        // 기존 내용 모두 제거
                        document.body.innerHTML = '';
                        Object.assign(document.body.style, {
                            backgroundColor: '#000',
                            margin: '0',
                            display: 'flex',
                            flexDirection: 'column',
                            justifyContent: 'flex-start',   // 위쪽 정렬
                            alignItems: 'center',            // 가로 중앙
                            height: '100vh',
                            color: '#fff',
                            paddingTop: '20vh'               // 화면 상단에서 20% 내려오기
                        });
                        const msg = document.createElement('div');
                        msg.textContent = '점 검 중 >.<';
                        msg.style.fontSize = '2rem';
                        document.body.appendChild(msg);
                        return;
                    }


                    // if (!유저정보 || 유저정보.버전업 !== 8) {
                    //     await fetch("/delete-user", {
                    //         method: "POST",
                    //         headers: { "Content-Type": "application/json" },
                    //         body: JSON.stringify({ 유저UID: user.id })
                    //     });

                    //     await supabase.auth.signOut();
                    //     alert("드락실 벨고르 마하 투라크... 에이라스 노 크살. 메테오!");
                    //     location.reload();
                    //     alert("메테오를 맞고 새로 태어납니다.");
                    //     return;
                    // }

                    유저데이터 = 유저정보;
                    메시지표시(메시지표시박스, "", "자동로그인 완료", "#00c851");

                    전투화면보여주기(유저데이터);
                    document.getElementById("메뉴얼").click();

                } catch (e) {
                    메시지표시(메시지표시박스, "", "자동 로그인 오류: " + e.message, "");
                }
            } else {
                메시지표시(메시지표시박스, "", "로그인된 유저 없음", "");
            }

        });



        function 모든화면숨기기() {
            const 화면ID들 = [
                "전투화면", "장비화면", "스킬화면", "전당화면", "인증화면",
                "유물화면", "전직화면", "보스화면", "에너지박스",
                "메뉴얼화면", "내정보화면", "캐시샵화면", "지하던전화면",
                "정보툴팁", "성장툴팁", "월드툴팁", "광장화면", "일어난일화면",
                "악세화면", "가글사전화면", "우편함화면", "주인장화면",
                "마왕전화면",
            ];
            화면ID들.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = "none";
            });
            const 설명 = document.getElementById("화면설명");
            설명.classList.remove("마법의팔레트가글");
        }

        const 정보버튼 = document.getElementById("정보");

        const 정보툴팁 = document.createElement("div");
        정보툴팁.id = "정보툴팁";
        정보툴팁.style.position = "absolute";
        정보툴팁.style.zIndex = "99999";
        정보툴팁.style.display = "flex";
        정보툴팁.style.flexDirection = "column";
        정보툴팁.style.gap = "4px";
        정보툴팁.style.background = "black";
        정보툴팁.style.width = "fit-content";
        정보툴팁.style.border = "0.2px solid #4b4b4b";
        정보툴팁.style.borderRadius = "10px";
        정보툴팁.style.boxSizing = "border-box";
        정보툴팁.style.padding = "5px";

        정보툴팁.innerHTML = `
  <div style="display: flex; flex-direction: column; gap: 10px;">    
    <div class="버튼" id="내정보">내 정 보</div>
    <div class="버튼" id="우편함">우 편 함</div>
           <div class="버튼" id="캐시샵">캐 시 샵</div>
 <div class="버튼" id="메뉴얼">메 뉴 얼</div>
    <div class="버튼" id="일어난일">일어난일</div>
    <div class="버튼" id="가글사전">가글사전</div>
          <div class="버튼" id="광장">광 장</div>
</div>
`;
        // <div class="버튼" id="로그아웃">로그아웃</div>


        정보툴팁.style.display = "none";
        document.body.appendChild(정보툴팁);

        // 정보버튼.addEventListener("mouseenter", () => {
        //     const rect = 정보버튼.getBoundingClientRect();

        //     // 먼저 보여줘야 offsetWidth를 읽을 수 있음
        //     정보툴팁.style.display = "block";

        //     const 툴팁너비 = 정보툴팁.offsetWidth;
        //     정보툴팁.style.left = (rect.right - 툴팁너비) + "px";
        //     정보툴팁.style.top = rect.bottom + "px";
        // });

        정보버튼.addEventListener("mouseenter", () => {
            const rect = 정보버튼.getBoundingClientRect();
            정보툴팁.style.display = "block";

            // ✅ 내부 div 요소 가져오기 (첫 자식 요소)
            const 내부컨테이너 = 정보툴팁.firstElementChild;

            if (주인장인가 && !document.getElementById("주인장")) {
                const 주버튼 = document.createElement("div");
                주버튼.className = "버튼";
                주버튼.id = "주인장";
                주버튼.textContent = "주 인 장";

                // ✅ 이벤트 리스너 여기서 바로 붙이기
                주버튼.addEventListener("click", async () => {
                    if (!유저데이터) return;
                    화면잠금();

                    document.getElementById("화면설명").innerHTML = "주인장전용화면";

                    모든화면숨기기();
                    document.getElementById("주인장화면").style.display = "block";



                    //패치중
                    try {
                        const 응답 = await fetch("/get-oner", {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                        });

                        const 결과 = await 응답.json();
                        메시지표시(메시지표시박스, "", 결과.성공, "");


                    } catch (e) {
                        메시지표시(메시지표시박스, "", "서버요청오류" + e.message, "");
                        화면해제();
                    }





                    const 컨테이너 = document.getElementById("주인장컨테이너");
                    컨테이너.innerHTML = "";


                    const form = document.createElement("div");
                    form.style.display = "flex";
                    form.style.flexDirection = "column";
                    form.style.gap = "10px";
                    form.style.marginTop = "20px";

                    form.innerHTML = `
  <div>
    <div>🎯 유저아이디</div>
    <input id="우편유저입력" type="text" placeholder="예: 김채빈" style="width: 200px;" />
  </div>
  <div>
    <div>📦 아이템 이름</div>
    <input id="우편이름입력" type="text" placeholder="예: 햄버거" style="width: 200px;" />
  </div>
  <div>
    <div>🔢 수량</div>
    <input id="우편수량입력" type="number" placeholder="예: 3" style="width: 100px;" />
  </div>
  <div>
    <div>📝 메모</div>
    <input id="우편메모입력" type="text" placeholder="예: 7월 7일 기념버거" style="width: 300px;" />
  </div>
  <button id="우편보내기버튼" class="버튼">💌 우편 보내기</button>
  <button id="전체발송버튼" class="버튼">📢 전체 유저에게 발송</button>
`;


                    컨테이너.appendChild(form);


                    document.getElementById("우편보내기버튼").addEventListener("click", async () => {
                        const 유저아이디 = document.getElementById("우편유저입력").value.trim();
                        const 이름 = document.getElementById("우편이름입력").value.trim();
                        const 수량 = parseInt(document.getElementById("우편수량입력").value.trim(), 10);
                        const 메모 = document.getElementById("우편메모입력").value.trim();
                        const 보낸사람 = 유저데이터.유저UID;

                        if (!유저아이디 || !이름 || isNaN(수량) || 수량 <= 0) {
                            메시지표시(메시지표시박스, "", "입력값이 올바르지 않습니다", "");
                            return;
                        }

                        화면잠금();

                        const 응답 = await fetch("/send-mail-to-user", {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ 보낸사람, 유저아이디, 이름, 수량, 메모 })
                        });

                        const 결과 = await 응답.json();

                        if (!응답.ok) {
                            메시지표시(메시지표시박스, "", 결과.오류 || "우편 발송 실패", "");
                        } else {
                            메시지표시(메시지표시박스, "", "우편을 성공적으로 발송했습니다!", "");
                        }

                        화면해제();
                    });

                    document.getElementById("전체발송버튼").addEventListener("click", async () => {
                        const 이름 = document.getElementById("우편이름입력").value.trim();
                        const 수량 = parseInt(document.getElementById("우편수량입력").value.trim(), 10);
                        const 메모 = document.getElementById("우편메모입력").value.trim();
                        const 보낸사람 = 유저데이터.유저UID;

                        if (!이름 || isNaN(수량) || 수량 <= 0) {
                            메시지표시(메시지표시박스, "", "입력값이 올바르지 않습니다", "");
                            return;
                        }

                        const 확인 = await 사용자확인(
                            "정말 전체 유저에게 발송하시겠습니까?"
                        );
                        if (!확인) return;

                        화면잠금();
                        try {
                            const 응답 = await fetch("/send-mail-to-all-users", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({ 보낸사람, 이름, 수량, 메모 })
                            });

                            const 결과 = await 응답.json();

                            if (!응답.ok || 결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류 || "전체 발송 실패", "");
                            } else {
                                메시지표시(메시지표시박스, "", "전체 유저에게 발송 완료!", "");
                            }
                        } catch (e) {
                            메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                        }
                        화면해제();
                    });



                    화면해제();
                });

                내부컨테이너.appendChild(주버튼);
            }


            // ✅ 우편알림 빨간 점 표시 또는 제거
            const 우편버튼 = document.getElementById("우편함");
            const 우편함 = 유저데이터?.우편함 || [];
            const 기존뱃지 = document.getElementById("우편알림점");

            if (우편버튼 && 우편함.length > 0 && !기존뱃지) {
                const 뱃지 = document.createElement("div");
                뱃지.id = "우편알림점";
                뱃지.style.position = "absolute";
                뱃지.style.width = "7px";
                뱃지.style.height = "7px";
                뱃지.style.backgroundColor = "red";
                뱃지.style.borderRadius = "50%";
                뱃지.style.top = "2px";
                뱃지.style.left = "2px";
                우편버튼.style.position = "relative";
                우편버튼.appendChild(뱃지);
            } else if (기존뱃지 && 우편함.length === 0) {
                기존뱃지.remove();
            }


            const 툴팁너비 = 정보툴팁.offsetWidth;
            정보툴팁.style.left = (rect.right - 툴팁너비) + "px";
            정보툴팁.style.top = rect.bottom + "px";
        });



        // 마우스가 정보버튼과 정보툴팁 외부로 나가면 닫기
        document.addEventListener("mouseover", (e) => {
            if (
                !정보툴팁.contains(e.target) &&
                !정보버튼.contains(e.target)
            ) {
                정보툴팁.style.display = "none";
            }
        });




        const 월드버튼 = document.getElementById("월드");

        const 월드툴팁 = document.createElement("div");
        월드툴팁.id = "월드툴팁";
        월드툴팁.style.position = "absolute";
        월드툴팁.style.zIndex = "99999";
        월드툴팁.style.display = "flex";
        월드툴팁.style.flexDirection = "column";
        월드툴팁.style.gap = "4px";
        월드툴팁.style.background = "black";
        월드툴팁.style.width = "fit-content";
        월드툴팁.style.border = "0.2px solid #4b4b4b";
        월드툴팁.style.borderRadius = "10px";
        월드툴팁.style.boxSizing = "border-box";
        월드툴팁.style.padding = "5px";

        월드툴팁.innerHTML = `
          <div style="display: flex; flex-direction: column; gap: 10px;">    
            <div class="버튼" id="보스">보 스</div>
            <div class="버튼" id="마왕전">마 왕</div>
      </div>
        `;


        월드툴팁.style.display = "none";
        document.body.appendChild(월드툴팁);

        월드버튼.addEventListener("mouseenter", () => {
            const rect = 월드버튼.getBoundingClientRect();

            // 먼저 보여줘야 offsetWidth를 읽을 수 있음
            월드툴팁.style.display = "block";

            const 툴팁너비 = 월드툴팁.offsetWidth;
            월드툴팁.style.left = (rect.right - 툴팁너비) + "px";
            월드툴팁.style.top = rect.bottom + "px";
        });


        // 마우스가 월드버튼 월드툴팁 외부로 나가면 닫기
        document.addEventListener("mouseover", (e) => {
            if (
                !월드툴팁.contains(e.target) &&
                !월드버튼.contains(e.target)
            ) {
                월드툴팁.style.display = "none";
            }
        });





        const 성장버튼 = document.getElementById("성장");

        const 성장툴팁 = document.createElement("div");
        성장툴팁.id = "성장툴팁";
        성장툴팁.style.position = "absolute";
        성장툴팁.style.zIndex = "99999";
        성장툴팁.style.display = "flex";
        성장툴팁.style.flexDirection = "column";
        성장툴팁.style.gap = "4px";
        성장툴팁.style.background = "black";
        성장툴팁.style.width = "fit-content";
        성장툴팁.style.border = "0.2px solid #4b4b4b";
        성장툴팁.style.borderRadius = "10px";
        성장툴팁.style.boxSizing = "border-box";
        성장툴팁.style.padding = "5px";

        성장툴팁.innerHTML = `
  <div style="display: flex; flex-direction: column; gap: 10px;">    
    <div class="버튼" id="장비">무 기</div>
 <div class="버튼" id="유물">유 물</div>
 <div class="버튼" id="악세">악 세</div>
    <div class="버튼" id="전직">전 직</div>
    <div class="버튼" id="스킬">스 킬</div>
    <div class="버튼" id="뽑기">뽑 기</div>
  </div>
`;

        성장툴팁.style.display = "none";
        document.body.appendChild(성장툴팁);

        성장버튼.addEventListener("mouseenter", () => {
            const rect = 성장버튼.getBoundingClientRect();

            // 먼저 보여줘야 offsetWidth를 읽을 수 있음
            성장툴팁.style.display = "block";

            const 툴팁너비 = 성장툴팁.offsetWidth;
            성장툴팁.style.left = (rect.right - 툴팁너비) + "px";
            성장툴팁.style.top = rect.bottom + "px";
        });


        // 마우스가 성장버튼 성장툴팁 외부로 나가면 닫기
        document.addEventListener("mouseover", (e) => {
            if (
                !성장툴팁.contains(e.target) &&
                !성장버튼.contains(e.target)
            ) {
                성장툴팁.style.display = "none";
            }
        });

        //뽑기수정
        document.getElementById("뽑기").addEventListener("click", () => {
            if (!유저데이터) return;
            전투화면보여주기(유저데이터);

            const 뽑기창 = document.getElementById("뽑기창");
            뽑기창.style.display = "block";
        });



        //악세화면보여주기
        document.getElementById("악세").addEventListener("click", () => {
            if (!유저데이터) return;
            모든화면숨기기();
            document.getElementById("악세화면").style.display = "block";
            document.getElementById("화면설명").innerHTML = `습득한 악세사리는 장착해야 효과가 적용됩니다`;

            const 악세컨테이너 = document.getElementById("악세컨테이너");
            악세컨테이너.innerHTML = "";

            const 원본악세 = [
                { 이름: "룬검", 설명: "공격력", 아이콘: 룬검 },
                { 이름: "캡틴", 설명: "최대체력", 아이콘: 캡틴 },
                { 이름: "음양", 설명: "체력대신공격력", 아이콘: 음양 },
                { 이름: "아스클레피오스의 막대", 설명: "미정", 아이콘: 아스클레피오스의막대 },
                { 이름: "드림캐처", 설명: "히든몬스터등장률", 아이콘: 드림캐처 },
                { 이름: "카드세우스", 설명: "적체력감소", 아이콘: 카드세우스 },
                { 이름: "이스터에그", 설명: "미정", 아이콘: 이스터에그 },
            ];

            const 보유악세 = 유저데이터.악세사리목록 || [];

            const 전체악세사리 = 원본악세.map(악세 => {
                const 보유정보 = 보유악세.find(a => a.이름 === 악세.이름);
                const 등급 = 보유정보?.등급 ?? null;

                let 표시설명 = 악세.설명;

                if (등급 !== null && 악세.설명 !== "미정") {
                    switch (악세.이름) {
                        case "캡틴":
                            표시설명 += ` +${등급}`;
                            break;
                        case "룬검":
                            표시설명 += ` +${등급 * 5}%`;
                            break;
                        case "음양":
                            const 공격퍼센트 = 등급 * 10;
                            표시설명 = `최대체력 -${등급} 공격력 +${공격퍼센트}%`;
                            break;
                        case "드림캐처":
                            표시설명 += ` +${등급 * 5}%`;
                            break;
                        case "카드세우스":
                            표시설명 += ` +${등급 * 5}%`;
                            break;
                        default:
                            표시설명 += ` +${등급}`;
                    }
                }

                return {
                    ...악세,
                    설명: 표시설명
                };
            });


            const 등급이름맵 = {
                1: "일반",
                2: "레어",
                3: "신화",
                4: "고대",
                5: "태초",
                6: "타락"
            };

            const 색상맵 = {
                "일반": "#c8c8c8",
                "레어": "#00c000",
                "신화": "#4141ff",
                "고대": "#c8c800",
                "태초": "#d400d4",
                "타락": "#ff0000"
            };



            //없데이트
            const 열한째줄행 = 한줄에세칸(
                ["열한째줄왼쪽", "열한째줄가운데", "열한째줄오른쪽"],
                "기본테두리"
            );

            악세컨테이너.appendChild(열한째줄행);

            const 장비박스들 = [
                악세컨테이너.querySelector("#열한째줄왼쪽"),
                악세컨테이너.querySelector("#열한째줄가운데"),
                악세컨테이너.querySelector("#열한째줄오른쪽")
            ];

            // 초기화: 기본값 "-"로 설정
            장비박스들.forEach(박스 => {
                박스.innerHTML = "-";
                박스.style.width = "54px";
                박스.style.height = "54px";
                박스.style.display = "flex";
                박스.style.alignItems = "center";
                박스.style.justifyContent = "center";
            });

            const 장착된악세 = (유저데이터.악세사리목록 || []).filter(a => a.장착 === 1);

            for (let i = 0; i < 3; i++) {
                const 악세 = 장착된악세[i];
                const 박스 = 장비박스들[i];

                if (악세) {
                    const 아이콘 = 원본악세.find(o => o.이름 === 악세.이름)?.아이콘 || "-";
                    박스.innerHTML = 아이콘;

                    const svg = 박스.querySelector("svg");
                    if (svg) {
                        svg.style.width = "150%";
                        svg.style.height = "150%";

                        const 등급이름 = 등급이름맵[악세.등급];
                        const 색상 = 색상맵[등급이름];
                        if (색상) {
                            svg.querySelectorAll("path").forEach(p => {
                                const 원래색 = p.getAttribute("fill");
                                if (원래색 !== "#000" && 원래색 !== "#000000") {
                                    p.removeAttribute("fill");
                                    p.style.fill = 색상;
                                }
                            });
                        }
                    }
                }
            }



            전체악세사리.forEach(악세 => {
                const 보유정보 = 보유악세.find(a => a.이름 === 악세.이름);
                const 버튼상태 = 보유정보
                    ? (보유정보.장착 === 1 ? `장착해제` : "장착")
                    : "미습득";

                const 박스 = document.createElement("div");
                박스.className = "기본테두리 악세박스";
                박스.style.display = "flex";
                박스.style.alignItems = "center";
                박스.style.justifyContent = "space-between";
                박스.style.marginBottom = "10px";
                박스.style.color = "#fff";
                박스.style.padding = "8px";

                const 왼쪽 = document.createElement("div");
                왼쪽.style.display = "flex";
                왼쪽.style.alignItems = "center";

                const 아이콘박스 = document.createElement("div");
                아이콘박스.innerHTML = 악세.아이콘;
                아이콘박스.style.width = "32px";
                아이콘박스.style.height = "32px";
                아이콘박스.style.display = "flex";
                아이콘박스.style.alignItems = "center";
                아이콘박스.style.justifyContent = "center";
                아이콘박스.style.marginRight = "10px";


                const svg = 아이콘박스.querySelector("svg");
                if (svg) {
                    svg.style.width = "100%";
                    svg.style.height = "100%";
                    svg.style.display = "block";
                    svg.style.verticalAlign = "middle";

                }
                if (svg && 보유정보?.등급) {
                    const 등급이름 = 등급이름맵[보유정보.등급];
                    const 색상 = 색상맵[등급이름];

                    if (색상) {
                        svg.querySelectorAll("path").forEach(p => {
                            const 원래색 = p.getAttribute("fill");
                            if (원래색 !== "#000" && 원래색 !== "#000000") {
                                p.removeAttribute("fill");
                                p.style.fill = 색상;
                            }
                        });
                    }
                }


                const 텍스트 = document.createElement("div");
                텍스트.innerHTML = `
    <div>${악세.이름}</div>
    <div style="font-size:12px; color: #888; font-weight:bold;">${악세.설명}</div>
`;


                왼쪽.appendChild(아이콘박스);
                왼쪽.appendChild(텍스트);

                const 오른쪽 = document.createElement("div");
                오른쪽.innerHTML = 버튼상태;
                오른쪽.style.padding = "4px 10px";
                오른쪽.style.cursor = "pointer";
                오른쪽.style.border = "0.2px solid #4b4b4b";
                오른쪽.style.borderRadius = "6px";
                오른쪽.style.color = "#fff";
                오른쪽.style.textAlign = "center";
                오른쪽.addEventListener("mouseover", () => {
                    오른쪽.style.opacity = "0.8";
                });
                오른쪽.addEventListener("mouseout", () => {
                    오른쪽.style.opacity = "1";
                });


                const 버튼박스 = document.createElement("div");
                버튼박스.style.display = "flex";
                버튼박스.style.gap = "6px";
                버튼박스.appendChild(오른쪽);

                if (보유정보 && 보유정보.등급 >= 1) {
                    const 등급업버튼 = document.createElement("div");
                    등급업버튼.innerHTML = "등급업";
                    등급업버튼.style.padding = "4px 10px";
                    등급업버튼.style.cursor = "pointer";
                    등급업버튼.style.border = "0.2px solid #4b4b4b";
                    등급업버튼.style.borderRadius = "6px";
                    등급업버튼.style.color = "#fff";

                    등급업버튼.addEventListener("mouseover", () => {
                        등급업버튼.style.opacity = "0.8";
                    });
                    등급업버튼.addEventListener("mouseout", () => {
                        등급업버튼.style.opacity = "1";
                    });

                    등급업버튼.addEventListener("click", async () => {
                        const 현재등급 = 보유정보.등급 ?? 0;
                        const 등급업비용 = (현재등급 + 1) * 1000000;

                        if (현재등급 >= 6) {
                            메시지표시(메시지표시박스, "", "최고 등급입니다", "");
                            return;
                        }

                        if ((유저데이터.골드 || 0) < 등급업비용) {
                            메시지표시(메시지표시박스, "", `${등급업비용.toLocaleString()} 골드가 필요합니다`, "");
                            return;
                        }

                        const 확인 = await 사용자확인(
                            `${악세.이름}의 등급을 올리시겠습니까?\n\n[비용] ${등급업비용.toLocaleString()} 골드`
                        );
                        if (!확인) return;


                        화면잠금();
                        try {
                            const 응답 = await fetch("/upgrade-accessory", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    이름: 악세.이름,
                                    비용: 등급업비용
                                })
                            });
                            const 결과 = await 응답.json();
                            if (!응답.ok) throw new Error(결과.오류 || "등급업 실패");

                            유저데이터.악세사리목록 = 결과.업데이트된악세목록;
                            유저데이터.골드 = 결과.현재골드;
                            유저데이터.최대체력 = 결과.최대체력;
                            유저데이터.최종공격력 = 결과.최종공격력;

                            메시지표시(메시지표시박스, "", `${악세.이름}의 등급이 상승했습니다`, "");
                            document.getElementById("악세").click();
                        } catch (e) {
                            메시지표시(메시지표시박스, "", e.message, "");
                        }
                        화면해제();
                    });

                    버튼박스.appendChild(등급업버튼);
                }



                오른쪽.addEventListener("click", async () => {
                    if (버튼상태 === "미습득") {

                        if (악세.설명 === "미정") {
                            메시지표시(메시지표시박스, "", "아직 구현되지 않은 악세사리입니다.", "");
                            return;
                        }

                        // 2. 골드 부족 시 리턴
                        if ((유저데이터.골드 || 0) < 1000000) {
                            메시지표시(메시지표시박스, "", "100만골드가 필요합니다", "");
                            return;
                        }

                        const 확인 = await 사용자확인(
                            `100만 골드를 소모해서 ${악세.이름}을(를) 획득하시겠습니까?`
                        );
                        if (!확인) return;


                        화면잠금();
                        try {
                            const 응답 = await fetch("/obtain-accessory", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    이름: 악세.이름
                                })
                            });
                            const 결과 = await 응답.json();
                            if (!응답.ok) throw new Error(결과.오류 || "획득 실패");

                            메시지표시(메시지표시박스, "", `${악세.이름}을(를) 획득했습니다`, "");
                            // 선택적으로 다시 불러오기
                            유저데이터.악세사리목록 = 결과.업데이트된악세목록;
                            유저데이터.골드 = 결과.현재골드;
                            document.getElementById("악세").click(); // 새로고침 대체
                        } catch (e) {
                            메시지표시(메시지표시박스, "", e.message, "");
                        }
                        화면해제();
                    }
                    else if (버튼상태 === "장착") {

                        const 장착된수 = (유저데이터.악세사리목록 || []).filter(a => a.장착 === 1).length;
                        const 장비칸수 = 유저데이터.악세사리장비칸 ?? 0;

                        if (장착된수 >= 장비칸수) {
                            if (장비칸수 === 1) {

                                if ((유저데이터.골드 || 0) < 10000000) {
                                    메시지표시(메시지표시박스, "", "두번째 장비칸 개방에는 천만골드가 필요합니다", "");
                                    return;
                                }




                                const 확인 = await 사용자확인(
                                    `두 번째 장비칸을 구매하시겠습니까?\n\n[비용] 천만 골드`
                                );
                                if (!확인) return;



                                화면잠금();
                                try {
                                    const 응답 = await fetch("/upgrade-accessory-slot", {
                                        method: "POST",
                                        headers: { "Content-Type": "application/json" },
                                        body: JSON.stringify({
                                            유저UID: 유저데이터.유저UID,
                                            목표칸수: 2
                                        })
                                    });
                                    const 결과 = await 응답.json();
                                    if (!응답.ok) throw new Error(결과.오류 || "장비칸 확장 실패");

                                    유저데이터.악세사리장비칸 = 2;
                                    유저데이터.골드 = 결과.현재골드;
                                    메시지표시(메시지표시박스, "", "두 번째 장비칸을 구매했습니다!", "");
                                    document.getElementById("악세").click();
                                } catch (e) {
                                    메시지표시(메시지표시박스, "", e.message, "");
                                }
                                화면해제();
                                return;
                            } else if (장비칸수 === 2) {

                                if ((유저데이터.골드 || 0) < 20000000) {
                                    메시지표시(메시지표시박스, "", "세번째 장비칸 개방에는 이천만골드가 필요합니다", "");
                                    return;
                                }


                                const 확인 = await 사용자확인(
                                    `세 번째 장비칸을 구매하시겠습니까?\n\n[비용] 이천만 골드`
                                );
                                if (!확인) return;


                                화면잠금();
                                try {
                                    const 응답 = await fetch("/upgrade-accessory-slot", {
                                        method: "POST",
                                        headers: { "Content-Type": "application/json" },
                                        body: JSON.stringify({
                                            유저UID: 유저데이터.유저UID,
                                            목표칸수: 3
                                        })
                                    });
                                    const 결과 = await 응답.json();
                                    if (!응답.ok) throw new Error(결과.오류 || "장비칸 확장 실패");

                                    유저데이터.악세사리장비칸 = 3;
                                    유저데이터.골드 = 결과.현재골드;
                                    메시지표시(메시지표시박스, "", "세 번째 장비칸을 구매했습니다!", "");
                                    document.getElementById("악세").click();
                                } catch (e) {
                                    메시지표시(메시지표시박스, "", e.message, "");
                                }
                                화면해제();
                                return;
                            } else {
                                메시지표시(메시지표시박스, "", "장비칸이 부족합니다. 장착된 장비를 해제하세요", "");
                                return;
                            }
                        }

                        // 기존 장착 로직은 여기에 그대로 유지
                        const 안경개수 = 유저데이터.유물목록?.["안경"] || 0;
                        if (안경개수 < 1) {
                            메시지표시(메시지표시박스, "", "유물. 안경이 필요합니다", "");
                            return;
                        }

                        const 확인 = await 사용자확인(
                            `안경을 소모해서 ${악세.이름}을(를) 장착하겠습니까?`
                        );
                        if (!확인) return;

                        화면잠금();
                        try {
                            const 응답 = await fetch("/equip-accessory", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    이름: 악세.이름
                                })
                            });
                            const 결과 = await 응답.json();
                            if (!응답.ok) throw new Error(결과.오류 || "장착 실패");

                            유저데이터.악세사리목록 = 결과.업데이트된악세목록;
                            유저데이터.최대체력 = 결과.최대체력;
                            유저데이터.유물목록 = 결과.갱신된유물목록;
                            유저데이터.최종공격력 = 결과.최종공격력;
                            유저데이터.악세사리장비칸 = 결과.악세사리장비칸;


                            메시지표시(메시지표시박스, "", `${악세.이름}을(를) 장착했습니다`, "");
                            document.getElementById("악세").click();
                        } catch (e) {
                            메시지표시(메시지표시박스, "", e.message, "");
                        }
                        화면해제();

                    }
                    else if (버튼상태 === "장착해제") {

                        const 확인 = await 사용자확인(
                            `${악세.이름}을(를) 장착 해제하시겠습니까?`
                        );
                        if (!확인) return;

                        화면잠금();
                        try {
                            const 응답 = await fetch("/unequip-accessory", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    이름: 악세.이름
                                })
                            });
                            const 결과 = await 응답.json();
                            if (!응답.ok) throw new Error(결과.오류 || "장착 해제 실패");

                            유저데이터.악세사리목록 = 결과.업데이트된악세목록;
                            유저데이터.최대체력 = 결과.최대체력;
                            유저데이터.최종공격력 = 결과.최종공격력;
                            유저데이터.유물목록 = 결과.갱신된유물목록;
                            유저데이터.악세사리장비칸 = 결과.악세사리장비칸;


                            메시지표시(메시지표시박스, "", `${악세.이름}을(를) 장착 해제했습니다`, "");
                            document.getElementById("악세").click(); // 새로고침 대체
                        } catch (e) {
                            메시지표시(메시지표시박스, "", e.message, "");
                        }
                        화면해제();
                    }

                });


                // ✅ 기존 append → 수정: 오른쪽 대신 버튼박스
                박스.appendChild(왼쪽);
                박스.appendChild(버튼박스);
                악세컨테이너.appendChild(박스);


            });
        });


        // document.getElementById("로그아웃").addEventListener("click", async () => {
        //     if (!유저데이터) return;

        //     화면잠금();

        //     try {
        //         await supabase.auth.signOut();
        //         localStorage.removeItem("기기ID");
        //     } catch (e) {
        //         console.error("로그아웃 오류:", e);
        //     }

        //     location.reload(); // ← 처음 접속한 상태로 완전히 초기화
        // });




        function 한줄에두칸(왼쪽, 오른쪽) {
            const row = document.createElement("div");
            row.style.display = "flex";
            row.style.width = "100%";
            row.style.gap = "10px";

            const left = document.createElement("div");
            left.id = 왼쪽;
            left.style.textAlign = "left";
            left.style.flex = "1";

            const right = document.createElement("div");
            right.id = 오른쪽;
            right.style.textAlign = "left";
            right.style.flex = "1";

            row.appendChild(left);
            row.appendChild(right);
            return row;
        }

        // 2) 3칸짜리 행(Row)을 생성해서 반환합니다.
        //    칸: [id1, id2, id3] 형태로 세 개 요소의 id를 전달
        //    클레스네임: 각 칸(div)에 적용할 공통 클래스 이름 (예: "기본테두리")
        function 한줄에세칸(칸, 클레스네임) {
            const row = document.createElement("div");
            row.style.display = "flex";
            row.style.width = "100%";
            row.style.gap = "10px";
            row.style.justifyContent = "center"; // 필요에 따라 가운데 정렬

            칸.forEach(id => {
                const div = document.createElement("div");
                div.id = id;
                if (클레스네임) div.className = 클레스네임;
                div.style.flex = "1";
                div.style.textAlign = "center"; // 칸 내부 텍스트 가운데 정렬
                row.appendChild(div);
            });

            return row;
        }


        //우편함화면보여주기
        document.getElementById("우편함").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();

            const 응답 = await fetch("/refresh-mailbox", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
            });
            const 결과 = await 응답.json();

            if (!응답.ok) {
                메시지표시(메시지표시박스, "", 결과.오류 || "우편함 불러오기 실패", "");
                화면해제();
                return;
            }

            유저데이터.우편함 = 결과.우편함;

            document.getElementById("화면설명").innerHTML = "받기를 클릭하시면 해당 수량 전부가 수령됩니다";

            모든화면숨기기();
            document.getElementById("우편함화면").style.display = "block";

            const 컨테이너 = document.getElementById("우편함컨테이너");
            컨테이너.innerHTML = "";


            const 우편함목록 = 유저데이터.우편함 || [];

            if (우편함목록.length === 0) {
                const 안내 = document.createElement("div");
                안내.textContent = "받은 우편이 없습니다";
                안내.style.textAlign = "center";
                안내.style.padding = "15px 0";
                // 안내.style.color = "#aaa";
                컨테이너.appendChild(안내);
            } else {
                우편함목록.forEach((우편, 인덱스) => {
                    const 행 = document.createElement("div");
                    행.style.display = "flex";
                    행.style.justifyContent = "space-between";
                    행.style.alignItems = "center";
                    행.style.margin = "0";
                    행.style.padding = "8px 12px";
                    행.style.borderBottom = "1px solid rgba(255, 255, 255, 0.2)";
                    행.style.fontSize = "14px";

                    const 텍스트 = document.createElement("div");
                    const 날짜 = 우편.날짜 || "";
                    const 메모 = 우편.메모 ? `(${우편.메모})` : "";

                    텍스트.innerHTML = `
    <span style="color: #aaa; min-width: 110px;">${날짜}</span>
    <span style="margin-left: 12px;">${우편.이름} x${우편.수량}</span>
    <span style="display: block; color: #888; font-weight: bold;">${메모}</span>
`;


                    텍스트.style.flex = "1";


                    const 받기버튼 = document.createElement("div");
                    받기버튼.textContent = "받기";
                    받기버튼.style.cursor = "pointer";
                    받기버튼.style.padding = "4px 10px";
                    받기버튼.style.border = "1px solid #4b4b4b";
                    받기버튼.style.borderRadius = "4px";

                    받기버튼.addEventListener("mouseenter", () => {
                        받기버튼.style.opacity = "0.8";
                    });
                    받기버튼.addEventListener("mouseleave", () => {
                        받기버튼.style.opacity = "1";
                    });
                    받기버튼.addEventListener("click", () => {
                        우편받기(인덱스);
                    });

                    행.appendChild(텍스트);
                    행.appendChild(받기버튼);
                    컨테이너.appendChild(행);
                });
            }


            화면해제();
        });


        async function 우편받기(인덱스) {
            화면잠금();
            const 응답 = await fetch("/receive-mail", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID, 우편인덱스: 인덱스 })
            });
            const 결과 = await 응답.json();
            if (!응답.ok) {
                메시지표시(메시지표시박스, "", 결과.오류 || "우편 수령 실패", "");
                화면해제();
                return;
            }

            if (결과.유물목록) {
                유저데이터.유물목록 = 결과.유물목록;
            }
            if (결과.장비목록) {
                유저데이터.장비목록 = 결과.장비목록;
            }

            유저데이터.우편함 = 결과.우편함;
            유저데이터.장비공격력 = 결과.장비공격력;
            유저데이터.최종공격력 = 결과.최종공격력;
            유저데이터.골드 = 결과.골드;
            // 유저데이터.햄버거현질 = 결과.햄버거현질;
            if (유저데이터.햄버거현질 !== 결과.햄버거현질) {
                location.reload();
            }

            메시지표시(메시지표시박스, "", "우편 수령 완료!", "");
            document.getElementById("우편함").click(); // 다시 렌더링
        }


        //내정보화면보여주기
        document.getElementById("내정보").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();
            document.getElementById("화면설명").innerHTML = "추가하고싶은 정보가 있다면 주인장에게 문의하세요";

            모든화면숨기기();
            document.getElementById("내정보화면").style.display = "block";

            const 컨테이너 = document.getElementById("내정보컨테이너");
            컨테이너.innerHTML = "";

            // ─── 첫째줄부터 넷째줄까지 2칸짜리 행 생성 ───
            const 첫째줄행 = 한줄에두칸("첫째줄왼쪽", "첫째줄오른쪽");
            const 둘째줄행 = 한줄에두칸("둘째줄왼쪽", "둘째줄오른쪽");
            const 셋째줄행 = 한줄에두칸("셋째줄왼쪽", "셋째줄오른쪽");
            const 넷째줄행 = 한줄에두칸("넷째줄왼쪽", "넷째줄오른쪽");
            const 다섯째줄행 = 한줄에두칸("다섯째줄왼쪽", "다섯째줄오른쪽");
            const 여섯째줄행 = 한줄에두칸("여섯째줄왼쪽", "여섯째줄오른쪽");
            const 일곱째줄행 = 한줄에두칸("일곱째줄왼쪽", "일곱째줄오른쪽");
            const 여덟째줄행 = 한줄에두칸("여덟째줄왼쪽", "여덟째줄오른쪽");

            // ─── 다섯째줄(=열째줄) 3칸짜리 행 생성 ───
            // const 열째줄행 = 한줄에세칸(
            //     ["열째줄왼쪽", "열째줄가운데", "열째줄오른쪽"],
            //     "기본테두리"
            // );

            const 열째줄행 = 한줄에세칸(
                ["열째줄왼쪽",],
                "기본테두리"
            );

            const 열한째줄행 = 한줄에세칸(
                ["열한째줄왼쪽", "열한째줄가운데", "열한째줄오른쪽"],
                "기본테두리"
            );

            const 열둘째줄행 = 한줄에세칸(
                ["열둘째줄왼쪽", "열둘째줄가운데", "열둘째줄오른쪽"],
                ""
            );

            // ─── 컨테이너에 차례대로 붙이기 ───
            컨테이너.appendChild(첫째줄행);
            컨테이너.appendChild(둘째줄행);
            컨테이너.appendChild(셋째줄행);
            컨테이너.appendChild(넷째줄행);
            컨테이너.appendChild(다섯째줄행);
            컨테이너.appendChild(여섯째줄행);
            컨테이너.appendChild(일곱째줄행);
            컨테이너.appendChild(여덟째줄행);


            컨테이너.appendChild(열째줄행);
            컨테이너.appendChild(열한째줄행);
            컨테이너.appendChild(열둘째줄행);


            // ─── (2) 서버에서 “전당” 순위만 가져오기 ───
            try {
                const 랭킹응답 = await fetch("/ranking", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                });
                const 랭킹결과 = await 랭킹응답.json();

                // 서버에서 받은 랭킹결과는 { 유저들: [...] } 구조
                const 유저들 = 랭킹결과.유저들 || [];

                // 배열에서 “내 유저UID”와 같은 요소의 인덱스를 찾는다
                const 내인덱스 = 유저들.findIndex(
                    (u) => u.유저UID === 유저데이터.유저UID
                );

                // 인덱스가 -1이 아니면 “인덱스 + 1”이 내 순위
                const 내전당순위 = 내인덱스 >= 0 ? 내인덱스 + 1 : "-";
                document.getElementById("넷째줄왼쪽").innerHTML = `전당 : ${내전당순위}위`;
            } catch (err) {
                document.getElementById("넷째줄왼쪽").innerHTML = `전당 : 조회실패`;
                console.error("전당순위 조회 실패:", err);
            }

            // ─── (3) 서버에서 “보스” 순위만 가져오기 ───
            try {
                const 보스응답 = await fetch("/boss-ranking", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                });
                const 보스결과 = await 보스응답.json();

                // /boss-ranking 응답 예시: { 순위: [...], 누적데미지총합: n, 내정보: { 순위, 유저아이디, 보스누적데미지 } }
                // 내 순위 정보는 보스결과.내정보.순위 필드에 들어 있다.
                const 내보스순위 =
                    보스결과.내정보 && typeof 보스결과.내정보.순위 === "number"
                        ? 보스결과.내정보.순위
                        : "-";

                document.getElementById("다섯째줄왼쪽").innerHTML = `보스 : ${내보스순위}위`;
            } catch (err) {
                document.getElementById("다섯째줄왼쪽").innerHTML = `보스 : 조회실패`;
                console.error("보스순위 조회 실패:", err);
            }

            const 닉네임표시 = 팔레트적용(
                유저데이터.유저아이디,
                유저데이터.마왕전랭킹 === 1 ? "마왕" : 유저데이터.마법의팔레트
            );


            // ─── 내용 채우기 ───
            document.getElementById("첫째줄왼쪽").innerHTML = `아이디 : ${닉네임표시}`;
            document.getElementById("둘째줄왼쪽").innerHTML = `공격력 : ${유저데이터.최종공격력}`;
            document.getElementById("셋째줄왼쪽").innerHTML = `최대체력 : ${유저데이터.최대체력}`;

            document.getElementById("둘째줄오른쪽").innerHTML = (유저데이터.현질기한 !== undefined && 유저데이터.현질기한 !== 0) ? `마법의팔레트 : ${유저데이터.현질기한}/30` : `마법의팔레트 : -`;
            document.getElementById("셋째줄오른쪽").innerHTML = (유저데이터.햄버거현질기한 !== undefined && 유저데이터.햄버거현질기한 !== 0) ? `햄버거정기배송 : ${유저데이터.햄버거현질기한}/30` : `햄버거정기배송 : -`;


            document.getElementById("여섯째줄왼쪽").innerHTML = 유저데이터.마왕전방어 ? `마왕전방어 : ${유저데이터.마왕전방어}회` : `마왕전방어 : -회`;
            // document.getElementById("일곱째줄왼쪽").innerHTML = `지하던전 : 지하${유저데이터.지하던전}층`;
            document.getElementById("여덟째줄왼쪽").innerHTML = `강화실패 : ${유저데이터.실패카운트 ?? 0}회`;



            // 1) 각 계열별 직업 배열을 미리 정의해 둡니다.
            const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
            const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
            const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
            const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];

            // … (유저데이터.직업결정은 { "신술": 6 } 같은 객체 형태로 들어있다고 가정)

            const 직위 = 최고전직명(유저데이터.전직정보);



            const 결정객체 = 유저데이터.직업결정;  // 예: { "신술": 6 }
            if (결정객체) {
                // 첫 번째(유일한) 키만 꺼냅니다. → "신술"
                const 계열키 = Object.keys(결정객체)[0];
                // 해당 키의 값(단계)을 꺼냅니다. → 6
                const 단계 = 결정객체[계열키];

                // 단계(숫자)에 해당하는 실제 직업명을 찾아서 변수에 저장
                let 직업이름;
                if (계열키 === "검술") {
                    직업이름 = 검술[단계 - 1];   // 예: 단계=1 → 검술[0] = "나이트"
                } else if (계열키 === "마술") {
                    직업이름 = 마술[단계 - 1];
                } else if (계열키 === "신술") {
                    직업이름 = 신술[단계 - 1];   // 단계=6 → 신술[5] = "퀸"
                } else if (계열키 === "궁술") {
                    직업이름 = 궁술[단계 - 1];
                } else {
                    직업이름 = "-";
                }

                // 화면에 “신술(퀸)” 형태로 표시
                document.getElementById("일곱째줄오른쪽").innerHTML = `직업 : [${계열키}${단계}차] ${직업이름}`;
            } else {
                // 아직 선택된 직업이 없으면 ‘-’만 표시
                document.getElementById("일곱째줄오른쪽").innerHTML = "직업 : -";
            }


            document.getElementById("넷째줄오른쪽").innerHTML = 유저데이터.생성일 ? `생성일 : ${유저데이터.생성일}` : `생성일 : -`;
            document.getElementById("다섯째줄오른쪽").innerHTML = (유저데이터.스태미너소모총량 !== undefined && 유저데이터.스태미너소모총량 !== 0) ? `총스태미너 : ${유저데이터.스태미너소모총량}` : `총스태미너 : -`;
            document.getElementById("여섯째줄오른쪽").innerHTML = `전직 : ${직위 ? `${직위} ` : '-'}`;

            const 마지막접속 = 유저데이터.하루한번.slice(0, 10);
            document.getElementById("여덟째줄오른쪽").innerHTML = 마지막접속 ? `마지막접속 : ${마지막접속}` : `마지막접속 : -`;



            const 목록 = 유저데이터.장비목록;
            let bestWeapon = null;
            if (Array.isArray(목록) && 목록.length) {
                bestWeapon = 목록.reduce((prev, cur) =>
                    Number(cur.공격력) > Number(prev.공격력) ? cur : prev
                );
            }

            const 장비박스1 = document.getElementById("열째줄왼쪽");

            if (bestWeapon) {
                // 강화 수치 표시 문자열 생성
                const 강화표시 = bestWeapon.강화 ? ` +${bestWeapon.강화}` : "";
                // 예: "루시퍼의 심장 +3" (강화가 0이면 이름만)
                장비박스1.innerText = `${bestWeapon.이름}${강화표시}`;
                장비박스1.style.color = 색상맵[bestWeapon.등급] || "#fff";
                장비박스1.style.fontWeight = "bold";
            } else {
                장비박스1.innerText = "장비가 없습니다";
                장비박스1.style.color = "#fff";
            }

            const 장비박스왼쪽 = document.getElementById("열한째줄왼쪽");
            const 장비박스가운데 = document.getElementById("열한째줄가운데");
            const 장비박스오른쪽 = document.getElementById("열한째줄오른쪽");
            const 장비박스들 = [장비박스왼쪽, 장비박스가운데, 장비박스오른쪽];

            장비박스들.forEach(박스 => {
                박스.innerHTML = "-";
                박스.style.width = "54px";
                박스.style.height = "54px";
                박스.style.display = "flex";
                박스.style.alignItems = "center";
                박스.style.justifyContent = "center";
            });

            const 장착된악세 = (유저데이터.악세사리목록 || []).filter(a => a.장착 === 1);
            const 원본악세 = [
                { 이름: "룬검", 아이콘: 룬검 },
                { 이름: "캡틴", 아이콘: 캡틴 },
                { 이름: "음양", 아이콘: 음양 },
                { 이름: "아스클레피오스의 막대", 아이콘: 아스클레피오스의막대 },
                { 이름: "드림캐처", 아이콘: 드림캐처 },
                { 이름: "카드세우스", 아이콘: 카드세우스 },
                { 이름: "이스터에그", 아이콘: 이스터에그 }
            ];

            const 등급이름맵 = {
                1: "일반",
                2: "레어",
                3: "신화",
                4: "고대",
                5: "태초",
                6: "타락"
            };

            for (let i = 0; i < 3; i++) {
                const 악세 = 장착된악세[i];
                const 박스 = 장비박스들[i];

                if (악세) {
                    const 아이콘 = 원본악세.find(o => o.이름 === 악세.이름)?.아이콘 || "-";
                    박스.innerHTML = 아이콘;

                    const svg = 박스.querySelector("svg");
                    if (svg) {
                        svg.style.width = "150%";
                        svg.style.height = "150%";

                        // ✅ 등급 색상 적용
                        const 등급이름 = 등급이름맵[악세.등급];
                        const 색상 = 색상맵[등급이름];
                        if (색상) {
                            svg.querySelectorAll("path").forEach(p => {
                                const 원래색 = p.getAttribute("fill");
                                if (원래색 !== "#000" && 원래색 !== "#000000") {
                                    p.removeAttribute("fill");
                                    p.style.fill = 색상;
                                }
                            });
                        }
                    }
                }
            }


            document.getElementById("열둘째줄가운데").innerHTML =
                `<div style="margin-top: 20px; cursor: pointer;" id="탈퇴" onclick="회원탈퇴()">{ 계 정 탈 퇴 }</div>`;



            화면해제();
        });




        //광장화면보여주기
        document.getElementById("광장").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();
            document.getElementById("화면설명").innerHTML = "수다를 떨어주세요<br>최신 50개만 표시됩니다";

            모든화면숨기기();
            document.getElementById("광장화면").style.display = "block";



            const container = document.getElementById("광장컨테이너");
            container.innerHTML = `
            <!-- 입력창 -->
            <input id="chat-input" 
                   type="text" 
                   maxlength="50" 
                    autocomplete="off"
                   placeholder="글자 50자 제한 / 메시지를 입력하고 Enter"
                   style="width: 100%; margin-top: 8px; padding: 6px; box-sizing: border-box;" />
            <!-- 메시지 리스트 -->
            <div id="chat-list" class="세로정렬"  style=" align-self: flex-start;  width: 100%;  display: flex;  align-items: flex-start;"></div>
          `;



            try {
                const res = await fetch("/get-chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" }
                });
                const { 채팅 } = await res.json();
                const list = Array.isArray(채팅) ? 채팅 : [];
                const chatList = document.getElementById("chat-list");
                chatList.innerHTML = list
                    .map(row => {
                        const dt = new Date(row.시각);  // 메시지시각 → 시각
                        const pad = v => String(v).padStart(2, "0");
                        const yy = dt.getFullYear().toString().slice(2);
                        const MM = pad(dt.getMonth() + 1);
                        const dd = pad(dt.getDate());
                        const hh = pad(dt.getHours());
                        const mm = pad(dt.getMinutes());
                        const ts = `${yy}-${MM}-${dd} ${hh}:${mm}`;

                        const 닉네임표시 = 팔레트적용(row.유저아이디, row.마법의팔레트 || "");
                        // const 닉네임표시 = 팔레트적용(
                        //     row.유저아이디,
                        //     row.마왕전랭킹 === 1 ? "마왕" : (row.마법의팔레트 || "")
                        // );


                        return `<div>${ts} ${닉네임표시} : ${row.내용}</div>`;  // 메시지 → 내용
                    })
                    .join("");
            } catch (e) {
                console.error("채팅 로드 실패:", e);
            }


            document.getElementById("chat-input").addEventListener("keydown", async e => {
                if (e.key !== "Enter") return;

                if (유저데이터.유저아이디 !== "나주인장아니다") {
                    if (유저데이터.최종공격력 < 10000) {
                        메시지표시(메시지표시박스, "", "공격력 1만 이상 유저부터 채팅이 가능합니다", "");
                        return;
                    }

                }

                const 스피커 = 유저데이터.유물목록?.["스피커"] || 0;
                if (스피커 < 1) {
                    메시지표시(메시지표시박스, "", "스피커가 없습니다", "");
                    return;
                }

                const text = e.target.value.trim();
                if (!text) return;

                // ① 응답을 res에 저장
                const res = await fetch("/save-chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: 유저데이터.유저UID,
                        유저아이디: 유저데이터.유저아이디,
                        메시지: text
                    })

                });
                // ② JSON으로 파싱
                const data = await res.json();

                // ③ 오류 검사
                if (!res.ok || data.오류) {
                    // 메시지표시박스는 미리 DOM에서 꺼내놓은 <div>나
                    // 적절한 요소 ID로 바꿔주세요
                    메시지표시(메시지표시박스, "", data.오류 || "메시지 저장 실패", "");
                    화면해제();
                    return;
                }

                // ④ 성공 시
                if (data.유물목록) {
                    유저데이터.유물목록 = data.유물목록;
                }
                메시지표시(메시지표시박스, "", `스피커 1개를 소모합니다`, "");
                e.target.value = "";
                document.getElementById("광장").click();

            });

            화면해제();
        });


        document.getElementById("일어난일").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();
            document.getElementById("화면설명").innerHTML = "최근에 일어난 일들입니다<br>최신 50개만 표시됩니다";

            모든화면숨기기();
            document.getElementById("일어난일화면").style.display = "block";



            const container = document.getElementById("일어난일컨테이너");
            container.innerHTML = ""; // 기존 내용 초기화

            try {
                const 응답 = await fetch("/get-events", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" }
                });

                const 결과 = await 응답.json();

                if (!응답.ok) {
                    throw new Error(결과.오류 || "서버 오류");
                }

                const 기록들 = 결과.기록 || [];

                기록들.forEach(item => {
                    const 줄 = document.createElement("div");
                    줄.innerText = item.일어난일; // or `${item.유저아이디}님이 ${item.일어난일}`
                    container.appendChild(줄);
                });

            } catch (e) {
                console.error("일어난일 조회 오류:", e);
                container.innerHTML = "<div>불러오기 실패</div>";
            }


            화면해제();
        });


        const 가글사전데이터 = {
            "마법의팔레트": {
                "마법의팔레트민초": 팔레트적용("마법의팔레트민초", "민초"),
                "마법의팔레트지옥": 팔레트적용("마법의팔레트지옥", "지옥"),
                "마법의팔레트블라섬": 팔레트적용("마법의팔레트블라섬", "블라섬"),
                "마법의팔레트겨울": 팔레트적용("마법의팔레트겨울", "겨울"),
                "마법의팔레트네온사인": 팔레트적용("마법의팔레트네온사인", "네온사인"),
                "마법의팔레트핑크오션": 팔레트적용("마법의팔레트핑크오션", "핑크오션"),
                "마법의팔레트황혼하늘": 팔레트적용("마법의팔레트황혼하늘", "황혼하늘"),
                "마법의팔레트에메랄드숲": 팔레트적용("마법의팔레트에메랄드숲", "에메랄드숲"),
                "마법의팔레트노랭": 팔레트적용("마법의팔레트노랭", "노랭"),
                "마법의팔레트초록": 팔레트적용("마법의팔레트초록", "초록"),
                "마법의팔레트보라": 팔레트적용("마법의팔레트보라", "보라"),
                "마법의팔레트핑크": 팔레트적용("마법의팔레트핑크", "핑크"),
            },

            "전직": {
                "백인장": "경험치 5만(레벨50)",
                "오백인장": "경험치 10만(레벨100)",
                "천인장": "경험치 15만(레벨150)",
                "1차직업": "선택가능(레벨150)",
                "만인장": "경험치 20만(레벨200)",
                "부장군": "경험치 25만(레벨250)",
                "장군": "경험치 30만(레벨300)",
                "2차직업": "가능(레벨300)",
                "대장군": "경험치 35만(레벨350)",
                "대사마": "경험치 40만(레벨400)",
                "승상": "경험치 45만(레벨450)",
                "3차직업": "가능(450)",
                "후": "경험치 50만(레벨500)",
                "공": "경험치 55만(레벨550)",
                "제후": "경험치 60만(레벨600)",
                "4차직업": "가능(레벨600)",
                "왕": "경험치 65만(레벨650)",
                "황제": "경험치 70만(레벨700)",
                "천황": "경험치 75만(레벨750)",
                "5차직업": "가능(레벨750)",
                "제황": "경험치 80만(레벨800)",
                "태황": "경험치 85만(레벨850)",
                "천제": "경험치 90만(레벨900)",
                "6차직업": "가능(레벨900)",
                "무극": "경험치 95만",
                "태일": "경험치 100만",
                "일자": "경험치 105만",
                "대천황": "경험치 110만",
                "초월자": "경험치 115만",
                "성군": "경험치 120만",
                "제천대성": "경험치 125만",
                "원제": "경험치 130만",
                "원제이후": "레벨1당 깡공1로 치환됩니다",

            },


            "직업": {
                "검술": {
                    "1차 나이트": "추가공격(1~4회(25%)) 확률 10%",
                    "2차 글라디에이터": "추가공격(1~4회(25%)) 확률 20%",
                    "3차 엠퍼러": "추가공격(1~4회(25%)) 확률 30%",
                    "4차 로열가드": "추가공격(1~4회(25%)) 확률 40%",
                    "5차 그랑스워드": "추가공격(1~4회(25%)) 확률 50%",
                    "6차 카이저": "추가공격(1~4회(25%)) 확률 80%",
                },
                "마술": {
                    "1차 직업 매지션": "추가데미지 20%",
                    "2차 직업 워록": "추가데미지 40%",
                    "3차 직업 아크메이지": "추가데미지 60%",
                    "4차 직업 소서러": "추가데미지 80%",
                    "5차 직업 그랑에이지": "추가데미지 100%",
                    "6차 직업 자베러": "추가데미지 160%",
                },
                "신술": {
                    "1차 직업 클레릭": "턴당체력회복+1 확률 11%",
                    "2차 직업 프리스트": "턴당체력회복+2 확률 11%",
                    "3차 직업 비숍": "턴당체력회복+3 확률 11%",
                    "4차 직업 프린세스": "턴당체력회복+4 확률 11%",
                    "5차 직업 그랑세이지": "턴당체력회복+5 확률 11%",
                    "6차 직업 퀸": "턴당체력회복+8 확률 11%",
                },
                "궁술": {
                    "1차 직업 스나이퍼": "체력소모무시 8%",
                    "2차 직업 레인저": "체력소모무시 16%",
                    "3차 직업 헌터": "체력소모무시 24%",
                    "4차 직업 하이랜더": "체력소모무시 32%",
                    "5차 직업 그랑아처": "체력소모무시 40%",
                    "6차 직업 제너럴": "체력소모무시 64%",
                },
            },

            "악세사리": {
                "룬검": {
                    "일반": "공격력 +5%",
                    "레어": "공격력 +10%",
                    "신화": "공격력 +15%",
                    "고대": "공격력 +20%",
                    "태초": "공격력 +25%",
                    "타락": "공격력 +30%",
                },
                "캡틴": {
                    "일반": "최대체력 +1",
                    "레어": "최대체력 +2",
                    "신화": "최대체력 +3",
                    "고대": "최대체력 +4",
                    "태초": "최대체력 +5",
                    "타락": "최대체력 +6",
                },
                "음양": {
                    "일반": "체력 -1 공격력 +10%",
                    "레어": "체력 -2 공격력 +20%",
                    "신화": "체력 -3 공격력 +30%",
                    "고대": "체력 -4 공격력 +40%",
                    "태초": "체력 -5 공격력 +50%",
                    "타락": "체력 -6 공격력 +60%"
                },
                "드림캐처": {
                    "일반": "히든몬스터등장률 +5%",
                    "레어": "히든몬스터등장률 +10%",
                    "신화": "히든몬스터등장률 +15%",
                    "고대": "히든몬스터등장률 +20%",
                    "태초": "히든몬스터등장률 +25%",
                    "타락": "히든몬스터등장률 +30%",
                },
                "카드세우스": {
                    "일반": "적체력감소 +5%",
                    "레어": "적체력감소 +10%",
                    "신화": "적체력감소 +15%",
                    "고대": "적체력감소 +20%",
                    "태초": "적체력감소 +25%",
                    "타락": "적체력감소 +30%",
                },

            },

            "강화": {
                "루시퍼의 심장": {
                    "1강": "확률 100%, 공격력 증가량 120",
                    "2강": "확률 90%, 공격력 증가량 240",
                    "3강": "확률 80%, 공격력 증가량 360",
                    "4강": "확률 70%, 공격력 증가량 480",
                    "5강": "확률 60%, 공격력 증가량 600",
                    "6강": "확률 50%, 공격력 증가량 720",
                    "7강": "확률 40%, 공격력 증가량 840",
                    "8강": "확률 30%, 공격력 증가량 960",
                    "9강": "확률 20%, 공격력 증가량 1080",
                    "10강": "확률 10%, 공격력 증가량 1200",
                    "진화(베히모스의 허물)": "확률 1%, 공격력 10000",
                    "1~10강": "실패 1회당 1% + 망치 1개당 0.1% 확률보정",
                    "실패 1회당 1% 확률보정 최대값": "20%",
                    "진화": "펜타그램 1개당 0.01% 확률보정",
                },
                "악세사리 등급업": {
                    "일반(습득)": "등급1 비용 100만",
                    "레어": "등급2 비용 200만",
                    "신화": "등급3 비용 300만",
                    "고대": "등급4 비용 400만",
                    "태초": "등급5 비용 500만",
                    "타락": "등급6 비용 600만",
                },
                "악세사리 장비칸": {
                    "첫번째 칸": "무료",
                    "두번째 칸": "천만골드",
                    "세번째 칸": "이천만골드",
                },

            },
            "뽑기": {
                "일반장비뽑기": {
                    "일반": "48.95%, 확정드랍",
                    "레어": "27.99%",
                    "신화": "14.47%",
                    "고대": "7.50%",
                    "태초": "3.85%"
                },
                "고급장비뽑기": {
                    "레어": "27.99%, 확정드랍",
                    "신화": "14.47%",
                    "고대": "7.50%",
                    "태초": "3.85%",
                    "타락": "1.95%"
                },
                "유물뽑기": {
                    "전부": "동일",
                },
            },
            "몬스터": {
                "계수": "계수는 현재 층을 기준으로합니다",
                "루시퍼": "체력계수 3.2, 방어계수 1.6, 타입: 타락",
                "사탄": "체력계수 2.0, 방어계수 1.5, 타입: 태초",
                "벨제부브": "체력계수 1.8, 방어계수 1.4, 타입: 고대",
                "레비아탄": "체력계수 1.6, 방어계수 1.3, 타입: 신화",
                "디아블로": "체력계수 1.2, 방어계수 1.1, 타입: 레어",
                "릴리트": "체력계수 1.0, 방어계수 1.0, 타입: 일반",
                "경고블린": "체력계수 1.1, 방어계수 1.1, 타입: 경험",
                "황금고블린": "체력계수 0.8, 방어계수 0.8, 타입: 황금",
                "숙고블린": "체력계수 1.4, 방어계수 1.2, 타입: 계시",
            },

            "마왕전": {
                "마왕전공격력": "최종공격력 * 0.001",
                "마왕전체력": "최종체력 * 1000",
                "직업 :": {
                    "신술": "마왕전체력 * 0.02(1차) ... 0.16(6차)",
                    "타직업": "직업설명과동일",
                },
                "체력소모무시옵션 :": {
                    "데미지무시": "검술의 추가공격을 포함한 모든 데미지",
                    "전투로그": "전투로그의 데미지가 0이라면 무시처리된것",

                },
                "마왕전에 적용되는 스킬 목록 :": {
                    "크리티컬": "",
                    "버닝": "",
                    "버서커": "",
                    "도핑": "",
                    "홀리워터": "",

                },
                "마왕전에 적용되는 악세사리 목록 :": {
                    "룬검": "",
                    "캡틴": "",
                    "음양": "",
                    "카드세우스": "",
                },
            },


        };

        function 가글사전렌더링(데이터, 컨테이너ID) {
            const container = document.getElementById(컨테이너ID);
            container.innerHTML = "";
            container.style.textAlign = "left";
            container.style.alignItems = "flex-start";

            // 기존 div 버튼이 있다면 삭제
            const 기존버튼 = document.getElementById("가글사전펼치기버튼");
            if (기존버튼) 기존버튼.remove();

            // 새 div 버튼 생성
            const 버튼 = document.createElement("div");
            버튼.id = "가글사전펼치기버튼";
            버튼.textContent = "모든데이터 펼쳐보기/접기";
            버튼.style.margin = "10px auto";
            버튼.style.padding = "10px 10px";
            버튼.style.border = "1px solid #4b4b4b";
            버튼.style.borderRadius = "8px";
            버튼.style.cursor = "pointer";
            버튼.style.width = "fit-content";
            버튼.style.textAlign = "center";
            버튼.style.color = "white";
            버튼.style.background = "transparent";

            // 클릭 이벤트 연결
            버튼.addEventListener("click", () => 전체펼치기("가글사전컨테이너"));

            // container 상단에 추가
            container.parentElement.insertBefore(버튼, container);


            function 재귀생성(노드, 부모, 들여쓰기 = 0) {
                for (const key in 노드) {
                    const 값 = 노드[key];

                    const 항목 = document.createElement("div");
                    항목.style.cursor = "pointer";
                    항목.style.marginTop = "5px";
                    항목.style.textAlign = "left";
                    항목.textContent = `${"　".repeat(들여쓰기)}${key}`;

                    if (typeof 값 === "string") {
                        // 최하단 설명 노드
                        항목.innerHTML = `${"　".repeat(들여쓰기)}${key}: ${값}`;
                        부모.appendChild(항목);
                        continue;
                    }

                    const 하위 = document.createElement("div");
                    하위.style.display = "none";
                    하위.style.marginLeft = "20px";
                    하위.style.textAlign = "left";

                    항목.addEventListener("click", () => {
                        하위.style.display = 하위.style.display === "none" ? "block" : "none";
                    });

                    부모.appendChild(항목);
                    부모.appendChild(하위);
                    재귀생성(값, 하위, 들여쓰기 + 1);
                }
            }

            재귀생성(데이터, container);

        }

        let 가글사전펼침상태 = false;

        function 전체펼치기(컨테이너ID) {
            const container = document.getElementById(컨테이너ID);
            const 모든하위 = container.querySelectorAll("div");

            if (!가글사전펼침상태) {
                // 펼치기
                모든하위.forEach(div => {
                    if (div.style && div.style.display === "none") {
                        div.style.display = "block";
                    }
                });
                가글사전펼침상태 = true;
            } else {
                // 다시 초기화
                가글사전펼침상태 = false;
                document.getElementById("가글사전").click();
            }
        }


        document.getElementById("가글사전").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();
            document.getElementById("화면설명").innerHTML = "가글의 데이터들을 표시할 화면입니다<br>데이터가 궁금한 항목은 광장에 소리쳐주세요";

            모든화면숨기기();
            document.getElementById("가글사전화면").style.display = "block";



            const container = document.getElementById("가글사전컨테이너");
            container.innerHTML = ""; // 기존 내용 초기화

            가글사전렌더링(가글사전데이터, "가글사전컨테이너");

            화면해제();
        });




        // document.getElementById("지하던전").addEventListener("click", async () => {
        //     if (!유저데이터) return;
        //     화면잠금();

        //     document.getElementById("화면설명").innerHTML = "지하던전 입장에는 '열쇠'가 소모됩니다<br>열쇠를 소모하고, 승리 시 티켓이 지급됩니다";
        //     모든화면숨기기();
        //     document.getElementById("지하던전화면").style.display = "block";
        //     // document.getElementById("에너지박스").style.display = "block";

        //     // const 컨테이너 = document.getElementById("지하던전컨테이너");
        //     // 컨테이너.innerHTML = "";

        //     const 아이콘컨테이너 = document.getElementById("던전아이콘");
        //     아이콘컨테이너.innerHTML = 던전아이콘;

        //     const level = 유저데이터.지하던전;
        //     document.getElementById("지하층수").innerText = `지하${level}층`;
        //     document.getElementById("지하승패").innerText = "";
        //     document.querySelectorAll(".전투로그컨테이너").forEach(e => e.remove());

        //     화면해제();
        // });


        //마왕전화면보여주기
        document.getElementById("마왕전").addEventListener("click", async () => {
            if (!유저데이터) return;
            화면잠금();

            // document.getElementById("화면설명").innerHTML = "마왕전에서는 공격력이 *0.001, 체력이 *1000(으)로 적용됩니다<br>직업효과 보정정보는 가글사전 '마왕전'을 참고하세요";
            document.getElementById("화면설명").innerHTML = "마왕에게 도전하시면 승패 상관없이 유물. 소드 1개가 지급됩니다<br>마왕은 마왕전용 팔레트가 적용됩니다";
            모든화면숨기기();
            document.getElementById("마왕전화면").style.display = "block";

            const 컨테이너 = document.getElementById("마왕전컨테이너");
            컨테이너.innerHTML = "";
            document.querySelectorAll(".마왕전투로그").forEach(e => e.remove());


            // 서버에서 마왕 정보 요청
            try {
                const 응답 = await fetch("/get-mawang", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" }
                });
                const 결과 = await 응답.json();

                if (결과.존재함) {

                    const 줄리스트 = [];

                    const 총줄수 = 15;

                    const 가운데만줄 = [1, 2, 3, 4, 5, 9];
                    const 양옆만줄 = [];
                    const 전체줄 = Array.from({ length: 총줄수 }, (_, i) => i + 1).filter(i => !가운데만줄.includes(i) && !양옆만줄.includes(i));

                    for (let i = 1; i <= 총줄수; i++) {

                        let 위치목록;

                        if (가운데만줄.includes(i)) {
                            위치목록 = ["가운데"];
                        } else if (양옆만줄.includes(i)) {
                            위치목록 = ["왼쪽", "오른쪽"];
                        } else {
                            위치목록 = ["왼쪽", "가운데", "오른쪽"];
                        }

                        const 줄이름 = 위치목록.map(위치 => `${i}${위치}`);
                        const 클래스 = [9, 10,].includes(i) ? "기본테두리" : "";
                        const 줄 = 한줄에세칸(줄이름, 클래스);
                        줄리스트.push(줄);
                    }

                    줄리스트.forEach(줄 => 컨테이너.appendChild(줄));

                    document.getElementById("1가운데").innerHTML = `마 왕`;

                    document.getElementById("2가운데").innerHTML = `${마왕전아이콘} ${결과.마왕정보.유저아이디} ${마왕전아이콘}`;
                    document.getElementById("2가운데").className = "마법의팔레트마왕전";
                    document.getElementById("2가운데").style.fontSize = "32px";

                    document.getElementById("3가운데").innerHTML = `마왕 공격력(*0.001) : ${Math.floor(결과.마왕정보.최종공격력 * 0.001)}`;
                    document.getElementById("4가운데").innerHTML = `마왕 체력(*1000) : ${결과.마왕정보.최대체력 * 1000}`;






                    // 1) 각 계열별 직업 배열을 미리 정의해 둡니다.
                    const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
                    const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
                    const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
                    const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];

                    const 결정객체 = 결과.마왕정보.직업결정;  // 예: { "신술": 6 }
                    if (결정객체) {
                        // 첫 번째(유일한) 키만 꺼냅니다. → "신술"
                        const 계열키 = Object.keys(결정객체)[0];
                        // 해당 키의 값(단계)을 꺼냅니다. → 6
                        const 단계 = 결정객체[계열키];

                        let 직업이름;
                        if (계열키 === "검술") {
                            직업이름 = 검술[단계 - 1];   // 예: 단계=1 → 검술[0] = "나이트"
                        } else if (계열키 === "마술") {
                            직업이름 = 마술[단계 - 1];
                        } else if (계열키 === "신술") {
                            직업이름 = 신술[단계 - 1];   // 단계=6 → 신술[5] = "퀸"
                        } else if (계열키 === "궁술") {
                            직업이름 = 궁술[단계 - 1];
                        } else {
                            직업이름 = "-";
                        }

                        document.getElementById("5가운데").innerHTML = `마왕 직업 : [${계열키}${단계}차] ${직업이름}`;
                    } else {
                        document.getElementById("5가운데").innerHTML = "마왕 직업 : -";
                    }


                    document.getElementById("6가운데").innerHTML = 결과.마왕정보.마왕전방어 ? `마왕전방어 : ${결과.마왕정보.마왕전방어}회` : `마왕전방어 : 0회`;
                    // try {
                    //     const 스킬원본 = 결과.마왕정보.스킬;
                    //     const 스킬 = typeof 스킬원본 === "string" ? JSON.parse(스킬원본) : 스킬원본;

                    //     const 크리 = 스킬["크리티컬"] ?? 0;
                    //     const 버닝 = 스킬["버닝"] ?? 0;
                    //     const 버서커 = 스킬["버서커"] ?? 0;

                    //     document.getElementById("7왼쪽").innerHTML = `크리티컬 : ${크리}단계`;
                    //     document.getElementById("7가운데").innerHTML = `버닝 : ${버닝}단계`;
                    //     document.getElementById("7오른쪽").innerHTML = `버서커 : ${버서커}단계`;
                    // } catch (e) {
                    //     document.getElementById("7왼쪽").innerHTML = "크리티컬 : -";
                    //     document.getElementById("7가운데").innerHTML = "버닝 : -";
                    //     document.getElementById("7오른쪽").innerHTML = "버서커 : -";
                    // }















                    const 목록 = 결과.마왕정보.장비목록;
                    let bestWeapon = null;
                    if (Array.isArray(목록) && 목록.length) {
                        bestWeapon = 목록.reduce((prev, cur) =>
                            Number(cur.공격력) > Number(prev.공격력) ? cur : prev
                        );
                    }

                    const 장비박스1 = document.getElementById("9가운데");

                    if (bestWeapon) {
                        // 강화 수치 표시 문자열 생성
                        const 강화표시 = bestWeapon.강화 ? ` +${bestWeapon.강화}` : "";
                        // 예: "루시퍼의 심장 +3" (강화가 0이면 이름만)
                        장비박스1.innerText = `${bestWeapon.이름}${강화표시}`;
                        장비박스1.style.color = 색상맵[bestWeapon.등급] || "#fff";
                        장비박스1.style.fontWeight = "bold";
                    } else {
                        장비박스1.innerText = "장비가 없습니다";
                        장비박스1.style.color = "#fff";
                    }

                    const 장비박스왼쪽 = document.getElementById("10왼쪽");
                    const 장비박스가운데 = document.getElementById("10가운데");
                    const 장비박스오른쪽 = document.getElementById("10오른쪽");
                    const 장비박스들 = [장비박스왼쪽, 장비박스가운데, 장비박스오른쪽];

                    장비박스들.forEach(박스 => {
                        박스.innerHTML = "-";
                        박스.style.width = "54px";
                        박스.style.height = "54px";
                        박스.style.display = "flex";
                        박스.style.alignItems = "center";
                        박스.style.justifyContent = "center";
                    });

                    const 장착된악세 = (결과.마왕정보.악세사리목록 || []).filter(a => a.장착 === 1);
                    const 원본악세 = [
                        { 이름: "룬검", 아이콘: 룬검 },
                        { 이름: "캡틴", 아이콘: 캡틴 },
                        { 이름: "음양", 아이콘: 음양 },
                        { 이름: "아스클레피오스의 막대", 아이콘: 아스클레피오스의막대 },
                        { 이름: "드림캐처", 아이콘: 드림캐처 },
                        { 이름: "카드세우스", 아이콘: 카드세우스 },
                        { 이름: "이스터에그", 아이콘: 이스터에그 }
                    ];

                    const 등급이름맵 = {
                        1: "일반",
                        2: "레어",
                        3: "신화",
                        4: "고대",
                        5: "태초",
                        6: "타락"
                    };

                    for (let i = 0; i < 3; i++) {
                        const 악세 = 장착된악세[i];
                        const 박스 = 장비박스들[i];

                        if (악세) {
                            const 아이콘 = 원본악세.find(o => o.이름 === 악세.이름)?.아이콘 || "-";
                            박스.innerHTML = 아이콘;

                            const svg = 박스.querySelector("svg");
                            if (svg) {
                                svg.style.width = "150%";
                                svg.style.height = "150%";

                                // ✅ 등급 색상 적용
                                const 등급이름 = 등급이름맵[악세.등급];
                                const 색상 = 색상맵[등급이름];
                                if (색상) {
                                    svg.querySelectorAll("path").forEach(p => {
                                        const 원래색 = p.getAttribute("fill");
                                        if (원래색 !== "#000" && 원래색 !== "#000000") {
                                            p.removeAttribute("fill");
                                            p.style.fill = 색상;
                                        }
                                    });
                                }
                            }
                        }
                    }



                    document.getElementById("15가운데").innerHTML = `도 전`;
                    document.getElementById("15가운데").className = "버튼";



                    document.getElementById("15가운데").addEventListener("click", async () => {
                        if (!유저데이터) return;

                        // if (유저데이터.최종공격력 < 10000) {
                        //     메시지표시(메시지표시박스, "", "공격력 1만 이상부터 도전할 수 있습니다", "");
                        //     return;
                        // }


                        if (유저데이터.마왕전랭킹 === 1) {

                            if (결과.마왕정보.유저아이디 === 유저데이터.유저아이디) {
                                메시지표시(메시지표시박스, "", "마왕이시여, 도전자를 기다리세요", "");
                                return;
                            }

                        }

                        const 도전장 = 유저데이터.유물목록?.["데빌마스크"] || 0;
                        if (도전장 < 1) {
                            메시지표시(메시지표시박스, "", "도전장이 부족합니다", "");
                            return;
                        }

                        화면잠금();
                        try {
                            const 응답 = await fetch("/challenge-mawang", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                            });

                            const 결과 = await 응답.json();

                            if (!응답.ok || 결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류 || "전투 실패", "");
                                화면해제();
                                return;
                            }

                            if (결과.마왕전랭킹 !== undefined) {
                                유저데이터.마왕전랭킹 = 결과.마왕전랭킹;
                            }
                            유저데이터.유물목록 = 결과.유물목록;

                            메시지표시(메시지표시박스, "", 결과.결과메시지 || "전투 완료", "");
                            document.getElementById("마왕전").click();

                            if (결과.전투로그) {
                                마왕전전투로그표시(결과.전투로그);
                            }

                        } catch (e) {
                            console.error("도전 실패:", e);
                            메시지표시(메시지표시박스, "", "서버 오류", "");
                        }

                        화면해제();
                    });




                }








            } catch (e) {
                console.error("마왕 정보 요청 실패:", e);
            }



            화면해제();
        });


        function 마왕전전투로그표시(전투로그) {
            const 기존 = document.querySelectorAll(".마왕전투로그");
            기존.forEach(e => e.remove());

            const 타겟 = document.getElementById("마왕전컨테이너");
            if (!타겟 || !타겟.parentNode) return;

            전투로그.filter(턴로그 => 턴로그.턴 <= 100).slice().reverse().forEach(턴로그 => {
                const 컨테이너 = document.createElement("div");
                컨테이너.className = "마왕전투로그";
                컨테이너.style.marginTop = "12px";
                컨테이너.style.border = "0.2px solid #4b4b4b";
                컨테이너.style.borderRadius = "10px";
                컨테이너.style.padding = "10px";

                // 🌀 턴 헤더
                const 헤더 = document.createElement("div");
                헤더.style.textAlign = "center";
                헤더.style.background = "#4b4b4b";
                헤더.style.borderTopLeftRadius = "10px";
                헤더.style.borderTopRightRadius = "10px";
                헤더.style.margin = "-10px -10px 10px -10px";
                헤더.style.padding = "6px";
                헤더.innerHTML = `<strong>Turn ${턴로그.턴}</strong>`;
                컨테이너.appendChild(헤더);

                // 👤 도전자 줄
                턴로그.도전자행동.forEach(행동 => {
                    const 줄 = document.createElement("div");
                    줄.className = "가로정렬";
                    줄.style.justifyContent = "flex-start";
                    줄.style.alignItems = "center";
                    줄.style.gap = "6px";

                    if (행동.타입 === "신술") {
                        const span = document.createElement("span");
                        span.innerText = `신술 +${행동.회복량}`;
                        span.style.color = "lime";
                        줄.appendChild(span);
                    } else if (행동.타입 === "공격") {
                        (행동.스킬들 || []).forEach(스킬 => {
                            const span = document.createElement("span");
                            span.innerHTML = 아이콘맵[스킬 + "아이콘"] || "";
                            줄.appendChild(span);
                        });
                        const 데미지 = document.createElement("span");
                        데미지.innerText = `${행동.데미지}`;
                        줄.appendChild(데미지);
                    } else if (행동.타입 === "추가공격") {
                        const 데미지 = document.createElement("span");
                        데미지.innerText = `추가공격 ${행동.데미지}`;
                        줄.appendChild(데미지);
                    }

                    컨테이너.appendChild(줄);
                });

                // 👑 마왕 줄
                턴로그.마왕행동.forEach(행동 => {
                    const 줄 = document.createElement("div");
                    줄.className = "가로정렬";
                    줄.style.justifyContent = "flex-end";
                    줄.style.alignItems = "center";
                    줄.style.gap = "6px";

                    if (행동.타입 === "신술") {
                        const span = document.createElement("span");
                        span.innerText = `+${행동.회복량} 신술`;
                        span.style.color = "lime";
                        줄.appendChild(span);
                    } else if (행동.타입 === "공격") {
                        const 데미지 = document.createElement("span");
                        데미지.innerText = `${행동.데미지}`;

                        // ① 스킬 아이콘 먼저 append
                        (행동.스킬들 || []).forEach(스킬 => {
                            const span = document.createElement("span");
                            span.innerHTML = 아이콘맵[스킬 + "아이콘"] || "";
                            줄.appendChild(span);
                        });

                        // ② 마지막에 데미지 append
                        줄.appendChild(데미지);
                    } else if (행동.타입 === "추가공격") {
                        const 데미지 = document.createElement("span");
                        데미지.innerText = `추가공격 ${행동.데미지}`;
                        줄.appendChild(데미지);
                    }

                    컨테이너.appendChild(줄);
                });

                // 🩸 체력 줄
                const 체력줄 = document.createElement("div");
                체력줄.className = "가로정렬";
                체력줄.style.marginTop = "6px";
                체력줄.style.justifyContent = "space-between";

                const 도전자체력 = document.createElement("span");
                도전자체력.style.color = "#3b82f6";
                도전자체력.innerText = `도전자 체력: ${턴로그.남은체력?.도전자 || "0"}`;

                const 마왕체력 = document.createElement("span");
                마왕체력.style.color = "#ef4444";
                마왕체력.innerText = `마왕 체력: ${턴로그.남은체력?.마왕 || "0"}`;

                체력줄.appendChild(도전자체력);
                체력줄.appendChild(마왕체력);
                컨테이너.appendChild(체력줄);

                // 삽입
                타겟.parentNode.insertBefore(컨테이너, 타겟.nextSibling);
            });
        }



        //     document.getElementById("지하층수").addEventListener("click", async () => {
        //         if (!유저데이터) return;


        //         const 열쇠 = 유저데이터.유물목록?.["열쇠"] || 0;
        //         if (열쇠 < 1) {
        //             메시지표시(지하층수, "", "열쇠를 구해오세요", "");
        //             return;
        //         }


        //         화면잠금();

        //         const res = await fetch("/attack-dungeon", {
        //             method: "POST",
        //             headers: { "Content-Type": "application/json" },
        //             body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
        //         });
        //         const data = await res.json();


        //         if (!res.ok || data.오류) {
        //             메시지표시(지하층수, "", data.오류 || "", "");
        //             화면해제();
        //             return;
        //         }



        //         document.getElementById("지하승패").innerText = data.결과;

        //         document.getElementById("지하층수").innerText = `지하${data.새로운레벨}층`;


        //         유저데이터 = data.유저데이터;
        //         유저데이터.지하던전 = data.새로운레벨;
        //         유저데이터.유물목록 = data.유물목록;

        //         // 티켓 드랍 효과
        //         if (data.드랍티켓) {
        //             const 유물드랍박스 = document.getElementById("유물드랍박스");
        //             const 던전아이콘 = document.getElementById("던전아이콘");

        //             if (유물드랍박스) {
        //                 // ✅ 먼저 기존에 떠 있는 박스를 숨김
        //                 유물드랍박스.style.display = "none";

        //                 // ✅ setTimeout 제거 방지: 이전 타이머 클리어 (선택 사항)
        //                 if (window.유물드랍타이머) clearTimeout(window.유물드랍타이머);

        //                 유물드랍박스.innerText = `유물 [티켓]을(를) 획득했다!`;
        //                 유물드랍박스.style.display = "block";

        //                 // 위치 조정용 부모 변경
        //                 if (던전아이콘) {
        //                     // 등급외테두리에 위치 기준 설정
        //                     던전아이콘.style.position = "relative";

        //                     // 유물드랍박스를 등급외테두리 내부로 이동
        //                     던전아이콘.appendChild(유물드랍박스);

        //                     // 전투화면용 위치 조정
        //                     Object.assign(유물드랍박스.style, {
        //                         position: "absolute",
        //                         top: "50%",
        //                         left: "50%",
        //                         transform: "translate(-50%, -50%)",
        //                         zIndex: "100"
        //                     });
        //                 }
        //             }
        //             // ✅ 새 타이머로 숨김 처리 (전역 변수로 저장)
        //             window.유물드랍타이머 = setTimeout(() => {
        //                 유물드랍박스.style.display = "none";
        //             }, 3000);
        //         }


        //         // 기존 로그 제거
        //         document.querySelectorAll(".전투로그컨테이너").forEach(e => e.remove());

        //         // 전투 로그 출력
        //         if (Array.isArray(data.전투로그)) {
        //             data.전투로그.slice().reverse().forEach(로그 => {
        //                 const 로그컨테이너 = document.createElement("div");
        //                 로그컨테이너.className = "전투로그컨테이너";
        //                 로그컨테이너.style.marginTop = "15px";
        //                 로그컨테이너.style.border = "0.2px solid #4b4b4b";
        //                 로그컨테이너.style.borderRadius = "10px";
        //                 로그컨테이너.style.padding = "15px";
        //                 로그컨테이너.style.width = "400px";

        //                 const 아이콘HTML = (로그.아이콘 || []).map(이름 => 아이콘맵[이름] || "").join(" ");

        //                 let 데미지텍스트 = "";
        //                 let 회복텍스트 = "";

        //                 if (로그.타입 === "공격") {
        //                     데미지텍스트 = `<span><span style="color: #f63b3b;">${로그.몬스터이름}</span>에게 ${로그.효과} 피해를 입혔다!</span>`;
        //                 } else if (로그.타입 === "회복") {
        //                     회복텍스트 = `<span><span style="color: #3b82f6;">${로그.유저아이디}</span> 체력 ${로그.효과} 회복</span>`;
        //                 }

        //                 let 추가횟수표시 = "";
        //                 if (로그.타입 === "공격" && 로그.추가공격횟수 > 0) {
        //                     // 실제 타격 횟수 = 1(기본) + 로그.추가공격횟수
        //                     const 총공격횟수 = 1 + 로그.추가공격횟수;
        //                     추가횟수표시 = `<span style="margin-left: 4px; color: #f63b3b;">x${총공격횟수}</span>`;
        //                 }

        //                 // (2) innerHTML에서 공격 텍스트 뒤에 추가횟수표시 붙이기
        //                 로그컨테이너.innerHTML = `
        // <div style="background: #4b4b4b; width: calc(100% + 30px); margin: -15px 0 0 -15px; padding: 6px 0; text-align: center; border-top-left-radius: 10px; border-top-right-radius: 10px;">
        //     <strong>Turn ${로그.턴}</strong>
        // </div>
        // <div class="가로정렬" style="margin: 4px 0; align-items: center; gap: 6px;">
        //     ${아이콘HTML}
        //     ${로그.타입 === "공격" ? 데미지텍스트 + 추가횟수표시 : ""}
        //     ${로그.타입 === "회복" ? 회복텍스트 : ""}
        // </div>

        // <div class="가로정렬" style="margin-top: 10px; justify-content: space-between; align-items: center; gap: 12px;">
        //                     <div style="border: 0.2px solid #3b82f6; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        //                         <div>${로그.유저아이디}</div>
        //                         <div>
        //                             <div>공격력 ${로그.유저최종공격력}</div>
        //                             <div>체력 ${로그.유저체력}/${로그.유저최대체력}</div>
        //                         </div>
        //                     </div>
        //                     <div style="border: 0.2px solid #f63b3b; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
        //                         <div>${로그.몬스터이름}</div>
        //                         <div>
        //                             <div>체력 ${로그.몬스터체력}</div>
        //                             <div>방어력 ${로그.몬스터방어력}</div>
        //                         </div>
        //                     </div>
        //                 </div>
        //             `;

        //                 const 타겟 = document.getElementById("지하등반");
        //                 if (타겟 && 타겟.parentNode) {
        //                     타겟.parentNode.insertBefore(로그컨테이너, 타겟.nextSibling);
        //                 }
        //             });
        //         }

        //         // 체력, 스태미너, 누적데미지 UI 업데이트
        //         // document.getElementById("악마이름").innerText = data.유저데이터?.보스이름 || 현재보스이름;
        //         // document.getElementById("악마체력").innerText = `체력 ???`;  // 보스는 체력 없음
        //         // document.getElementById("악마방어력").innerText = `방어력 0`;
        //         // document.getElementById("유저체력").innerText = `체력 ${유저데이터.남은체력}/${유저데이터.최대체력}`;
        //         // document.getElementById("최종데미지").innerText = `총피해량 : ${data.누적데미지.toLocaleString()}`;

        //         // document.getElementById("승리패배로그").innerText = "보스전 완료";
        //         // document.getElementById("승리패배로그").style.color = "#ffa500";
        //         화면해제();
        //     });












        document.getElementById("화면설명").onclick = () => {
            const 메뉴얼화면 = document.getElementById("메뉴얼화면");
            const 캐시샵화면 = document.getElementById("캐시샵화면");

            const 메뉴얼보임 = window.getComputedStyle(메뉴얼화면).display === "block";
            const 캐시샵보임 = window.getComputedStyle(캐시샵화면).display === "block";

            if (메뉴얼보임) {
                window.open("https://open.kakao.com/o/gbnmdWvh", "_blank");
            } else if (캐시샵보임) {
                window.open("https://open.kakao.com/o/snVxUjrh", "_blank");
            }
        };



        document.getElementById("메뉴얼").addEventListener("click", () => {
            if (!유저데이터) return;

            document.getElementById("화면설명").innerHTML = "여기를 클릭하시면 주인장이 운영중인<br>단톡으로 연결됩니다";

            모든화면숨기기();
            document.getElementById("메뉴얼화면").style.display = "block";

            const 설명 = document.getElementById("화면설명");
            설명.classList.add("마법의팔레트가글");


            const 컨테이너 = document.getElementById("메뉴얼컨테이너");
            컨테이너.innerHTML = "";

            //서버월정액7달러

            //일반유물상위유물추가
            //체력소모무시아이콘
            //신규보상
            //공략집
            //보스의알이스터에그연계
            //전직가능표시
            //스킬습득가능표시
            //마왕전방어순위표시

            //git add . && git commit -m "fix: gagl.html serving enabled" && git push origin main

            //nodemon index.js

            const 문장들 = [
                `${봄아이콘}`,
                `
이 화면은 메뉴얼 화면입니다<br>
돌아오고 싶다면 정보-메뉴얼로 이동하세요<br>
신규유저라면 먼저 정보-우편함을 확인하세요<br>
사탄의 날개를 수령하세요<br>
사탄의 날개 수령 후 전투화면으로 이동하세요<br>
악마성을 클릭하세요<br>
1층 오른쪽 화살표를 누르고 2층으로 이동 후 악마성을 클릭하세요<br>
히든몬스터 등장까지 자동으로 공격하는 반자동 버튼을 경험하세요<br>
히든몬스터까지 자동 공격하는 풀자동 버튼을 경험하세요<br>
숙련도를 500 모았다면 성장-스킬로 이동하세요<br>
숙련도를 증가시켜주는 인사이트 스킬을 습득하세요<br>
숙련도를 1000 모았다면 아이언바디와 드레인 중 하나를 습득하세요<br>
50레벨마다 성장-전직에서 전직하세요<br>
초반골드는 장비뽑기에 투자해서 성장-장비창에서 자동합성하세요<br>
최종장비인 [타락] 루시퍼의 심장을 얻고, 강화를 진행하세요<br>
자신의 입맛에 맞게 성장하세요<br>
                `,
                `
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ
                `,
                `${여름아이콘}`,
                `
25.07.23<br>
콘솔로 코드를 살펴보시는건 상관없으나, 콘솔로 서버요청 적발 시<br>
별도 공고없이 벤하겠습니다<br>
로그에 몇분 보이는데 따로 경고 안하겠습니다<br>
봐드리는건 오늘 이시간까지입니다<br>
                `,
                `
25.07.22<br>
루시퍼의 심장 진화 천장시스템이 도입됩니다<br>
강화 실패횟수 60회당 진화등급 베히모스의 허물이 확정드랍됩니다<br>
진화의 다음등급, 멸망. 아바돈의 나팔이 구현되었습니다<br>
아바돈의 나팔은 베히모스의 허물을 3개 이상 보유 시 자동합성됩니다<br>
주인장 계정은 삭제되었습니다<br>
오늘짜 보스전이 주인장 계정에 의해 초기화되어버렸습니다 죄송함다<br>
대략적인 스태미너 소모량을 문의주시면 햄버거로 보상하겠슴다<br>
캐시샵에 상품 2종이 추가되었습니다<br>
보스전이 초기화되면서 오늘짜 보스 펫도 같이 초기화되었습니다<br>
심심한 사과의 말씀을 전합니다<br>
캐시샵 상품 티켓이 1장에서 3장으로 버프되었습니다<br>
                `,
                `
25.07.21<br>
오늘부터 지급되는 보스전 보상이, 그러니까 어제 순위 보상부터<br>
1위 5개, 2위 4개, 3위 3개, 4위부터 9위까지 2개,<br>
순위권 밖(참여) 1개로 발송됩니다<br>
마왕전을 현 시스템 그대로 유지하겠습니다<br>
마왕전 보상은 현재 마왕 전용 팔레트 적용으로 유지하고<br>
특수 능력 없이 방어 횟수 1000단위당 마왕아이콘 지급하겠습니다<br>
보스의알 능력치는 계속 고민중에있습니다. 조만간 구현하겠습니다<br>
지금부터 전직화면에서 뼈다구 사용시 '직업'만 초기화됩니다<br>
팝업창의 확인과 취소의 위치를 전환했습니다<br>
직업. 궁술의 효과가 버프되었습니다<br>
자세한 수치는 가글사전 직업편을 참고하세요<br>
악세사리. 카드세우스의 효과가 방어력 디버프에서 체력 디버프로<br>
변경되었습니다<br>
몬스터 방어력 로직 오류가 있었습니다 지금은 해결되었습니다<br>
주인장순위를 기준으로 배송되던 티켓에 문제가 있어<br>
일단 티켓배송은 삭제하겠습니다<br>
악세사리. 음양의 효과가 변경되었습니다<br>
자세한 수치는 가글사전 악세사리편을 참고하세요<br>
                `,
                `
25.07.20<br>
전당 주인장 순위를 기준으로 발송되던 우편물에 문제가 있는점<br>
주인장에게 말하지 않고 다 받으신분들<br>
한번봐드리겠습니다. 담부턴 문제있는것들은 광장에 제보해주세요<br>
주인장이 미처 파악하지 못한 오류를 몰래 즐기시다<br>
주인장이 후에 발견했을 시, 주인장도 몰래 싹다 회수해버릴 수<br>
있는 점 숙지하시길 바라겠습니다<br>
보스전 순위 보상은 밤12시가 아닌 오전 중, 늦으면 오후에<br>
별도로 배송해드리겠습니다<br>
                `,
                `
25.07.19<br>
인게임 내 브라우저 팝업창 사용을 삭제하고<br>
가글 자체 팝업창을 구현했습니다<br>
보스전이 개별전으로 리뉴얼되었습니다<br>
보스화면 좌측 누적데미지 미션보상은 단계당 보스펫이 지급됩니다<br>
우측 누적데미지 순위 보상은 보스전용유물. '보스의알' 입니다<br>
1등 보스의알 4개, 2등 보스의알 3개, 3등 보스의알 2개<br>
4등부터 9등까지는 보스의알 1개입니다<br>
유물. 보스의알의 효과는 아직 정해지지 않았습니다<br>
좋은 효과가 구현될 수 있게 기도합시다<br>
                `,
                `
25.07.18<br>
마왕전의 전투로그가 좀 더 상세히 표시됩니다<br>
스킬. 홀리워터의 만렙이 3렙으로 너프되었습니다<br>
홀리워터 스킬의 너프 기념으로 모든 유저의 우편함으로<br>
스킬초기화에 소모되는 플라워 한송이를 배송했습니다<br>
                `,
                `
25.07.17<br>
모든 전투의 전투로그를 Turn 100까지만 표시하겠습니다<br>
가글사전에 마왕전 데이터가 간략히 추가되었습니다<br>
더 필요한 정보가 있으시면 광장에 소리쳐주세요<br>
마왕전은 일요일까지 지금 로직대로 시범운영하고<br>
다음주 월요일부턴 마왕 효과 적용시키겠습니다<br>
마왕의 효과는 고민중에있습니다. 뭐가좋을까요..?<br>
우선 마왕의 첫번째 혜택에 마왕 고유의 마법의팔레트가 적용됩니다<br>
광장에서는 마왕팔레트 적용이 불가하네요 수정되었습니다<br>
                `,
                `
25.07.16<br>
마왕전이 다시 오픈되었습니다<br>
밸런스 작업중이라 마왕이 되어도 효과는 없습니다<br>
마왕에게 도전할 수 있는 데빌마스크가 하루에 3개씩 충전되니<br>
많이들 도전해보시고 의견 남겨주시면 감사하겠습니다<br>
마왕에게 도전하시면 승리하든 패배하든 무조건 유물.소드 1개를<br>
지급합니다. 뉴비분들도 쓸데없는 데빌마스크 갖고계시지 마시고<br>
마왕에게 도전하고 소드로 교환받으세요<br>
보스를 자동으로 공격해주는 풀자동 버튼이 구현되었습니다<br>
보스화면에서 풀자동 버튼을 누르면 다른 곳을 클릭하기전까지<br>
보스를 자동으로 공격합니다<br>
보스화면에서 보스를 공격했을 때, 총누적데미지가 함께 표시됩니다<br>
마왕전 공격력 1만이상 제한조건을 삭제했습니다<br>
                `,
                `
25.07.15<br>
신규스킬. 도핑(깡공격력증가)이 구현되었습니다<br>
                `,
                `
25.07.14<br>
콘솔에서 서버요청하시는분들이 계시는데,<br>
적발시 경고없이 제재하겠습니다<br>
광장을 다시 오픈합니다<br>
광장 채팅입력 공격력 1만 조건을 삭제했습니다<br>
<s>비속어 사용시 바로 제재하겠습니다</s><br>
전당화면 주인장 아이디를 기준으로 상위유저들과 하위유저들에게<br>
구분된 보상우편이 하루에 한번씩 지급됩니다<br>
코드실험중이고 우편물은 차차 개선하겠습니다<br>
아주 오랜만에 신규스킬이 구현되었습니다<br>
스킬. 홀리워터(최대체력증가)가 구현되었습니다<br>
이제 스킬화면에서 현재 습득중인 스킬의 효과가 표시됩니다<br>
캐시샵이 다시 오픈되었습니다. 주인장은 사라지지 않습니다<br>
                `,
                `
25.07.13<br>
신규유저 우편함에 사탄의 날개 1개 추가<br>
신규유저 우편함에 과거 지급되었던 유물들 추가<br>
유물화면의 유물들을 내림차순으로 정렬했습니다<br>
유물. 소드의 합성등급이 타락등급까지 구현되었습니다<br>
유물. 하트플러스의 합성등급이 타락등급까지 구현되었습니다<br>
유물. 하트마이너스의 합성등급이 신화등급까지 구현되었습니다<br>
악세사리. 카드세우스가 구현되었습니다(방어력감소효과5%)<br>
월드탭을 삭제하고 보스탭으로 변경했습니다<br>
<s>광장이 재건되었습니다. 광장 도배를 막기위해</s><br>
<s>공격력 1만이상부터 채팅이 가능합니다</s><br>
                `,
                `
25.07.12<br>
월드. 지하던전이 삭제되었습니다<br>
지하던전 삭제에 따른 열쇠의 소모처는 추후 구현하겠습니다<br>
월드. 마왕전이 삭제되었습니다<br>
마왕전 삭제에 따른 데빌마스크의 소모처는 추후 구현하겠습니다<br>
월드. 보스전이 일요일부터 리뉴얼됩니다<br>
이제 보스전은 밤 12시부터 다음날 밤12시까지 점수가 정산됩니다<br>
보스에게 가하는 최종데미지가 *0.001배로 적용됩니다<br>
1등 보상 타락장비 2개, 2등보상 타락장비 1개<br>
3등보상 태초장비 2개, 4등보상 태초장비 1개<br>
5등보상 고대장비 2개 ... 9등까지 차등지급됩니다<br>
정보. 캐시샵이 삭제되었습니다<br>
캐시샵이 삭제됨에 따라 모든랭킹화면에 주인장이 다시 참여합니다<br>
정보. 로그아웃 기능이 삭제되었습니다<br>
이제 합성 가능한 유물은 필드드랍이나 뽑기 시 자동으로 합성됩니다<br>
스킬화면에 '최대' 버튼이 구현되었습니다<br>
현재 보유한 숙련도를 기준으로 최대 단계까지 한콤에 습득됩니다<br>
금주 보스전이 미리 정산되었습니다<br>
지금부터 새로운 보스전이 바로 시작됩니다<br>
보상목록은 보스화면 설명란을 참고하세요<br>
총 26단계의 전직을 모두 완료하고 원제 달성 시, 경험치 10만당<br>
레벨공격력 10으로 자동치환됩니다<br>
광장은 임시 폐쇄하겠습니다. 문의는 메뉴얼 상단을 클릭하시고<br>
단톡으로 오셔서 질문해주세요~<br>
신화유물. 고오스트가 구현되었습니다<br>
레어유물 고오스를 99개 이상 보유 시 자동합성됩니다<br>
고오스트 구현기념 전유저에게 고오스트 1개를 우편함으로 보냅니다<br>
                `,
                `
25.07.11<br>
직업. 궁술의 효과가 너프되었습니다<br>
악세사리. 음양의 효과가 너프되었습니다<br>
마왕전 베타버전이 오픈되었습니다<br>
마왕에게 도전하기 위해서는 유물. 데빌마스크가 필요합니다<br>
베타버전 동안 하루에 3개씩 데빌마스크가 지급됩니다<br>
베타버전이어도 마왕에 등극 시 루시퍼의 심장 진화 확률 +1%됩니다<br>
지금은 전투로그 구현이 안되어있습니다<br>
로그구현과 어느정도 밸런스가 조정이 되었다 싶을 때,<br>
방어횟수 초기화 하고 정식오픈하겠습니다<br>
공격력 1만 이상부터 마왕에게 도전할 수 있습니다<br>
마왕전에 마왕의 공격스킬 정보를 추가했습니다<br>
마왕의 자비로 선턴은 반드시 도전자가 공격합니다<br>
선턴을 내어주는 대신 도전자와 마왕이 둘다 체력이 0이되면<br>
마왕의 승리로 처리됩니다<br>
                `,
                `
25.07.10<br>
전직. 무극, 태일, 일자, 대천황, 초월자, 성군, 제천대성, 원제<br>
가 추가되었습니다<br>
레어급유물을 99개 이상 보유할 수 있던 버그를 수정했습니다<br>
성장에서 유물과 악세사리의 위치가 바뀌었습니다<br>
                `,
                `
25.07.08<br>
주인장이 모든 랭킹화면에서 제외되었습니다<br>
하지만 주인장은 영원히 여러분들의 가슴속에 살아갈겁니다<br>
정보창에 마왕전방어횟수가 추가되었습니다<br>
신규컨텐츠, 마왕전을 구현중입니다<br>
                `,
                `
25.07.07<br>
가글사전에 전직정보가 추가되었습니다<br>
가글사전에 직업 설명 데이터가 정상화되었습니다<br>
증가되던 레벨공격력이 삭제되었습니다<br>
기존 레벨공격력은 1레벨 공격력 10으로 고정됩니다<br>
다음주 보스부턴 최종데미지를 1/1000 시키겠습니다<br>
(이번주부터 적용할랬는데 계곡가느라 깜박함)<br>
이제 패배했을 때, 자동사냥이 정지됩니다<br>
패치노트 미확인으로 발생하는 불이익은 책임지지 않습니다<br>
우편함에 날짜와 간단한 메모가 추가되었습니다<br>
가글사전에 히든몬스터 정보가 추가되었습니다<br>
패시브 유물수량이 최대면 더이상 유물드랍과 유물뽑기가 불가합니다<br>
유물화면에서 각 유물들을 클릭해서 합성하세요<br>
레어유물. 고오스가 추가되었습니다. 고스트를 합성해보세요<br>
레어유물. 월계수가 추가되었습니다. 클로버를 합성해보세요<br>
레어유물. 스피어가 너프되었습니다<br>
이제 유물. 열쇠가 9개 초과드랍되지 않습니다<br>
                `,
                `
25.07.04<br>
이제 햄버거 정기배송이 우편함으로 지급됩니다<br>
직업. 신술이 너프되었습니다<br>
직업. 궁술이 버프되었습니다<br>
                `,
                `
25.07.03<br>
우편함에 수령하지 않은 우편이 존재할 시 빨간점이 활성화됩니다<br>
실시간 표시는 불가, 접속한 시점의 우편함을 기준으로 표시됩니다<br>
유물. 쉴드밴을 합성할 수 있습니다<br>
                `,
                `
25.07.02<br>
신규유저에게 마법의팔레트를 제외한 모든 유물이 1개로 셋팅됩니다<br>
정보탭에 우편함이 구현되었습니다<br>
우편함 개발 기념으로 전 유저에게 샐러드1개가 배송되었습니다<br>
우편함에서 수령하세요<br>
이제 일요일에 보스전 랭킹보상 티켓이 우편함으로 지급됩니다<br>
                `,
                `
25.07.01<br>
가글사전에 여러 데이터들이 입력되었습니다<br>
가글사전에서 각 항목을 클릭 시 해당 데이터가 펼쳐집니다<br>
상단의 펼쳐보기를 클릭 시 모든 데이터가 펼쳐집니다<br>
유물. 소드를 합성하여 레어급 유물 스피어를 생성할 수 있습니다<br>
소드 3개를 합성하면 스피어 1개가 생성됩니다<br>
등급 구분을 위해 과금상품들의 등급을 최상위등급으로 변경했습니다<br>
                `,
                `
25.06.30<br>
드림캐처 확률이 너프되었습니다<br>
룬검 증가량이 너프되었습니다<br>
악세사리 장비칸이 3칸으로 증가했습니다<br>
악세 두번째칸 개방에는 천만골드가 소모됩니다<br>
악세 세번째칸 개방에는 이천만골드가 소모됩니다<br>
악세사리 등급업 시스템이 구현되었습니다<br>
악세사리별 등급업에는 등급당 등급*100만골드가 소모됩니다<br>
직업. 검술의 6차직업 발동확률이 너프되었습니다<br>
직업. 마술의 6차직업 데미지가 너프되었습니다<br>
직업. 신술의 6차직업 회복량이 너프되었습니다<br>
가글사전에 직업이 추가되었습니다<br>
가글사전에 악세사리가 추가되었습니다<br>
                `,
                `
25.06.29<br>
전당화면 미니정보창에 악세사리가 표시됩니다<br>
지하던전 화면에서 표시되던 스태미너박스를 제거했습니다<br>
등급과 혼돈방지를 위해 레어몬스터를 히든몬스터로 지칭하겠습니다<br>
내정보화면과 전당화면미니정보창에도 마법의팔레트가 적용됩니다<br>
직업. 궁술의 효과가 방어력무시에서 체력소모무시로 변경되었습니다<br>
메뉴얼화면 상단의 화면설명을 클릭 시 단톡으로 연결됩니다<br>
                `,
                `
25.06.27<br>
루시퍼의 심장 진화 확률을 1%로 고정시켰습니다<br>
진화 확률을 올려주는 유일한 유물. 펜타그램이 추가되었습니다<br>
햄버거정기배송 기간연장 로직을 구현했습니다<br>
다개월 결제를 원하시는분은 문의주세요<br>
게임에 접속한지 3일이 지난 유저는 전당화면에서 제외됩니다<br>
악세사리를 바꿔 착용할 수 있는 유물. 안경이 추가되었습니다<br>
캐시샵에 안경이 추가되었습니다<br>
악세사리. 캡틴이 구현되었습니다<br>
악세사리. 룬검이 구현되었습니다<br>
악세사리. 드림캐처가 구현되었습니다<br>
악세사리. 음양이 구현되었습니다<br>
악세사리 습득에는 100만 골드가 소모됩니다<br>
악세사리 장착에는 유물. 안경이 소모됩니다<br>
정보화면에 장착된 악세사리가 표시됩니다<br>
악세사리 구현 기념 안경 1개가 전 유저에게 지급되었습니다<br>
                `,
                `
25.06.26<br>
실패횟수로 보정되는 추가 강화확률이 최대20으로 제한됩니다<br>
오픈 한달 기념 신규유저 이벤트에 햄버거 1개가 추가되었습니다<br>
이제 진짜 정말로 일어난일에 태초, 타락의 합성로그가 기록됩니다<br>
                `,
                `
25.06.25<br>
정보창에 마지막접속일을 추가했습니다<br>
더이상 유물뽑기로 샐러드가 나오지 않습니다<br>
신규유저에게 햄버거 1개 추가<br>
이제 태초와 타락장비 합성 시 일어난일에 정상적으로 기록됩니다<br>
                `,
                `
25.06.23<br>
보스 컨텐츠가 정상화 되었습니다<br>
이제 지하던전 입장 시 체력을 최대로 회복합니다<br>
자동합성으로 태초와 타락 획득 시 일어난일에 합성으로 표시됩니다<br>
전투 시 '드랍', 뽑기 시 '획득', 합성 시 '합성'으로 표시됩니다<br>
                `,
                `
25.06.22<br>
유물. 스피커가 더이상 드랍이나 뽑기로 등장하지 않습니다<br>
매일, 하루 한 번 스피커가 9개로 셋팅됩니다<br>
광장에서 수다를 누적할 수 있습니다<br>
내정보화면과 미니정보창에 전직정보가 추가되었습니다<br>
펫과 다음주 보스가 올바르게 표시됩니다<br>
                `,
                `
25.06.20<br>
직업. 신술의 회복량 버그 수정<br>
신규유저 새로고침 시 스태미너가 최초 1회 회복되던 버그 수정<br>
루시퍼의 심장 강화 확률에 실패횟수가 영구적으로 추가확률을<br>
보정해줍니다<br>
시간당 스태미너 회복량이 2배로 상향되었습니다<br>
최대스태미너가 2배로 상향되었습니다<br>
                `,
                `
25.06.19<br>
스태미너 회복량이 있을 시 자동으로 새로고침됩니다<br>
돌아다니던 펫을 전투화면 상단에 고정시켰습니다<br>
                `,
                `
25.06.18<br>
장비. 루시퍼의 심장이 초기화되었습니다<br>
루시퍼의 심장 강화 시스템이 개편되었습니다<br>
지금부턴 강화 수치에 따른 확률과 증가량이 적용됩니다<br>
루시퍼의 심장 +10에서 강화 성공 시, 장비가 진화합니다<br>
강화확률을 증가시켜주는 유물. 망치가 추가되었습니다<br>
강화 실패 시 재료증발을 막아주는 유물. 모루가 추가되었습니다<br>
어떻게 사용할지 정하지 않았지만, 실패카운트를 추가했습니다<br>
내정보 화면과 전당 미니정보창에 실패카운트 표시를 추가했습니다<br>
                `,
                `
25.06.17<br>
로그기록 시스템을 적용중입니다<br>
스태미너 회복 로직을 개선했습니다<br>
이제 이틀 뒤에도 스태미너가 정상적으로 회복됩니다<br>
                `,
                `
25.06.16<br>
보스화면과 광장에 마법의팔레트가 적용되었습니다<br>
신규유저에게 모든 유물목록이 표시됩니다<br>
클라이언트 코드 리팩토링<br>
정보탭에 로그아웃 버튼을 추가했습니다<br>
                `,
                `
25.06.15<br>
금주부터 보스에게 방어력이 부여됩니다<br>
보스의 기본방어력은 본인 공격력의 90%입니다<br>
정보탭에 '일어난일' 화면이 추가되었습니다<br>
장비드랍/장비강화/장비뽑기/직업결정 시 일어난일에 등록됩니다<br>
일어난일에 등록하고싶은 순간들이 있다면 건의해주세요<br>
전당화면에 직업이 없을 시 전직정보가 표시됩니다<br>
                `,
                `
25.06.14<br>
정보-'광장'이 추가되었습니다. 수다를 떨어주세요<br>
광장에서 떠들 수 있는 유물. '스피커'가 추가되었습니다<br>
스피커는 드랍과 뽑기에서 획득 가능하며, 9개 제한유물입니다<br>
광장 오픈 기념 스피커 1개가 배송되었습니다<br>
내정보에 지하던전 층수 표시가 추가되었습니다<br>
내정보에 직업계열 몇번째 단계인지 표시가 추가되었습니다<br>
                `,
                `
25.06.13<br>
신술직업 효과 발동확률이 너프되었습니다<br>
유물. '스탭'의 발동확률이 표기되었습니다<br>
모바일 메시지표시박스가 정상화되었습니다<br>
지하던전이 구현되었습니다<br>
지하던전 입장에 필요한 유물. '열쇠'가 추가되었습니다<br>
유물. '열쇠'는 유물뽑기로만 획득 할 수 있습니다<br>
유물. '열쇠'는 9개 초과 드랍되지 않습니다<br>
루시퍼의 심장 강화시스템 개편하겠습니다(구상중)<br>
일반공격과 반자동 시 간혹 히든몬스터를 무시하던 버그 해결<br>
히든몬스터에 경험치를 증가시켜주는 경고블린이 추가되었습니다<br>
                `,
                `
25.06.12<br>
루시퍼의 심장 강화 시 10강마다 10%씩 확률이 감소합니다<br>
공격에 필요한 체력소모를 무시하는 유물. '스탭'이 추가되었습니다<br>
전직, 뽑기, 스킬 화면들을 [성장] 타이틀로 통합했습니다<br>
악마성 / 반자동 / 풀자동 딜레이를 삭제했습니다<br>
직업. 신술의 효과가 재설정되었습니다<br>
이제 전직과 직업 선택 시 레벨,경험치,공격력이 바르게 표시됩니다<br>
                `,
                `
25.06.11<br>
일반몬스터를 자동공격하는 반자동 버튼이 구현되었습니다<br>
히든몬스터를 우선 자동공격하는 풀자동 버튼이 구현되었습니다<br>
반자동 또는 풀자동을 재클릭하거나, 외부를 클릭 시 자동사냥이<br>
정지됩니다<br>
자동사냥 이슈로 인한 티켓 1장이 전 유저에게 지급되었습니다<br>
검술직업의 추가공격 데미지가 보스 누적데미지에 적용되지않던<br>
버그를 수정했습니다<br>
                `,
                `
25.06.10<br>
초기화면을 전투화면에서 메뉴얼 화면으로 수정했습니다<br>
                `,
                `
25.06.09<br>
유물뽑기로만 등장하는 '플라워', '뼈다구'를 9개 이상 보유 시<br>
뽑기에서 더이상 등장하지 않습니다<br>
'도박' 을 '뽑기'로 변경하였습니다<br>
무기 '루시퍼의 심장'을 강화할 수 있습니다<br>
캐시샵에 '1억골드'가 추가되었습니다<br>
보스누적데미지 랭킹보상이 골드에서 티켓으로 변경되었습니다<br>
대격변 기념 햄버거4개, 플라워1개, 뼈다구1개가 배송되었습니다<br>
연속고급장비뽑기 10+1회 로직을 구현하였습니다<br>
보스화면이 '월드'화면으로 통합되었습니다<br>
직업초기화 시 유저아이디가 사라지는 버그 해결<br>
전투화면 외에서도 단축키가 사용되던 버그 해결<br>
신규유저 100만골 회원가입 이벤트 시작<br>
  `,
                `
25.06.08<br>
전당화면에서 유저정보가 빈칸으로 표시되던 문제를 해결했습니다<br>
뽑기창에서 과금상품목록을 제거했습니다<br>
과금상품 목록이 정보-캐시샵으로 이동되었습니다<br>
유물. 플라워와 뼈다구의 판매기능이 삭제되었습니다<br>
플라워와 뼈다구의 과금금액이 1,100원으로 변경되었습니다<br>
전투화면(에너지바)에 모래시계의 발동효과가 추가되었습니다<br>
장비효과가 개편되었습니다<br>
지금부턴 최고공격력 장비만 자동 장착됩니다<br>
장비 누적공격력 시스템이 삭제되었습니다<br>
장비자동합성 기능이 구현되었습니다<br>
장비화면 오른쪽 상단의 자동합성 버튼을 클릭하세요<br>
  `,
                `
25.06.06<br>
드디어, 모바일에서도 '풀자동' 사냥이 가능합니다<br>
전당화면 미니장비창이 미니정보창으로 개선되었습니다<br>
  `,
                `
25.06.05<br>
직업이 구현되었습니다<br>
유물. 뼈다구가 추가되었습니다(직업초기화)<br>
과금상품에 플라워가 부활, 뼈다구가 추가되었습니다<br>
전직화면에서 전직 타이틀 클릭 시 직업초기화가 가능합니다<br>
전 유저에게 뼈다구 1개가 지급되었습니다<br>
레벨당 공격력이 1로 너프되었습니다<br>
전당화면에서 미니정보창 표시 로직을 개선했습니다<br>
전당화면에 전직 대신 직업이 표시됩니다<br>
무너진 악마성을 재건하였습니다. 4층 위로 올라갈 수 있습니다<br>
  `,
                `
25.06.03<br>
업데이트 시 자동새로고침<br>
모바일 화면 최적화 업데이트<br>
탈퇴 버튼을 정보-내정보 최하단으로 이동했습니다<br>
  `,
                `
25.06.02<br>
과금상품에서 유물. 플라워가 삭제되었습니다<br>
정보-내정보 화면이 추가되었습니다<br>
오늘부터 신규유저에겐 생성일이 등록됩니다
  `,
                `
25.06.01<br>
무료서버에서 유료서버 전환 기념 뽀나스 햄버거 1개 배송<br>
<s>유물. 플라워가 과금상품에 추가되었습니다</s><br>
유물화면에서 소모성 유물과 과금유물을 구분하였습니다<br>
오늘은 오픈기념 이벤트 마지막 날이자, 주인장 생일입니다<br>기념으로 금일 햄버거는 1+1 배송됩니다<br>
암포라 발동효과가 기존 9에서 5로 상향되었습니다<br>
10연 유물뽑기가 구현되었습니다<br>
보스 공통미션 보상 '펫'과 누적데미지 순위별 골드보상이<br>지급되었습니다
  `,
                `
25.05.30<br>
10연 고급장비뽑기 시 무료1회 추가기능은 실패했습니다<br>대신, 10연 고급장비뽑기 시 보너스 티켓 한장이 지급됩니다<br>
10연 일반장비뽑기과 10연 고급장비뽑기 업데이트<br>
유물. 암포라의 수치표기를 바르게 수정했습니다
  `,
                `
25.05.29<br>
주인장 득템 기념 햄버거 1+1 지급
  `,
                `
25.05.28<br>
이제 유물. 플라워(스킬초기화)를 판매할 수 있습니다<br>
오픈기념 햄버거 1개가 6월1일까지 오후3시 경 배달됩니다<br>
과금은 오픈톡 '가글주인장' 문의<br>
과금상품. 햄버거정기배송(4900원). 한달간 매일 스태+300<br>
과금상품. 마법의팔레트(1100원). 한달간 아이디 염색
  `,
                `
25.05.27<br>
<s>오픈기념 샐러드5개가 일주일간 오후3시에 배달됩니다</s>
  `,
                `
25.05.26<br>
유물설명에 1개 효과 기입<br>
최대체력이 정상화됩니다<br>
cbt 종료<br>
오후 3시 6분 정식출시
 `,
                `
25.05.25<br>
신규유저 이벤트로 샐러드 5개가 지급됩니다<br>
유물. 샐러드(스태미너회복)가 구현되었습니다<br>
cbt 마지막날 보너스골드와 숙련도가 지급되었습니다<br>
<s>1주차 보스 미노타우르스가 강림중입니다</s><br>
<s>보스 2단계 보상 아이스골렘 펫이 구현되었습니다</s><br>
악마성이 무너져 4층까지만 남았습니다
  `,
                `
25.05.24<br>
고급장비뽑기은 레어부터 타락까지 드랍됩니다<br>
일반장비뽑기은 일반부터 태초까지 드랍됩니다<br>
보스전 스태미너 소모가 10으로 너프되었습니다<br>
<s>유저의 최대체력은 고등급 장비(태초,타락)로만 증가합니다</s><br>
유물. 티켓(고급장비뽑기)이 유물뽑기로만 등장합니다<br>
유물. 플라워(스킬초기화)가 유물뽑기로만 등장합니다
  `,
                `
25.05.23<br>
각 화면에 대한 설명을 표시<br>
보스화면 내 순위 별도 표시<br>
클로버 유물효과 뽑기확률증가로 변경<br>
<s>신규유저 이벤트 10만골드 뽑기 가즈ㅏㅏ</s><br>
3시 10분 5월 26일 오픈 전 마지막 cbt 초기화 진행
  `,
                `
25.05.22<br>
보스 펫 보상 로직 변경<br>
유물뽑기 업데이트
  `,
                `
25.05.21<br>
정보 버튼에서 전당 분리<br>
보스컨텐츠 공통보상 '펫'구현 시작<br>
보스컨텐츠 대충 구현 완료
  `,
                `
25.05.20<br>
메뉴얼,전당,탈퇴 버튼을 정보 버튼으로 통합<br>
스킬초기화 안되게할랬찌만, 유물 소모로 구현<br>
패치노트 기록하기로 결심
  `,
                "ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ",
                `${가을아이콘}`,
                "가글(gagl)에 찾아와 주셔서 감사합니다",
                "가글은 25년 3월 1일을 시작으로 25년 4월 15일 낮 12시 40분경",
                "서비스를 종료 한 마글(magl)이란 게임의 팬게임으로",
                "제작을 시작한 게임입니다",
                "저는 코딩을 모르는 평범한 아재이며, 가글의 제작은",
                "100% 챗지피티로 제작되고 있는 점 알아주시면 감사하겠습니다",
                "주인장이 운영중인 오픈톡이 존재하지만, 귀찮으신분들은",
                "오픈톡에 '가글주인장'을 검색하시면 제 프로필이 나옵니다",
                "1:1채팅으로 문의를 주시면 최대한 빠르게 조치해드리겠습니다",
                "최초버그를 제보해주시면, 햄버거 1개를 배송해드립니다",
                "ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ",
                `${겨울아이콘}`,
                "화면 최상단 아이디를 클릭하시면, 아이디 변경이 가능합니다",
                "모든 팝업창은 외부를 클릭 시 닫힙니다",
                "스태미너는 시간당 120씩 회복됩니다",
                "마글엔 존재하지 않았지만 편의를 위해 자동사냥을 구현했습니다",
                "일반뽑기는 최소 일반, 최대 태초장비가 획득됩니다",
                "고급뽑기는 최소 레어, 최대 타락장비가 획득됩니다",
                "모든 스킬은 단계가 존재하며, 습득한 스킬 효과만 적용됩니다",
                "전투로그의 아이콘으로 스킬의 발동여부를 확인하실 수 있습니다",
                "유물의 효과는 대부분 개당 1%의 효과가 곱연산이지만,",
                "밸런스상 예외로 0.1%거나 합연산, 소모성 유물도 존재합니다",
                "보스 누적데미지 목표달성 전유저 공통보상은 펫입니다",
                "목표달성에 따라 최종공격력을 10%, 20%, 30% 증가시켜주는",
                "펫을 획득할 수 있으며, 다음 보스가 등장하기 전까지",
                `전투화면 상단에 펫이 표시됩니다`,
            ];

            for (const 문장 of 문장들) {
                const 줄 = document.createElement("div");
                줄.innerHTML = 문장;
                줄.style.margin = "5px 0"; // 줄 간격
                줄.style.textAlign = "center";
                컨테이너.appendChild(줄);
            }

        });


        document.getElementById("전당").addEventListener("click", () => {
            if (!유저데이터) return;
            전당화면보여주기();
        });

        async function 전당화면보여주기() {
            화면잠금();
            모든화면숨기기();
            document.getElementById("화면설명").innerHTML = "유저를 클릭하면 해당유저의 정보를 확인할 수 있습니다";

            document.getElementById("전당화면").style.display = "block";

            document.getElementById("획득로그").innerText = "";
            document.getElementById("추가획득로그").innerText = "";
            document.getElementById("레벨업표시").innerText = "";

            const 컨테이너 = document.getElementById("전당컨테이너");
            컨테이너.innerHTML = "";

            const 응답 = await fetch("/ranking", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
            });

            const 결과 = await 응답.json();
            const 유저들 = 결과.유저들 || [];
            // const 내순위 = 결과.내순위;
            const 보스랭킹 = 결과.보스랭킹 || [];

            유저들.forEach((유저, index) => {
                const 줄 = document.createElement("div");
                줄.className = "밑줄 양쪽정렬";
                줄.style.display = "flex";
                줄.style.justifyContent = "space-between";
                줄.style.width = "100%";

                if (유저.유저아이디 === 유저데이터.유저아이디) 줄.classList.add("내아이디강조");

                let 왼쪽표시;
                if (index === 0) {
                    왼쪽표시 = `<svg class="lucide lucide-crown" style="color: gold;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"/><path d="M5 21h14"/></svg>`;
                } else if (index === 1) {
                    왼쪽표시 = `<svg class="lucide lucide-crown" style="color: silver;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"/><path d="M5 21h14"/></svg>`;
                } else if (index === 2) {
                    왼쪽표시 = `<svg class="lucide lucide-crown" style="color: peru;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"/><path d="M5 21h14"/></svg>`;
                } else {
                    왼쪽표시 = `<span style="width:24px; display:inline-block;">${index + 1}</span>`;
                }

                const 왼쪽 = document.createElement("div");
                왼쪽.innerHTML = 왼쪽표시;
                왼쪽.style.flex = "0 0 auto";

                const 오른쪽 = document.createElement("div");

                // const 닉네임표시 = 팔레트적용(유저.유저아이디, 유저.마법의팔레트);
                const 닉네임표시 = 팔레트적용(
                    유저.유저아이디,
                    유저.마왕전랭킹 === 1 ? "마왕" : (유저.마법의팔레트 || "")
                );



                // 1) 각 계열별 직업 배열을 미리 정의해 둡니다.
                const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
                const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
                const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
                const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];

                // … (유저데이터.직업결정은 { "신술": 6 } 같은 객체 형태로 들어있다고 가정)

                const 결정객체 = 유저.직업결정;  // 예: { "신술": 6 }

                if (결정객체) {
                    // 첫 번째(유일한) 키만 꺼냅니다. → "신술"
                    const 계열키 = Object.keys(결정객체)[0];
                    // 해당 키의 값(단계)을 꺼냅니다. → 6
                    const 단계 = 결정객체[계열키];

                    // 단계(숫자)에 해당하는 실제 직업명을 찾아서 변수에 저장
                    let 직업이름;
                    if (계열키 === "검술") {
                        직업이름 = 검술[단계 - 1];   // 예: 단계=1 → 검술[0] = "나이트"
                    } else if (계열키 === "마술") {
                        직업이름 = 마술[단계 - 1];
                    } else if (계열키 === "신술") {
                        직업이름 = 신술[단계 - 1];   // 단계=6 → 신술[5] = "퀸"
                    } else if (계열키 === "궁술") {
                        직업이름 = 궁술[단계 - 1];
                    } else {
                        직업이름 = "-";
                    }


                    오른쪽.innerHTML = `[${직업이름}] ${닉네임표시} (lv.${유저.레벨 || 1}) - 공격력 ${유저.최종공격력} / ${유저.현재층}층`;
                } else {
                    const 직위 = 최고전직명(유저.전직정보);

                    오른쪽.innerHTML = `${직위 ? `[${직위}] ` : ''}${닉네임표시} (lv.${유저.레벨 || 1}) - 공격력 ${유저.최종공격력} / ${유저.현재층}층`;
                }

                오른쪽.style.flex = "1";
                오른쪽.style.textAlign = "right";

                줄.appendChild(왼쪽);
                줄.appendChild(오른쪽);

                줄.addEventListener("click", (e) => {
                    e.stopPropagation();
                    const 창 = document.getElementById("미니정보창");

                    // 이미 떠 있으면 닫기만
                    if (창.style.display === "block") {
                        창.style.display = "none";
                        return;
                    }

                    // 위치 계산 후 표시
                    const rect = 줄.getBoundingClientRect();
                    창.style.left = `${rect.left}px`;
                    창.style.top = `${rect.bottom + 6}px`;
                    창.style.display = "block";

                    창.innerHTML = "";

                    // ─── 첫째줄부터 넷째줄까지 2칸짜리 행 생성 ───
                    const 첫째줄행 = 한줄에두칸("첫째줄왼쪽", "첫째줄오른쪽");
                    const 둘째줄행 = 한줄에두칸("둘째줄왼쪽", "둘째줄오른쪽");
                    const 셋째줄행 = 한줄에두칸("셋째줄왼쪽", "셋째줄오른쪽");
                    const 넷째줄행 = 한줄에두칸("넷째줄왼쪽", "넷째줄오른쪽");
                    const 다섯째줄행 = 한줄에두칸("다섯째줄왼쪽", "다섯째줄오른쪽");
                    const 여섯째줄행 = 한줄에두칸("여섯째줄왼쪽", "여섯째줄오른쪽");
                    const 일곱째줄행 = 한줄에두칸("일곱째줄왼쪽", "일곱째줄오른쪽");
                    const 여덟째줄행 = 한줄에두칸("여덟째줄왼쪽", "여덟째줄오른쪽");

                    const 열째줄행 = 한줄에세칸(
                        ["열째줄왼쪽",],
                        "기본테두리"
                    );

                    const 열한째줄행 = 한줄에세칸(
                        ["열한째줄왼쪽", "열한째줄가운데", "열한째줄오른쪽"],
                        "기본테두리"
                    );

                    const 열둘째줄행 = 한줄에세칸(
                        ["열둘째줄왼쪽", "열둘째줄가운데", "열둘째줄오른쪽"],
                        ""
                    );

                    // ─── 컨테이너에 차례대로 붙이기 ───
                    창.appendChild(첫째줄행);
                    창.appendChild(둘째줄행);
                    창.appendChild(셋째줄행);
                    창.appendChild(넷째줄행);
                    창.appendChild(다섯째줄행);
                    창.appendChild(여섯째줄행);
                    창.appendChild(일곱째줄행);
                    창.appendChild(여덟째줄행);


                    창.appendChild(열째줄행);
                    창.appendChild(열한째줄행);
                    창.appendChild(열둘째줄행);


                    // const 닉네임표시 = 팔레트적용(유저.유저아이디, 유저.마법의팔레트);
                    const 닉네임표시 = 팔레트적용(
                        유저.유저아이디,
                        유저.마왕전랭킹 === 1 ? "마왕" : (유저.마법의팔레트 || "")
                    );



                    // ─── 내용 채우기 ───
                    창.querySelector("#첫째줄왼쪽").innerHTML = `아이디 : ${닉네임표시}`;
                    창.querySelector("#둘째줄왼쪽").innerHTML = `공격력 : ${유저.최종공격력}`;
                    창.querySelector("#셋째줄왼쪽").innerHTML = `최대체력 : ${유저.최대체력}`;
                    창.querySelector("#넷째줄왼쪽").innerHTML = `전당 : ${index + 1}위`;

                    창.querySelector("#둘째줄오른쪽").innerHTML = (유저.현질기한 !== undefined && 유저.현질기한 !== 0) ? `마법의팔레트 : ${유저.현질기한}/30` : `마법의팔레트 : -`;
                    창.querySelector("#셋째줄오른쪽").innerHTML = (유저.햄버거현질기한 !== undefined && 유저.햄버거현질기한 !== 0) ? `햄버거정기배송 : ${유저.햄버거현질기한}/30` : `햄버거정기배송 : -`;
                    창.querySelector("#넷째줄오른쪽").innerHTML = 유저.생성일 ? `생성일 : ${유저.생성일}` : `생성일 : -`;

                    const bossIndex = 보스랭킹.findIndex(u => u.유저UID === 유저.유저UID);

                    if (bossIndex >= 0) {
                        // 순위가 있으면 “XX위” 형식으로 표시
                        const bossRank = bossIndex + 1;
                        창.querySelector("#다섯째줄왼쪽").innerText = `보스 : ${bossRank}위`;
                    } else {
                        // 순위가 없으면 “-”만 표시
                        창.querySelector("#다섯째줄왼쪽").innerText = `보스 : -`;
                    }
                    창.querySelector("#다섯째줄오른쪽").innerHTML = (유저.스태미너소모총량 !== undefined && 유저.스태미너소모총량 !== 0) ? `총스태미너 : ${유저.스태미너소모총량}` : `총스태미너 : -`;

                    // 1) 각 계열별 직업 배열을 미리 정의해 둡니다.
                    const 검술 = ["나이트", "글라디에이터", "엠퍼러", "로열가드", "그랑스워드", "카이저"];
                    const 마술 = ["매지션", "워록", "아크메이지", "소서러", "그랑에이지", "자베러"];
                    const 신술 = ["클레릭", "프리스트", "비숍", "프린세스", "그랑세이지", "퀸"];
                    const 궁술 = ["스나이퍼", "레인저", "헌터", "하이랜더", "그랑아처", "제너럴"];

                    // … (유저.직업결정은 { "신술": 6 } 같은 객체 형태로 들어있다고 가정)


                    const 직위 = 최고전직명(유저.전직정보);

                    창.querySelector("#여섯째줄오른쪽").innerHTML = `전직 : ${직위 ? `${직위} ` : '-'}`;


                    창.querySelector("#여섯째줄왼쪽").innerHTML = 유저.마왕전방어 ? `마왕전방어 : ${유저.마왕전방어}회` : `마왕전방어 : -회`;

                    // 창.querySelector("#일곱째줄왼쪽").innerHTML = `지하던전 : 지하${유저.지하던전}층`;
                    창.querySelector("#여덟째줄왼쪽").innerHTML = `강화실패 : ${유저.실패카운트 ?? 0}회`;

                    const 결정객체 = 유저.직업결정;  // 예: { "신술": 6 }
                    if (결정객체) {
                        // 첫 번째(유일한) 키만 꺼냅니다. → "신술"
                        const 계열키 = Object.keys(결정객체)[0];
                        // 해당 키의 값(단계)을 꺼냅니다. → 6
                        const 단계 = 결정객체[계열키];

                        // 단계(숫자)에 해당하는 실제 직업명을 찾아서 변수에 저장
                        let 직업이름;
                        if (계열키 === "검술") {
                            직업이름 = 검술[단계 - 1];   // 예: 단계=1 → 검술[0] = "나이트"
                        } else if (계열키 === "마술") {
                            직업이름 = 마술[단계 - 1];
                        } else if (계열키 === "신술") {
                            직업이름 = 신술[단계 - 1];   // 단계=6 → 신술[5] = "퀸"
                        } else if (계열키 === "궁술") {
                            직업이름 = 궁술[단계 - 1];
                        } else {
                            직업이름 = "-";
                        }

                        // 화면에 “신술(퀸)” 형태로 표시
                        창.querySelector("#일곱째줄오른쪽").innerHTML = `직업 : [${계열키}${단계}차] ${직업이름}`;
                    } else {
                        // 아직 선택된 직업이 없으면 ‘-’만 표시
                        창.querySelector("#일곱째줄오른쪽").innerHTML = "직업 : -";
                    }

                    const 마지막접속 = 유저.하루한번.slice(0, 10);
                    창.querySelector("#여덟째줄오른쪽").innerHTML = 마지막접속 ? `마지막접속 : ${마지막접속}` : `마지막접속 : -`;

                    // ─── “공격력 최댓값 장비” 찾기 및 표시 ───
                    const 목록 = 유저.장비목록;
                    let bestWeapon = null;
                    if (Array.isArray(목록) && 목록.length) {
                        bestWeapon = 목록.reduce((prev, cur) =>
                            Number(cur.공격력) > Number(prev.공격력) ? cur : prev
                        );
                    }

                    const 장비박스1 = 창.querySelector("#열째줄왼쪽");  // 첫 번째 칸 사용

                    if (bestWeapon) {
                        // 🔹 강화수치 있으면 "+n" 붙이기
                        const 강화표시 = bestWeapon.강화 ? ` +${bestWeapon.강화}` : "";
                        장비박스1.innerText = `${bestWeapon.이름}${강화표시}`;
                        장비박스1.style.color = 색상맵[bestWeapon.등급] || "#fff";
                        장비박스1.style.fontWeight = "bold";
                    } else {
                        장비박스1.innerText = "장비가 없습니다";
                        장비박스1.style.color = "#fff";
                    }


                    const 장비박스들 = [
                        창.querySelector("#열한째줄왼쪽"),
                        창.querySelector("#열한째줄가운데"),
                        창.querySelector("#열한째줄오른쪽")
                    ];

                    // 초기화: 기본값 "-"로 설정
                    장비박스들.forEach(박스 => {
                        박스.innerHTML = "-";
                        박스.style.width = "54px";
                        박스.style.height = "54px";
                        박스.style.display = "flex";
                        박스.style.alignItems = "center";
                        박스.style.justifyContent = "center";
                    });

                    const 장착된악세 = (유저.악세사리목록 || []).filter(a => a.장착 === 1);
                    const 원본악세 = [
                        { 이름: "룬검", 아이콘: 룬검 },
                        { 이름: "캡틴", 아이콘: 캡틴 },
                        { 이름: "음양", 아이콘: 음양 },
                        { 이름: "아스클레피오스의 막대", 아이콘: 아스클레피오스의막대 },
                        { 이름: "드림캐처", 아이콘: 드림캐처 },
                        { 이름: "카드세우스", 아이콘: 카드세우스 },
                        { 이름: "이스터에그", 아이콘: 이스터에그 }
                    ];

                    const 등급이름맵 = {
                        1: "일반",
                        2: "레어",
                        3: "신화",
                        4: "고대",
                        5: "태초",
                        6: "타락"
                    };



                    for (let i = 0; i < 3; i++) {
                        const 악세 = 장착된악세[i];
                        const 박스 = 장비박스들[i];

                        if (악세) {
                            const 아이콘 = 원본악세.find(o => o.이름 === 악세.이름)?.아이콘 || "-";
                            박스.innerHTML = 아이콘;

                            const svg = 박스.querySelector("svg");
                            if (svg) {
                                svg.style.width = "150%";
                                svg.style.height = "150%";

                                // ✅ 등급별 색상 적용
                                const 등급이름 = 등급이름맵[악세.등급];
                                const 색상 = 색상맵[등급이름];
                                if (색상) {
                                    svg.querySelectorAll("path").forEach(p => {
                                        const 원래색 = p.getAttribute("fill");
                                        if (원래색 !== "#000" && 원래색 !== "#000000") {
                                            p.removeAttribute("fill");
                                            p.style.fill = 색상;
                                        }
                                    });
                                }
                            }
                        }
                    }


                    창.querySelector("#열둘째줄가운데").innerHTML = ``;

                });



                컨테이너.appendChild(줄);
            });
            화면해제();
        }




        function 펫보여주기(아이콘HTML, 색상코드 = "#ffffff") {
            const 펫 = document.getElementById("펫컨테이너");
            펫.innerHTML = 아이콘HTML;
            펫.style.display = "block";
            펫.style.position = "fixed";
            펫.style.transform = "scale(0.1)";
            펫.style.pointerEvents = "none";
            펫.style.zIndex = "9999";
            펫.style.background = "transparent";

            // ✅ 전달받은 색상코드로 path 채우기
            const paths = 펫.querySelectorAll("path");
            paths.forEach(p => p.setAttribute("fill", 색상코드));

            const 중심X = window.innerWidth / 2;
            const 최소X = 중심X - 500;
            const 최대X = 중심X + 0;
            const 최소Y = 0;
            const 최대Y = 400;

            let x = 중심X;
            let y = 최대Y / 2;
            let vx = (Math.random() - 0.5) * 2;
            let vy = (Math.random() - 0.5) * 2;

            function update() {
                x += vx;
                y += vy;

                if (x < 최소X || x > 최대X) vx *= -1;
                if (y < 최소Y || y > 최대Y) vy *= -1;

                vx += (Math.random() - 0.5) * 0.1;
                vy += (Math.random() - 0.5) * 0.1;

                const 속도 = Math.sqrt(vx * vx + vy * vy);
                const 최대속도 = 1.5;
                if (속도 > 최대속도) {
                    vx *= 최대속도 / 속도;
                    vy *= 최대속도 / 속도;
                }

                펫.style.left = `${x}px`;
                펫.style.top = `${y}px`;

                requestAnimationFrame(update);
            }

            update();
        }





        // 보스화면보여주기
        document.getElementById("보스").addEventListener("click", () => {
            if (!유저데이터) return;

            const 보스화면보스번호 = 유저데이터.보스넘버 ?? 0;
            const 현재보스 = 보스데이터목록[보스화면보스번호];
            const 현재보스이름 = 현재보스?.이름 || "알 수 없음";

            화면잠금();
            document.getElementById("화면설명").innerHTML =
                "좌측 누적데미지 미션달성 보상은 보스'펫'입니다<br>보스전에는 스태미너 10이 소모됩니다";

            const 보스버튼 = document.getElementById("보스");
            fetch("/boss-ranking", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
            })
                .then(res => res.json())
                .then(결과 => {
                    if (결과.오류) {
                        return 메시지표시(보스, "", 결과.오류, "");
                    }

                    document.querySelectorAll(".전투로그컨테이너").forEach(e => e.remove());
                    document.getElementById("최종데미지").innerText = "";
                    document.getElementById("누적데미지").innerText = "";

                    모든화면숨기기();
                    document.getElementById("에너지박스").style.display = "block";
                    document.getElementById("보스화면").style.display = "block";

                    const 보스컨테이너 = document.getElementById("보스컨테이너");
                    보스컨테이너.style.marginTop = "15px";
                    보스컨테이너.style.width = "400px";
                    보스컨테이너.style.border = "0.2px solid #4b4b4b";
                    보스컨테이너.style.borderRadius = "10px";
                    보스컨테이너.style.padding = "15px";
                    보스컨테이너.style.display = "flex";
                    보스컨테이너.style.alignItems = "center";
                    보스컨테이너.style.justifyContent = "flex-start";
                    보스컨테이너.style.gap = "10px";

                    const 보스아이콘 = document.getElementById("보스아이콘");
                    보스아이콘.innerHTML = `
    <div style="display: flex; justify-content: center; align-items: center; height: 100%;">
        <div style="width: 200px; height: 200px;">
            ${아이콘맵[현재보스이름 + "아이콘"]
                            .replace(/height:\s*\d+px/, 'height: 200px')
                            .replace(/width:\s*\d+px/, 'width: 200px')}
        </div>
    </div>
`;

                    const 목표1 = 999999;
                    const 목표2 = 9999999;
                    const 목표3 = 99999999;
                    const 누적 = 결과.내정보?.보스누적데미지 || 0;

                    function 만들기단계라인(id, 현재값, 목표값) {
                        const div = document.createElement("div");
                        div.id = id;
                        div.style.border = "0.2px solid #4b4b4b";
                        div.style.display = "flex";
                        div.style.alignItems = "center";
                        div.style.justifyContent = "space-between";
                        div.style.borderRadius = "6px";
                        div.style.padding = "8px";

                        // ✅ 달성한 경우, 현재값을 목표값으로 강제 표기
                        const 표시값 = 현재값 >= 목표값 ? 목표값 : 현재값;

                        const 숫자표시 = `${표시값.toLocaleString()}/${목표값.toLocaleString()}`;
                        const 아이콘HTML = 현재값 >= 목표값 ? 아이콘맵["서클체크아이콘"] : "";

                        div.innerHTML = `
        <span>${숫자표시}</span>
        <span>${아이콘HTML}</span>
    `;
                        return div;
                    }

                    // 단계별 줄 생성
                    const 단계1 = 만들기단계라인("단계1", 누적, 목표1);
                    const 단계2 = 만들기단계라인("단계2", 누적, 목표2);
                    const 단계3 = 만들기단계라인("단계3", 누적, 목표3);

                    // 화면에 추가할 박스 준비
                    const 총합박스 = document.createElement("div");
                    총합박스.id = "단계박스";
                    총합박스.style.display = "flex";
                    총합박스.style.flexDirection = "column";
                    총합박스.style.gap = "10px";
                    총합박스.style.marginTop = "10px";

                    // 조건에 따라 단계별로 추가
                    총합박스.appendChild(단계1);

                    if (누적 >= 목표1) {
                        총합박스.appendChild(단계2);
                    }
                    if (누적 >= 목표2) {
                        총합박스.appendChild(단계3);
                    }

                    보스아이콘.appendChild(총합박스);

                    const 보스몬스터 = document.getElementById("보스몬스터");
                    보스몬스터.innerText = 현재보스이름;

                    const 누적데미지순위 = document.getElementById("누적데미지순위");
                    누적데미지순위.innerHTML = "";
                    누적데미지순위.style.display = "flex";
                    누적데미지순위.style.flexDirection = "column";
                    누적데미지순위.style.alignItems = "flex-start";
                    누적데미지순위.style.justifyContent = "flex-start";
                    누적데미지순위.style.gap = "10px";
                    누적데미지순위.style.textAlign = "left";

                    const 제목 = document.createElement("div");
                    제목.innerText = "누적데미지 순위";
                    누적데미지순위.appendChild(제목);

                    const 유저들 = 결과.순위 || [];
                    유저들.forEach((유저, index) => {
                        if (index >= 9) return;
                        const div = document.createElement("div");

                        // const 닉네임표시 = 팔레트적용(유저.유저아이디, 유저.마법의팔레트);

                        const 닉네임표시 = 팔레트적용(
                            유저.유저아이디,
                            유저.마왕전랭킹 === 1 ? "마왕" : (유저.마법의팔레트 || "")
                        );


                        div.innerHTML = `${index + 1}. ${유저.보스누적데미지.toLocaleString()} [${닉네임표시}]`;
                        누적데미지순위.appendChild(div);
                    });

                    if (결과.내정보) {
                        const div = document.createElement("div");
                        // const 닉네임표시 = 팔레트적용(결과.내정보.유저아이디, 결과.내정보.마법의팔레트);
                        const 닉네임표시 = 팔레트적용(
                            결과.내정보.유저아이디,
                            결과.내정보.마왕전랭킹 === 1 ? "마왕" : (결과.내정보.마법의팔레트 || "")
                        );


                        div.innerHTML = `${결과.내정보.순위}. ${결과.내정보.보스누적데미지.toLocaleString()} [${닉네임표시}]`;
                        div.style.marginTop = "8px";
                        div.style.backgroundColor = "#505050";
                        누적데미지순위.appendChild(div);
                    }
                    화면해제();

                })
                .catch(err => {
                    console.error("보스 순위 조회 실패", err);
                    화면해제();
                });
        });

        document.getElementById("보스몬스터").addEventListener("click", async () => {
            if (!유저데이터) return;

            const 보스화면보스번호 = 유저데이터.보스넘버 ?? 0;
            const 현재보스 = 보스데이터목록[보스화면보스번호];
            const 현재보스이름 = 현재보스?.이름 || "알 수 없음";


            if (유저데이터.현재스태미너 < 10) {
                메시지표시(메시지표시박스, "", "스태미너가 없습니다", "");
                보스풀자동실행 = false;

                return;
            }

            공격버튼잠금();

            try {
                const 응답 = await fetch("/attack-boss", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저데이터,
                        보스이름: 현재보스이름
                    })
                });

                if (!응답.ok) {
                    const 에러결과 = await 응답.json();
                    const 메시지 = 에러결과.오류 || "오류 발생";
                    const 보스사냥컨테이너 = document.getElementById("보스사냥컨테이너");
                    메시지표시(메시지표시박스, "", 메시지, "");
                    보스풀자동실행 = false;

                    return;
                }

                const 결과 = await 응답.json();
                const 등급외테두리 = document.getElementById("등급외테두리");
                const 보스사냥컨테이너 = document.getElementById("보스사냥컨테이너");

                if (결과.결과 === "불가") {
                    메시지표시(메시지표시박스, "", 결과.메시지 || "스태미너 부족", "");
                    보스풀자동실행 = false;

                    return;
                }

                유저데이터 = 결과.유저데이터;

                // 기존 로그 제거
                document.querySelectorAll(".전투로그컨테이너").forEach(e => e.remove());

                // 전투 로그 출력
                if (Array.isArray(결과.전투로그)) {
                    결과.전투로그.filter(로그 => 로그.턴 <= 100).slice().reverse().forEach(로그 => {
                        const 로그컨테이너 = document.createElement("div");
                        로그컨테이너.className = "전투로그컨테이너";
                        로그컨테이너.style.marginTop = "15px";
                        로그컨테이너.style.border = "0.2px solid #4b4b4b";
                        로그컨테이너.style.borderRadius = "10px";
                        로그컨테이너.style.padding = "15px";

                        const 아이콘HTML = (로그.아이콘 || []).map(이름 => 아이콘맵[이름] || "").join(" ");

                        let 데미지텍스트 = "";
                        let 회복텍스트 = "";

                        if (로그.타입 === "공격") {
                            데미지텍스트 = `<span><span style="color: #f63b3b;">${로그.몬스터이름}</span>에게 ${로그.효과} 피해를 입혔다!</span>`;
                        } else if (로그.타입 === "회복") {
                            회복텍스트 = `<span><span style="color: #3b82f6;">${로그.유저아이디}</span> 체력 ${로그.효과} 회복</span>`;
                        }

                        let 추가횟수표시 = "";
                        if (로그.타입 === "공격" && 로그.추가공격횟수 > 0) {
                            // 실제 타격 횟수 = 1(기본) + 로그.추가공격횟수
                            const 총공격횟수 = 1 + 로그.추가공격횟수;
                            추가횟수표시 = `<span style="margin-left: 4px; color: #f63b3b;">x${총공격횟수}</span>`;
                        }

                        // (2) innerHTML에서 공격 텍스트 뒤에 추가횟수표시 붙이기
                        로그컨테이너.innerHTML = `
    <div style="background: #4b4b4b; width: calc(100% + 30px); margin: -15px 0 0 -15px; padding: 6px 0; text-align: center; border-top-left-radius: 10px; border-top-right-radius: 10px;">
        <strong>Turn ${로그.턴}</strong>
    </div>
    <div class="가로정렬" style="margin: 4px 0; align-items: center; gap: 6px;">
        ${아이콘HTML}
        ${로그.타입 === "공격" ? 데미지텍스트 + 추가횟수표시 : ""}
        ${로그.타입 === "회복" ? 회복텍스트 : ""}
    </div>
    
    <div class="가로정렬" style="margin-top: 10px; justify-content: space-between; align-items: center; gap: 12px;">
                        <div style="border: 0.2px solid #3b82f6; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
                            <div>${로그.유저아이디}</div>
                            <div>
                                <div>공격력 ${로그.유저최종공격력}</div>
                                <div>체력 ${로그.유저체력}/${로그.유저최대체력}</div>
                            </div>
                        </div>
                        <div style="border: 0.2px solid #f63b3b; border-radius: 10px; padding: 6px 12px; flex: 1; display: flex; justify-content: space-between; color: white;">
                            <div>${로그.몬스터이름}</div>
                            <div>
                                <div>체력 ${무한대아이콘}</div>
                                <div>방어력 ${로그.몬스터방어력}</div>
                            </div>
                        </div>
                    </div>
                `;

                        const 타겟 = document.getElementById("보스사냥컨테이너");
                        if (타겟 && 타겟.parentNode) {
                            타겟.parentNode.insertBefore(로그컨테이너, 타겟.nextSibling);
                        }
                    });
                }

                // 체력, 스태미너, 누적데미지 UI 업데이트
                // document.getElementById("악마이름").innerText = 결과.유저데이터?.보스이름 || 현재보스이름;
                // document.getElementById("악마체력").innerText = `체력 ???`;  // 보스는 체력 없음
                // document.getElementById("악마방어력").innerText = `방어력 0`;
                // document.getElementById("유저체력").innerText = `체력 ${유저데이터.남은체력}/${유저데이터.최대체력}`;
                document.getElementById("최종데미지").innerText = `총피해량 : ${결과.누적데미지.toLocaleString()}`;
                document.getElementById("누적데미지").innerText = `총누적피해량 : ${결과.유저데이터.보스누적데미지.toLocaleString()}`;

                const 스태미너표시 = document.getElementById("스태미너표시");
                const 에너지바 = document.querySelector(".에너지바");
                if (스태미너표시 && 에너지바) {
                    const 최대 = 유저데이터.최대스태미너 ?? 2000;
                    const 현재 = 유저데이터.현재스태미너 ?? 0;
                    스태미너표시.innerText = `${현재}/${최대}`;
                    에너지바.style.width = `${(현재 / 최대) * 100}%`;
                }

                // document.getElementById("승리패배로그").innerText = "보스전 완료";
                // document.getElementById("승리패배로그").style.color = "#ffa500";
            } catch (e) {
                메시지표시(메시지표시박스, "", "보스전 오류: " + e.message, "");
                보스풀자동실행 = false;
            } finally {
                공격버튼잠금해제();
                if (보스풀자동실행) {
                    보스몬스터btn.click(); // 반복 호출
                }
            }
        });


        //캐시샵화면보여주기
        document.getElementById("캐시샵").addEventListener("click", () => {
            if (!유저데이터) return;

            화면잠금();
            모든화면숨기기();
            document.getElementById("화면설명").innerHTML =
                "결제는 이곳을 클릭해서<br>오픈톡 프로필 '가글주인장'에게 문의하세요";

            document.getElementById("캐시샵화면").style.display = "block";

            const 설명 = document.getElementById("화면설명");
            설명.classList.add("마법의팔레트가글");


            const 컨테이너 = document.getElementById("캐시샵컨테이너");
            컨테이너.innerHTML = "";

            function 줄추가(왼쪽내용, 오른쪽내용) {
                // 1) 줄 컨테이너
                const 줄 = document.createElement("div");
                줄.className = "밑줄 양쪽정렬";
                줄.style.display = "flex";
                줄.style.justifyContent = "space-between";
                줄.style.alignItems = "center";   // ← 부모 컨테이너 내에서 세로 가운데
                줄.style.width = "100%";

                // 2) 왼쪽 셀
                const leftDiv = document.createElement("div");
                leftDiv.style.display = "flex";      // ← 내부 요소 정렬을 flex로
                leftDiv.style.alignItems = "center"; // ← 아이콘+텍스트 세로 가운데
                leftDiv.style.flex = "0 0 auto";
                leftDiv.innerHTML = 왼쪽내용;

                // 3) 오른쪽 셀
                const rightDiv = document.createElement("div");
                // rightDiv.style.display = "flex";
                rightDiv.style.alignItems = "center"; // ← 텍스트 세로 가운데
                rightDiv.style.flex = "1";
                rightDiv.style.textAlign = "right";
                rightDiv.innerHTML = 오른쪽내용;

                // 4) 조립
                줄.appendChild(leftDiv);
                줄.appendChild(rightDiv);
                컨테이너.appendChild(줄);
            }

            // — 여기 데이터 배열에 원하는 만큼 줄 정보를 추가 —
            const 줄데이터 = [
                { 왼쪽: `${마법의팔레트아이콘}(마법의팔레트)`, 오른쪽: "아이디를 색칠할 수 있습니다(1,100원)" },
                { 왼쪽: `${플라워아이콘}(플라워)`, 오른쪽: "스킬을 초기화합니다(1,100원)" },
                { 왼쪽: `${뼈다구아이콘}(뼈다구)`, 오른쪽: "직업을 초기화합니다(1,100원)" },
                { 왼쪽: `${안경아이콘}(안경)`, 오른쪽: "악세사리를 교체합니다(1,100원)" },
                { 왼쪽: `${햄버거아이콘}(햄버거정기배송)`, 오른쪽: "매일 햄버거(스태미너+300) 배송(4,900원)" },
                { 왼쪽: `${현질아이콘}(100만골드)`, 오른쪽: "100만골드 지급(4,900원)" },
                { 왼쪽: `${티켓아이콘}x3(티켓)`, 오른쪽: "고급장비뽑기에 사용됩니다(4,900원)" },
                // { 왼쪽: `${현질아이콘}(현질)`, 오른쪽: "1억골드(1,000,000원)" },
            ];

            // — 배열 순회하며 자동으로 줄 추가 —
            줄데이터.forEach(item => 줄추가(item.왼쪽, item.오른쪽));

            화면해제();
        });


        document.getElementById("장비").addEventListener("click", () => {
            if (!유저데이터) return;
            장비화면보여주기();
        });

        function 장비화면보여주기() {
            모든화면숨기기();
            document.getElementById("장비화면").style.display = "block";
            document.getElementById("획득로그").innerText = "";
            document.getElementById("추가획득로그").innerText = "";
            document.getElementById("레벨업표시").innerText = "";

            document.getElementById("화면설명").innerHTML =
                "일반 &lt; 레어 &lt; 신화 &lt; 고대 &lt; 태초 &lt; 타락<br>자동합성으로 상위장비를 획득하세요";

            // 📌 골드/공격력/체력 표시
            document.getElementById("장비골드표시").innerHTML =
                `${머니아이콘} ${유저데이터.골드.toLocaleString()} Gold | ${공격력아이콘} 공격력 ${유저데이터.최종공격력} | ${체력아이콘} 최대체력 ${유저데이터.최대체력}`;

            document.getElementById("장비자동합성").innerHTML = `자동합성`;

            // 📌 장비 컨테이너 정리
            const 장비컨테이너 = document.getElementById("장비컨테이너");
            장비컨테이너.innerHTML = "";

            const 장비목록 = 유저데이터.장비목록 || [];

            if (장비목록.length === 0) {
                장비컨테이너.innerText = "획득한 장비가 없습니다.";
                return;
            }

            const 등급우선순위 = {
                "일반": 1,
                "레어": 2,
                "신화": 3,
                "고대": 4,
                "태초": 5,
                "타락": 6,
                "진화": 7,
                "멸망": 8,
            };

            // 등급별 정렬
            장비목록.sort((a, b) => {
                const 순서A = 등급우선순위[a.등급] || 999;
                const 순서B = 등급우선순위[b.등급] || 999;
                return 순서A - 순서B;
            });

            // 🔹 (추가) 최고 공격력 계산
            const max공격력 = Math.max(...장비목록.map(e => e.공격력));

            // 📌 장비 개별 렌더링
            장비목록.forEach(장비 => {
                const 박스 = document.createElement("div");

                // 🔹 (추가) 클래스 설정 직후
                박스.className = "기본테두리 양쪽정렬";

                // 🔹 (추가) 최고 공격력 장비일 경우 테두리 색을 흰색으로 덮어쓰기
                if (장비.공격력 === max공격력) {
                    박스.style.borderColor = "#fff";
                }

                박스.style.marginBottom = "8px";
                박스.style.color = 색상맵[장비.등급] || "#fff";
                박스.style.fontWeight = "bold";

                const 키 = `${장비.이름}|${장비.등급}`;
                const 수량 = 장비.수량 ? `${장비.수량}` : "0";
                const 강화표시 = 장비.강화 ? `+${장비.강화}` : "";
                const 이름표시 = `${장비.이름} (${수량}) ${강화표시}`;


                const 공격력HTML = 장비.등급 === "타락"
                    ? `${해머아이콘}  공격력 +${장비.공격력}`
                    : `공격력 +${장비.공격력}`;

                박스.innerHTML = `
    <div>[${장비.등급}] ${이름표시}</div>
    <div>${공격력HTML}</div>
`;
                //         박스.innerHTML = `
                //     <div>[${장비.등급}] ${이름표시}</div>
                //     <div>
                //         공격력 +${장비.공격력}
                //     </div>
                // `;
                const hammerEl = 박스.querySelector('.lucide-hammer-icon');
                if (hammerEl) {

                    hammerEl.addEventListener('click', async () => {
                        const current = 장비.강화 || 0; // 현재 강화 단계


                        // ✅ 수량 부족 검사
                        if (!장비.수량 || 장비.수량 < 1) {
                            메시지표시(메시지표시박스, "", "루시퍼의 심장이 부족합니다", "");
                            return;
                        }

                        // 강화 제한 처리
                        if (current > 10) {
                            메시지표시(메시지표시박스, "", "강화할 수 없습니다", "");
                            return;
                        }

                        let successRate;

                        if (current === 10) {
                            successRate = 1;

                            const 펜타그램보정 = Math.min(0.99, 0.01 * (유저데이터.유물목록?.["펜타그램"] || 0));

                            successRate += 펜타그램보정;

                        } else {
                            // 일반 강화는 보정 포함
                            successRate = 100 - current * 10;

                            const 망치 = 유저데이터.유물목록?.["망치"] || 0;
                            const 실패카운트 = 유저데이터.실패카운트 || 0;
                            const 망치보정 = 망치 * 0.1;

                            successRate += 망치보정 + 실패카운트;

                            if (successRate > 100) successRate = 100;
                        }


                        // ✅ 서버와 동일한 공격력 증가량 계산
                        const 기준공격력 = 1200;
                        const nextLevel = current + 1;
                        const 증가량 = 기준공격력 * (nextLevel / 10); // 누적 증가량을 += 하므로 이게 맞음
                        const 증가량정수 = Math.round(증가량);

                        const 확인 = await 사용자확인(
                            current === 10
                                ? `루시퍼의 심장 1개를 소모해서 베히모스의 허물로 진화시키겠습니까?\n` +
                                `성공 확률: ${successRate}%  /  베히모스의 허물 - 공격력: 10000`
                                : `루시퍼의 심장 1개를 소모해서 +${nextLevel}강으로 강화하시겠습니까?\n` +
                                `성공 확률: ${successRate}%  /  공격력 증가량: +${증가량정수}`
                        );
                        if (!확인) return;

                        화면잠금();

                        let data;
                        try {
                            const res = await fetch("/upgrade-corrupted-item", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    이름: 장비.이름,
                                    등급: 장비.등급
                                })
                            });


                            data = await res.json();

                            if (!res.ok) {
                                const item = 유저데이터.장비목록.find(e =>
                                    e.이름 === 장비.이름 && e.등급 === 장비.등급
                                );
                                if (item) {
                                    item.수량 = data.수량;
                                }
                                유저데이터.실패카운트 = data.실패카운트

                                throw new Error(data.오류);
                            }

                            유저데이터.장비목록 = data.유저데이터.장비목록;

                            const item = 유저데이터.장비목록.find(e =>
                                e.이름 === data.이름 && e.등급 === data.등급
                            );
                            if (item) {
                                item.수량 = data.수량;
                                item.강화 = data.강화;
                                item.공격력 = data.공격력;
                            }

                            유저데이터.최종공격력 = data.최종공격력;

                            메시지표시(메시지표시박스, "", "강화 성공", "");
                            장비화면보여주기();
                        } catch (e) {
                            메시지표시(메시지표시박스, "", `${e.message} (실패 ${data?.실패카운트 ?? "?"}회)`, "");
                            장비화면보여주기();
                        } finally {
                            화면해제();
                        }
                    });

                }

                장비컨테이너.appendChild(박스);
            });
        }




        document.getElementById("장비자동합성").addEventListener("click", async () => {
            if (!유저데이터 || !유저데이터.유저UID) return;

            const 하위등급들 = ['일반', '레어', '신화', '고대', '태초'];
            const 장비들 = 유저데이터.장비목록 || [];

            const 합성가능 = 하위등급들.some(등급 => {
                const 장비 = 장비들.find(e => e.등급 === 등급);
                return 장비?.수량 >= 3;
            });

            if (!합성가능) {
                메시지표시(메시지표시박스, "", "하위장비 3개가 필요합니다", "");
                return;
            }


            const 확인 = await 사용자확인(
                `하위장비 3개를 상위장비 1개로 합성하시겠습니까?`
            );
            if (!확인) return;


            const 합성버튼 = document.getElementById("장비자동합성");

            화면잠금();

            try {
                const 응답 = await fetch("/synthesize-item", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                });
                const 결과 = await 응답.json();

                if (!응답.ok || 결과.오류) {
                    메시지표시(메시지표시박스, "", 결과.오류 || "장비 합성에 실패했습니다.", "");
                    return;
                }

                유저데이터.장비목록 = 결과.장비목록;
                유저데이터.장비공격력 = 결과.장비공격력;
                유저데이터.최종공격력 = 결과.최종공격력;

                장비화면보여주기();
                메시지표시(메시지표시박스, "", "성공", "");

            } catch (e) {
                // 네트워크나 예외 발생 시
                메시지표시(메시지표시박스, "", "구현중입니다", "");
                console.error(e);
            } finally {
                화면해제();
            }
        });







        document.getElementById("총숙련도").addEventListener("click", () => {
            if (!유저데이터) return;
            스킬화면보여주기();
        });

        document.getElementById("스킬").addEventListener("click", () => {
            if (!유저데이터) return;
            스킬화면보여주기();
        });



        function 스킬정보불러오기() {
            return {
                인텔리전스: {
                    단계: ["알파 인텔리전스",
                        "베타 인텔리전스",
                        "감마 인텔리전스",
                        "델타 인텔리전스",
                        "엡실론 인텔리전스",
                        "제타 인텔리전스",
                        "에타 인텔리전스",
                        "쎄타 인텔리전스",
                        "아이오타 인텔리전스",
                        "카파 인텔리전스",
                        "람다 인텔리전스",
                        "뮤 인텔리전스",
                        "뉴 인텔리전스",
                        "크사이 인텔리전스",
                        "오미크론 인텔리전스",
                        "파이 인텔리전스",
                        "로 인텔리전스",
                        "시그마 인텔리전스",
                        "타우 인텔리전스",
                        "윕실론 인텔리전스",
                        "카이 인텔리전스",
                        "프사이 인텔리전스",
                        "오메가 인텔리전스"
                    ],
                    설명: [
                        "경험치 +10%",
                        "경험치 +20%",
                        "경험치 +30%",
                        "경험치 +40%",
                        "경험치 +50%",
                        "경험치 +60%",
                        "경험치 +70%",
                        "경험치 +80%",
                        "경험치 +90%",
                        "경험치 +100%",
                        "경험치 +110%",
                        "경험치 +120%",
                        "경험치 +130%",
                        "경험치 +140%",
                        "경험치 +150%",
                        "경험치 +160%",
                        "경험치 +170%",
                        "경험치 +180%",
                        "경험치 +190%",
                        "경험치 +200%",
                        "경험치 +210%",
                        "경험치 +220%",
                        "경험치 +230%"
                    ],
                    아이콘: 인텔리전스아이콘
                },

                발굴: {
                    단계: [
                        "알파 발굴",
                        "베타 발굴",
                        "감마 발굴",
                        "델타 발굴",
                        "엡실론 발굴",
                        "제타 발굴",
                        "에타 발굴",
                        "쎄타 발굴",
                        "아이오타 발굴",
                        "카파 발굴",
                        "람다 발굴",
                        "뮤 발굴",
                        "뉴 발굴",
                        "크사이 발굴",
                        "오미크론 발굴",
                        "파이 발굴",
                        "로 발굴",
                        "시그마 발굴",
                        "타우 발굴",
                        "윕실론 발굴",
                        "카이 발굴",
                        "프사이 발굴",
                        "오메가 발굴"
                    ],
                    설명: [
                        "골드 획득 +10%",
                        "골드 획득 +20%",
                        "골드 획득 +30%",
                        "골드 획득 +40%",
                        "골드 획득 +50%",
                        "골드 획득 +60%",
                        "골드 획득 +70%",
                        "골드 획득 +80%",
                        "골드 획득 +90%",
                        "골드 획득 +100%",
                        "골드 획득 +110%",
                        "골드 획득 +120%",
                        "골드 획득 +130%",
                        "골드 획득 +140%",
                        "골드 획득 +150%",
                        "골드 획득 +160%",
                        "골드 획득 +170%",
                        "골드 획득 +180%",
                        "골드 획득 +190%",
                        "골드 획득 +200%",
                        "골드 획득 +210%",
                        "골드 획득 +220%",
                        "골드 획득 +230%"
                    ],
                    아이콘: 발굴아이콘
                },

                인사이트: {
                    단계: ["알파 인사이트"],
                    설명: ["숙련도 + 1"],
                    아이콘: 인사이트아이콘
                },

                도핑: {
                    단계: [
                        "알파 도핑",
                        "베타 도핑",
                        "감마 도핑",
                        "델타 도핑",
                        "엡실론 도핑",
                        "제타 도핑",
                        "에타 도핑",
                        "쎄타 도핑",
                        "아이오타 도핑",
                        "카파 도핑",
                        "람다 도핑",
                        "뮤 도핑",
                        "뉴 도핑",
                        "크사이 도핑",
                        "오미크론 도핑",
                        "파이 도핑",
                        "로 도핑",
                        "시그마 도핑",
                        "타우 도핑",
                        "윕실론 도핑",
                        "카이 도핑",
                        "프사이 도핑",
                        "오메가 도핑"
                    ],
                    설명: [
                        "깡공 +30",
                        "깡공 +60",
                        "깡공 +90",
                        "깡공 +120",
                        "깡공 +150",
                        "깡공 +180",
                        "깡공 +210",
                        "깡공 +240",
                        "깡공 +270",
                        "깡공 +300",
                        "깡공 +330",
                        "깡공 +360",
                        "깡공 +390",
                        "깡공 +420",
                        "깡공 +450",
                        "깡공 +480",
                        "깡공 +510",
                        "깡공 +540",
                        "깡공 +570",
                        "깡공 +600",
                        "깡공 +630",
                        "깡공 +660",
                        "깡공 +690"
                    ],
                    아이콘: 도핑아이콘
                },

                홀리워터: {
                    단계: [
                        "알파 홀리워터",
                        "베타 홀리워터",
                        "감마 홀리워터",
                        // "델타 홀리워터",
                        // "엡실론 홀리워터",
                        // "제타 홀리워터",
                        // "에타 홀리워터",
                        // "쎄타 홀리워터",
                        // "아이오타 홀리워터",
                        // "카파 홀리워터",
                        // "람다 홀리워터",
                        // "뮤 홀리워터",
                        // "뉴 홀리워터",
                        // "크사이 홀리워터",
                        // "오미크론 홀리워터",
                        // "파이 홀리워터",
                        // "로 홀리워터",
                        // "시그마 홀리워터",
                        // "타우 홀리워터",
                        // "윕실론 홀리워터",
                        // "카이 홀리워터",
                        // "프사이 홀리워터",
                        // "오메가 홀리워터"
                    ],
                    설명: [
                        "최대체력 +1",
                        "최대체력 +2",
                        "최대체력 +3",
                        // "최대체력 +4",
                        // "최대체력 +5",
                        // "최대체력 +6",
                        // "최대체력 +7",
                        // "최대체력 +8",
                        // "최대체력 +9",
                        // "최대체력 +10",
                        // "최대체력 +11",
                        // "최대체력 +12",
                        // "최대체력 +13",
                        // "최대체력 +14",
                        // "최대체력 +15",
                        // "최대체력 +16",
                        // "최대체력 +17",
                        // "최대체력 +18",
                        // "최대체력 +19",
                        // "최대체력 +20",
                        // "최대체력 +21",
                        // "최대체력 +22",
                        // "최대체력 +23"
                    ],
                    아이콘: 홀리워터아이콘
                },


                아이언바디: {
                    단계: ["알파 아이언바디",
                        "베타 아이언바디",
                        "감마 아이언바디",
                        "델타 아이언바디",
                        "엡실론 아이언바디",
                        "제타 아이언바디",
                        "에타 아이언바디",
                        "쎄타 아이언바디",
                        "아이오타 아이언바디",
                        "카파 아이언바디",
                        "람다 아이언바디",
                        "뮤 아이언바디",
                        "뉴 아이언바디",
                        "크사이 아이언바디",
                        "오미크론 아이언바디",
                        "파이 아이언바디",
                        "로 아이언바디",
                        "시그마 아이언바디",
                        "타우 아이언바디",
                        "윕실론 아이언바디",
                        "카이 아이언바디",
                        "프사이 아이언바디",
                        "오메가 아이언바디"],
                    설명: [
                        "공격전 체력회복 +1",
                        "공격전 체력회복 +2",
                        "공격전 체력회복 +3",
                        "공격전 체력회복 +4",
                        "공격전 체력회복 +5",
                        "공격전 체력회복 +6",
                        "공격전 체력회복 +7",
                        "공격전 체력회복 +8",
                        "공격전 체력회복 +9",
                        "공격전 체력회복 +10",
                        "공격전 체력회복 +11",
                        "공격전 체력회복 +12",
                        "공격전 체력회복 +13",
                        "공격전 체력회복 +14",
                        "공격전 체력회복 +15",
                        "공격전 체력회복 +16",
                        "공격전 체력회복 +17",
                        "공격전 체력회복 +18",
                        "공격전 체력회복 +19",
                        "공격전 체력회복 +20",
                        "공격전 체력회복 +21",
                        "공격전 체력회복 +22",
                        "공격전 체력회복 +23"
                    ],
                    아이콘: 아이언바디아이콘
                },
                드레인: {
                    단계: ["알파 드레인",
                        "베타 드레인",
                        "감마 드레인",
                        "델타 드레인",
                        "엡실론 드레인",
                        "제타 드레인",
                        "에타 드레인",
                        "쎄타 드레인",
                        "아이오타 드레인",
                        "카파 드레인",
                        "람다 드레인",
                        "뮤 드레인",
                        "뉴 드레인",
                        "크사이 드레인",
                        "오미크론 드레인",
                        "파이 드레인",
                        "로 드레인",
                        "시그마 드레인",
                        "타우 드레인",
                        "윕실론 드레인",
                        "카이 드레인",
                        "프사이 드레인",
                        "오메가 드레인"],
                    설명: [
                        "처치 후 체력회복 +1",
                        "처치 후 체력회복 +2",
                        "처치 후 체력회복 +3",
                        "처치 후 체력회복 +4",
                        "처치 후 체력회복 +5",
                        "처치 후 체력회복 +6",
                        "처치 후 체력회복 +7",
                        "처치 후 체력회복 +8",
                        "처치 후 체력회복 +9",
                        "처치 후 체력회복 +10",
                        "처치 후 체력회복 +11",
                        "처치 후 체력회복 +12",
                        "처치 후 체력회복 +13",
                        "처치 후 체력회복 +14",
                        "처치 후 체력회복 +15",
                        "처치 후 체력회복 +16",
                        "처치 후 체력회복 +17",
                        "처치 후 체력회복 +18",
                        "처치 후 체력회복 +19",
                        "처치 후 체력회복 +20",
                        "처치 후 체력회복 +21",
                        "처치 후 체력회복 +22",
                        "처치 후 체력회복 +23"
                    ],
                    아이콘: 드레인아이콘
                },

                크리티컬: {
                    단계: [
                        "알파 크리티컬",
                        "베타 크리티컬",
                        "감마 크리티컬",
                        "델타 크리티컬",
                        "엡실론 크리티컬",
                        "제타 크리티컬",
                        "에타 크리티컬",
                        "쎄타 크리티컬",
                        "아이오타 크리티컬",
                        "카파 크리티컬",
                        "람다 크리티컬",
                        "뮤 크리티컬",
                        "뉴 크리티컬",
                        "크사이 크리티컬",
                        "오미크론 크리티컬",
                        "파이 크리티컬",
                        "로 크리티컬",
                        "시그마 크리티컬",
                        "타우 크리티컬",
                        "윕실론 크리티컬",
                        "카이 크리티컬",
                        "프사이 크리티컬",
                        "오메가 크리티컬"
                    ],
                    설명: [
                        "최종데미지 +10%",
                        "최종데미지 +20%",
                        "최종데미지 +30%",
                        "최종데미지 +40%",
                        "최종데미지 +50%",
                        "최종데미지 +60%",
                        "최종데미지 +70%",
                        "최종데미지 +80%",
                        "최종데미지 +90%",
                        "최종데미지 +100%",
                        "최종데미지 +110%",
                        "최종데미지 +120%",
                        "최종데미지 +130%",
                        "최종데미지 +140%",
                        "최종데미지 +150%",
                        "최종데미지 +160%",
                        "최종데미지 +170%",
                        "최종데미지 +180%",
                        "최종데미지 +190%",
                        "최종데미지 +200%",
                        "최종데미지 +210%",
                        "최종데미지 +220%",
                        "최종데미지 +230%"
                    ],
                    아이콘: 크리티컬아이콘
                },
                버서커: {
                    단계: [
                        "알파 버서커",
                        "베타 버서커",
                        "감마 버서커",
                        "델타 버서커",
                        "엡실론 버서커",
                        "제타 버서커",
                        "에타 버서커",
                        "쎄타 버서커",
                        "아이오타 버서커",
                        "카파 버서커",
                        "람다 버서커",
                        "뮤 버서커",
                        "뉴 버서커",
                        "크사이 버서커",
                        "오미크론 버서커",
                        "파이 버서커",
                        "로 버서커",
                        "시그마 버서커",
                        "타우 버서커",
                        "윕실론 버서커",
                        "카이 버서커",
                        "프사이 버서커",
                        "오메가 버서커"],
                    설명: [
                        "턴 체력 -1, 데미지 +120%",
                        "턴 체력 -2, 데미지 +230%",
                        "턴 체력 -3, 데미지 +340%",
                        "턴 체력 -4, 데미지 +450%",
                        "턴 체력 -5, 데미지 +560%",
                        "턴 체력 -6, 데미지 +670%",
                        "턴 체력 -7, 데미지 +780%",
                        "턴 체력 -8, 데미지 +890%",
                        "턴 체력 -9, 데미지 +1000%",
                        "턴 체력 -10, 데미지 +1110%",
                        "턴 체력 -11, 데미지 +1220%",
                        "턴 체력 -12, 데미지 +1330%",
                        "턴 체력 -13, 데미지 +1440%",
                        "턴 체력 -14, 데미지 +1550%",
                        "턴 체력 -15, 데미지 +1660%",
                        "턴 체력 -16, 데미지 +1770%",
                        "턴 체력 -17, 데미지 +1880%",
                        "턴 체력 -18, 데미지 +1990%",
                        "턴 체력 -19, 데미지 +2100%",
                        "턴 체력 -20, 데미지 +2210%",
                        "턴 체력 -21, 데미지 +2320%",
                        "턴 체력 -22, 데미지 +2430%",
                        "턴 체력 -23, 데미지 +2540%"
                    ],
                    아이콘: 버서커아이콘
                },

                버닝: {
                    단계: ["알파 버닝",
                        "베타 버닝",
                        "감마 버닝",
                        "델타 버닝",
                        "엡실론 버닝",
                        "제타 버닝",
                        "에타 버닝",
                        "쎄타 버닝",
                        "아이오타 버닝",
                        "카파 버닝",
                        "람다 버닝",
                        "뮤 버닝",
                        "뉴 버닝",
                        "크사이 버닝",
                        "오미크론 버닝",
                        "파이 버닝",
                        "로 버닝",
                        "시그마 버닝",
                        "타우 버닝",
                        "윕실론 버닝",
                        "카이 버닝",
                        "프사이 버닝",
                        "오메가 버닝"],
                    설명: [
                        "체력 50% 이하, 데미지 +20%",
                        "체력 50% 이하, 데미지 +40%",
                        "체력 50% 이하, 데미지 +60%",
                        "체력 50% 이하, 데미지 +80%",
                        "체력 50% 이하, 데미지 +100%",
                        "체력 50% 이하, 데미지 +120%",
                        "체력 50% 이하, 데미지 +140%",
                        "체력 50% 이하, 데미지 +160%",
                        "체력 50% 이하, 데미지 +180%",
                        "체력 50% 이하, 데미지 +200%",
                        "체력 50% 이하, 데미지 +220%",
                        "체력 50% 이하, 데미지 +240%",
                        "체력 50% 이하, 데미지 +260%",
                        "체력 50% 이하, 데미지 +280%",
                        "체력 50% 이하, 데미지 +300%",
                        "체력 50% 이하, 데미지 +320%",
                        "체력 50% 이하, 데미지 +340%",
                        "체력 50% 이하, 데미지 +360%",
                        "체력 50% 이하, 데미지 +380%",
                        "체력 50% 이하, 데미지 +400%",
                        "체력 50% 이하, 데미지 +420%",
                        "체력 50% 이하, 데미지 +440%",
                        "체력 50% 이하, 데미지 +460%"
                    ],
                    아이콘: 버닝아이콘
                },
                브로큰: {
                    단계: [
                        "알파 브로큰",
                        "베타 브로큰",
                        "감마 브로큰",
                        "델타 브로큰",
                        "엡실론 브로큰",
                        "제타 브로큰",
                        "에타 브로큰",
                        "쎄타 브로큰",
                        "아이오타 브로큰",
                        "카파 브로큰",
                        "람다 브로큰",
                        "뮤 브로큰",
                        "뉴 브로큰",
                        "크사이 브로큰",
                        "오미크론 브로큰",
                        "파이 브로큰",
                        "로 브로큰",
                        "시그마 브로큰",
                        "타우 브로큰",
                        "윕실론 브로큰",
                        "카이 브로큰",
                        "프사이 브로큰",
                        "오메가 브로큰"
                    ],
                    설명: [
                        "방어력 무시 4%",
                        "방어력 무시 8%",
                        "방어력 무시 12%",
                        "방어력 무시 16%",
                        "방어력 무시 20%",
                        "방어력 무시 24%",
                        "방어력 무시 28%",
                        "방어력 무시 32%",
                        "방어력 무시 36%",
                        "방어력 무시 40%",
                        "방어력 무시 44%",
                        "방어력 무시 48%",
                        "방어력 무시 52%",
                        "방어력 무시 56%",
                        "방어력 무시 60%",
                        "방어력 무시 64%",
                        "방어력 무시 68%",
                        "방어력 무시 72%",
                        "방어력 무시 76%",
                        "방어력 무시 80%",
                        "방어력 무시 84%",
                        "방어력 무시 88%",
                        "방어력 무시 92%"
                    ],
                    아이콘: 브로큰아이콘
                },
                즉사: {
                    단계: ["일급 즉사", "이급 즉사", "삼급 즉사"],
                    설명: ["11번째 몬스터 즉사", "8번째 몬스터 즉사", "5번째 몬스터 즉사"],
                    아이콘: 즉사아이콘
                },
            };
        }

        function 스킬화면보여주기() {
            화면잠금();
            모든화면숨기기();
            document.getElementById("화면설명").innerText = "보유숙련도 클릭 시 스킬초기화 가능합니다";

            document.getElementById("스킬화면").style.display = "block";

            document.getElementById("획득로그").innerText = "";
            document.getElementById("추가획득로그").innerText = "";
            document.getElementById("레벨업표시").innerText = "";
            document.getElementById("보유숙련도").innerText = "보유 숙련도 " + 유저데이터.숙련도;

            const 컨테이너 = document.getElementById("스킬컨테이너");
            컨테이너.innerHTML = "";

            const 총투자 = Object.values(유저데이터.스킬 || {}).reduce((a, b) => a + b, 0);
            const 다음필요숙련도 = (총투자 + 1) * 500;
            document.getElementById("필요숙련도").innerText = "필요숙련도 " + 다음필요숙련도;
            document.getElementById("필요숙련도").style.fontWeight = "bold";

            const 스킬정보 = 스킬정보불러오기();

            const 루시드아이콘SVG = `
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
stroke-linejoin="round" class="lucide lucide-star-icon lucide-star">
<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"/>
</svg>`;

            for (const 계열명 in 스킬정보) {
                const { 단계, 설명, 아이콘 } = 스킬정보[계열명];

                const 배운레벨 = 유저데이터.스킬?.[계열명] || 0;
                const 현재단계 = Math.max(0, 배운레벨 - 1);
                // const 현재단계 = Math.min(배운레벨, 단계.length - 1);
                const 스킬이름 = 단계[현재단계];
                // const 스킬설명 = 설명[현재단계];
                let 스킬설명 = 설명[현재단계];
                if (배운레벨 < 설명.length) {
                    const 다음설명 = 설명[배운레벨];  // 다음에 배울 스킬 설명
                    if (다음설명 && 다음설명 !== 스킬설명) {
                        스킬설명 = `${스킬설명} → ${다음설명}`;
                    }
                }

                const 줄 = document.createElement("div");
                줄.className = "양쪽정렬 기본테두리";
                줄.style.position = "relative";

                줄.innerHTML = `
  <div>
    ${아이콘} ${스킬이름}
    <div style="font-size: 12px; color: #888; font-weight:bold; margin-top: 2px;">${스킬설명}</div>
  </div>
  <div class="가로정렬">
    <div class="버튼">습득</div>
     <div class="버튼">최대</div>
  </div>
`;
                // <div class="버튼">회수</div>

                // 별 개수 표시
                if (배운레벨 > 0) {
                    const 아이콘박스 = document.createElement("div");
                    아이콘박스.style.position = "absolute";
                    아이콘박스.style.top = "-10px";
                    아이콘박스.style.left = "6px";
                    아이콘박스.style.zIndex = "10";
                    아이콘박스.style.display = "flex";

                    for (let i = 0; i < 배운레벨; i++) {
                        const 아이콘별 = document.createElement("div");
                        아이콘별.innerHTML = 루시드아이콘SVG;
                        아이콘별.style.color = 배운레벨 === 단계.length ? "#facc15" : "#ffffff";
                        아이콘박스.appendChild(아이콘별);
                    }

                    줄.appendChild(아이콘박스);
                }

                컨테이너.appendChild(줄);

                줄.querySelectorAll(".버튼").forEach(버튼 => {
                    버튼.addEventListener("click", async () => {
                        const 행동 = 버튼.innerText.trim(); // "습득" 또는 "회수"

                        const 스킬이름 = 계열명;
                        const 스킬정보 = {
                            버서커: 23,
                            드레인: 23,
                            발굴: 23,
                            아이언바디: 23,
                            인사이트: 1,
                            크리티컬: 23,
                            버닝: 23,
                            인텔리전스: 23,
                            브로큰: 23,
                            홀리워터: 23,
                            도핑: 23,
                        };

                        const 최대레벨 = 스킬정보[스킬이름];
                        if (!최대레벨) {
                            메시지표시(메시지표시박스, "", "구현중입니다", "");
                            return;
                        }

                        const 현재레벨 = 유저데이터.스킬?.[스킬이름] || 0;
                        const 총투자 = Object.values(유저데이터.스킬 || {}).reduce((a, b) => a + b, 0);
                        const 숙련도 = 유저데이터.숙련도 ?? 0;

                        if (행동 === "습득") {
                            if (현재레벨 >= 최대레벨) {
                                메시지표시(메시지표시박스, "", "최종단계입니다", "");
                                return;
                            }

                            const 필요한숙련도 = (총투자 + 1) * 500;
                            if (숙련도 < 필요한숙련도) {
                                메시지표시(메시지표시박스, "", `숙련도가 부족합니다`, "");
                                return;
                            }
                        }

                        if (행동 === "최대") {
                            if (현재레벨 >= 최대레벨) {
                                메시지표시(메시지표시박스, "", "최종단계입니다", "");
                                return;
                            }
                        }

                        if (행동 === "회수") {
                            if (현재레벨 < 1) {
                                메시지표시(메시지표시박스, "", "회수할 스킬이 없습니다", "");
                                return;
                            }
                        }



                        화면잠금();
                        try {
                            const 응답 = await fetch("/update-skill", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({
                                    유저UID: 유저데이터.유저UID,
                                    스킬이름: 계열명,
                                    행동
                                })
                            });

                            const 결과 = await 응답.json();

                            if (!응답.ok || 결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류 || "실패", "");
                                return;
                            }

                            유저데이터.스킬 = 결과.스킬;
                            유저데이터.숙련도 = 결과.숙련도;
                            유저데이터.최대체력 = 결과.최대체력;
                            유저데이터.최종공격력 = 결과.최종공격력;

                            let 색, 메세지, 아이콘;
                            if (행동 === "습득") {
                                색 = "#00c851";
                                메세지 = "습득 완료";
                                아이콘 = "✅";
                            } else if (행동 === "회수") {
                                색 = "#3b82f6";
                                메세지 = "회수 완료";
                                아이콘 = "↩️";
                            } else if (행동 === "최대") {
                                색 = "#f97316"; // 주황색
                                메세지 = "최대 습득 완료";
                                아이콘 = "🚀";
                            }

                            메시지표시(메시지표시박스, 아이콘, 메세지, 색);
                            스킬화면보여주기(); // 갱신
                        } catch (e) {
                            메시지표시(메시지표시박스, "", "서버 오류: " + e.message, "");
                        } finally {
                            화면해제();
                        }
                    });
                });
            }
            화면해제();
        }

        document.getElementById("보유숙련도").addEventListener("click", async () => {

            const 플라워 = 유저데이터.유물목록?.["플라워"] || 0;
            if (플라워 < 1) {
                메시지표시(메시지표시박스, "", "유물. 플라워가 부족합니다!", "");
                return;
            }

            const 확인 = await 사용자확인(
                "스킬 초기화에는 플라워 유물 1개가 소모됩니다.\n진행하시겠습니까?"
            );
            if (!확인) return;

            화면잠금();

            try {
                const 응답 = await fetch("/update-skill", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: 유저데이터.유저UID,
                        스킬이름: "전체",
                        행동: "초기화"
                    })
                });

                const 결과 = await 응답.json();

                if (!응답.ok || 결과.오류) {
                    메시지표시(메시지표시박스, "", 결과.오류 || "초기화 실패", "");
                    return;
                }


                유저데이터.숙련도 = 결과.숙련도;
                유저데이터.스킬 = 결과.스킬;
                유저데이터.유물목록 = 결과.유물목록;
                유저데이터.최대체력 = 결과.최대체력;
                유저데이터.최종공격력 = 결과.최종공격력;

                메시지표시(메시지표시박스, "", "모든 스킬 초기화 완료", "");
                스킬화면보여주기();
            } catch (e) {
                메시지표시(메시지표시박스, "", "서버 오류: " + e.message, "");
            } finally {
                화면해제();
            }
        });


        //전직초기화 직업초기화
        document.getElementById("전직화면타이틀").addEventListener("click", async () => {

            const 뼈다구 = 유저데이터.유물목록?.["뼈다구"] || 0;
            if (뼈다구 < 1) {
                메시지표시(메시지표시박스, "", "유물. 뼈다구가 부족합니다!", "");
                return;
            }

            const 직업결정 = 유저데이터.직업결정;
            if (!직업결정 || Object.keys(직업결정).length === 0) {
                메시지표시(메시지표시박스, "", "초기화할 직업이 없습니다", "");
                return;
            }


            const 확인 = await 사용자확인(
                "직업 초기화에는 뼈다구 유물 1개가 소모됩니다.\n진행하시겠습니까?"
            );
            if (!확인) return;

            화면잠금();

            try {
                const 응답 = await fetch("/reset-job", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        유저UID: 유저데이터.유저UID
                    })
                });

                const 결과 = await 응답.json();

                if (!응답.ok || 결과.오류) {
                    메시지표시(
                        메시지표시박스,
                        "",
                        결과.오류 || "초기화 실패",
                        ""
                    );
                    return;
                }

                // 서버가 정상 반환한 필드를 유저데이터에 반영
                유저데이터.경험치 = 결과.경험치;
                유저데이터.레벨 = 결과.레벨;
                // 유저데이터.전직공격력 = 결과.전직공격력;
                유저데이터.최종공격력 = 결과.최종공격력;
                유저데이터.유물목록 = 결과.유물목록;
                유저데이터.직업결정 = 결과.직업결정;

                // 화면에 메시지 출력
                메시지표시(메시지표시박스, "", "직업 초기화 완료", "");

                // 전직화면을 새로 불러와서 다시 렌더링
                전직화면보여주기();
            } catch (e) {
                메시지표시(메시지표시박스, "", "서버 오류: " + e.message, "");
            } finally {
                화면해제();
            }
        });





        //유물화면보여주기
        document.getElementById("유물").addEventListener("click", () => {
            if (!유저데이터) return;

            화면잠금();
            모든화면숨기기();
            document.getElementById("화면설명").innerHTML =
                "패시브 유물은 99개, 액티브 유물은 9개까지 획득가능<br>일부 유물들은 등급이 존재하고 99개 이상부터 자동합성됩니다";

            document.getElementById("유물화면").style.display = "block";

            const 컨테이너 = document.getElementById("유물컨테이너");
            컨테이너.innerHTML = "";

            const 유물목록 = 유저데이터.유물목록 || {};
            if (Object.keys(유물목록).length === 0) {
                컨테이너.innerText = "획득한 유물이 없습니다";
                화면해제();
                return;
            }

            const 일반테두리유물들 = ["",];
            const 레어테두리유물들 = ["스피어", "쉴드배앤", "고오스", "월계수", "하트비트", "브로큰하트",];
            const 신화테두리유물들 = ["고오스트", "소망", "산산조각하트", "투핸드소드",];
            const 고대테두리유물들 = ["물약", "사이",];
            const 태초테두리유물들 = ["샐러드", "하트윙", "라이트세이버즈",];
            const 타락테두리유물들 = ["햄버거", "마법의팔레트", "테크놀로지아", "추방자의검",];

            // 등급 우선순위
            const 등급우선순위 = {
                "타락": 0,
                "태초": 1,
                "고대": 2,
                "신화": 3,
                "레어": 4,
                "일반": 5,
            };

            // 등급 판별 함수
            function 유물등급(이름) {
                if (타락테두리유물들.includes(이름)) return "타락";
                if (태초테두리유물들.includes(이름)) return "태초";
                if (고대테두리유물들.includes(이름)) return "고대";
                if (신화테두리유물들.includes(이름)) return "신화";
                if (레어테두리유물들.includes(이름)) return "레어";
                return "일반";
            }

            // 정렬된 유물이름 목록 생성
            const 유물이름목록 = Object.keys(유물목록).sort((a, b) => {
                const 등급A = 등급우선순위[유물등급(a)];
                const 등급B = 등급우선순위[유물등급(b)];
                return 등급A - 등급B;
            });

            // 출력 루프
            for (const 유물이름 of 유물이름목록) {
                const 수량 = 유물목록[유물이름] || 0;
                const 아이콘HTML = 아이콘맵[`${유물이름}아이콘`] || "";

                const div = document.createElement("div");
                div.className = "기본테두리 커서호버";
                div.style.position = "relative";
                div.style.display = "flex";
                div.style.alignItems = "center";
                div.style.justifyContent = "center";
                div.style.width = "50px";
                div.style.height = "50px";
                div.style.margin = "5px";
                div.style.padding = "2px";

                // 테두리 색상 설정
                if (일반테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["일반"]}`;
                }
                if (레어테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["레어"]}`;
                }
                if (신화테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["신화"]}`;
                }
                if (고대테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["고대"]}`;
                }
                if (태초테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["태초"]}`;
                }
                if (타락테두리유물들.includes(유물이름)) {
                    div.style.border = `0.2px solid ${색상맵["타락"]}`;
                }

                div.innerHTML = `
        ${아이콘HTML}
        <div style="
            position: absolute;
            bottom: 0px;
            right: 2px;
            font-size: 10px;
            color: #aaa;
        ">x${수량}</div>
    `;


                div.addEventListener("mouseover", () => {
                    const 기존설명 = div.querySelector(".유물설명");
                    if (기존설명) 기존설명.remove();

                    const 데이터 = 신화유물데이터[유물이름];

                    const 설명div = document.createElement("div");
                    설명div.className = "유물설명";
                    설명div.style.position = "absolute";
                    설명div.style.top = "100%";
                    설명div.style.left = "50%";
                    설명div.style.transform = "translateX(-50%)";
                    설명div.style.backgroundColor = "transparent";  // ✅ 완전 투명
                    설명div.style.color = "yellow";
                    설명div.style.fontSize = "12px";
                    설명div.style.padding = "2px 4px";
                    설명div.style.borderRadius = "3px";
                    설명div.style.whiteSpace = "nowrap";
                    설명div.style.zIndex = "10";
                    설명div.style.textAlign = "center"; // ✅ 가운데 정렬

                    if (데이터) {
                        설명div.innerHTML = `<b>${유물이름}</b><br>${데이터.설명}`;
                    } else {
                        설명div.innerText = "정보 없음";
                    }

                    div.appendChild(설명div);
                });

                // ✅ 마우스 아웃 시 설명 div 삭제
                div.addEventListener("mouseout", () => {
                    const 기존설명 = div.querySelector(".유물설명");
                    if (기존설명) 기존설명.remove();
                });

                div.addEventListener("click", async () => {
                    if (유물이름 === "샐러드") {
                        const 샐러드 = 유저데이터.유물목록?.["샐러드"] || 0;
                        if (샐러드 < 1) {
                            메시지표시(메시지표시박스, "", "샐러드가 없습니다", "");
                            return;
                        }

                        const 확인 = await 사용자확인(
                            "샐러드를 먹고 스태미너 60을 회복하시겠습니까?"
                        );
                        if (!확인) return;

                        화면잠금();
                        try {
                            const 응답 = await fetch("/use-salad", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                            });
                            const 결과 = await 응답.json();

                            if (결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류, "");
                            } else {
                                유저데이터.현재스태미너 = 결과.현재스태미너;
                                유저데이터.유물목록 = 결과.유물목록;
                                메시지표시(메시지표시박스, "", "샐러드를 먹고 스태미너가 회복됩니다", "");
                                document.getElementById("유물").click();
                            }
                        } catch (e) {
                            메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                        }
                        화면해제();
                    }
                    else if (유물이름 === "햄버거") {

                        const 햄버거 = 유저데이터.유물목록?.["햄버거"] || 0;
                        if (햄버거 < 1) {
                            메시지표시(메시지표시박스, "", "햄버거 정기배송을 신청하세요", "");
                            return;
                        }


                        const 확인 = await 사용자확인(
                            "햄버거를 먹고 스태미너 300을 회복하시겠습니까?"
                        );
                        if (!확인) return;

                        화면잠금();
                        try {
                            const 응답 = await fetch("/use-Hamburger", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                            });
                            const 결과 = await 응답.json();

                            if (결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류, "");
                            } else {
                                유저데이터.현재스태미너 = 결과.현재스태미너;
                                유저데이터.유물목록 = 결과.유물목록;
                                메시지표시(메시지표시박스, "", "햄버거 존맛!", "");
                                document.getElementById("유물").click();
                            }
                        } catch (e) {
                            메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                        }
                        화면해제();
                    }
                    // else if (유물이름 === "소드") {
                    //     const 소드 = 유저데이터.유물목록?.["소드"] || 0;
                    //     const 현재스피어 = 유저데이터.유물목록?.["스피어"] || 0;

                    //     if (현재스피어 >= 99) {
                    //         메시지표시(메시지표시박스, "", "스피어는 99개 이상 보유할 수 없습니다", "");
                    //         return;
                    //     }

                    //     if (소드 < 3) {
                    //         메시지표시(메시지표시박스, "", "소드 3개를 구해오세요", "");
                    //         return;
                    //     }

                    //     const 확인 = confirm("소드 3개를 합성하여 스피어를 만들겠습니까?");
                    //     if (!확인) return;

                    //     화면잠금();
                    //     try {
                    //         const 응답 = await fetch("/use-Sword", {
                    //             method: "POST",
                    //             headers: { "Content-Type": "application/json" },
                    //             body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                    //         });
                    //         const 결과 = await 응답.json();

                    //         if (결과.오류) {
                    //             메시지표시(메시지표시박스, "", 결과.오류, "");
                    //         } else {
                    //             유저데이터.유물목록 = 결과.유물목록;
                    //             유저데이터.최종공격력 = 결과.최종공격력;
                    //             메시지표시(메시지표시박스, "", "스피어 1개를 획득했습니다!", "");
                    //             document.getElementById("유물").click();
                    //         }
                    //     } catch (e) {
                    //         메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                    //     }
                    //     화면해제();
                    // }
                    // else if (유물이름 === "쉴드밴") {
                    //     const 쉴드밴 = 유저데이터.유물목록?.["쉴드밴"] || 0;

                    //     const 현재쉴드배앤 = 유저데이터.유물목록?.["쉴드배앤"] || 0;

                    //     if (현재쉴드배앤 >= 99) {
                    //         메시지표시(메시지표시박스, "", "쉴드배앤은 99개 이상 보유할 수 없습니다", "");
                    //         return;
                    //     }

                    //     if (쉴드밴 < 3) {
                    //         메시지표시(메시지표시박스, "", "쉴드밴 3개를 구해오세요", "");
                    //         return;
                    //     }

                    //     const 확인 = confirm("쉴드밴 3개를 합성하여 쉴드배앤을 만들겠습니까?");
                    //     if (!확인) return;

                    //     화면잠금();
                    //     try {
                    //         const 응답 = await fetch("/use-shieldban", {
                    //             method: "POST",
                    //             headers: { "Content-Type": "application/json" },
                    //             body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                    //         });
                    //         const 결과 = await 응답.json();

                    //         if (결과.오류) {
                    //             메시지표시(메시지표시박스, "", 결과.오류, "");
                    //         } else {
                    //             유저데이터.유물목록 = 결과.유물목록;
                    //             메시지표시(메시지표시박스, "", "쉴드배앤 1개를 획득했습니다!", "");
                    //             document.getElementById("유물").click();
                    //         }
                    //     } catch (e) {
                    //         메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                    //     }
                    //     화면해제();
                    // }
                    // else if (유물이름 === "고스트") {
                    //     const 고스트 = 유저데이터.유물목록?.["고스트"] || 0;

                    else if (유물이름 === "마법의팔레트") {

                        const 마법의팔레트 = 유저데이터.유물목록?.["마법의팔레트"] || 0;
                        if (마법의팔레트 < 1) {
                            메시지표시(메시지표시박스, "", "주인장에게 문의하세요", "");
                            return;
                        }


                        const 확인 = await 사용자확인(
                            "마법의팔레트를 사용하여 아이디를 염색하시겠습니까?"
                        );
                        if (!확인) return;


                        화면잠금();
                        try {
                            const 응답 = await fetch("/use-magic-palette", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                            });
                            const 결과 = await 응답.json();

                            if (결과.오류) {
                                메시지표시(메시지표시박스, "", 결과.오류, "");
                            } else {
                                유저데이터.유물목록 = 결과.유물목록;
                                유저데이터.마법의팔레트 = 결과.마법의팔레트;
                                document.getElementById("유물").click();
                                메시지표시(메시지표시박스, "", 결과.마법의팔레트 + " 당첨!", "");
                                메시지표시(메시지표시박스, "", "2초 후 자동으로 새로고침됩니다", "");
                                // location.reload();
                                setTimeout(() => {
                                    location.reload();
                                }, 2000);
                            }
                        } catch (e) {
                            메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                        }
                        화면해제();
                    }


                    // else if (유물이름 === "보스의알") {
                    //     const 확인 = await 사용자확인(
                    //         `보스의알을 까시겠습니까?<br>`,
                    //         `확률정보<br>`,
                    //         `확률정보<br>`,
                    //         `확률정보<br>`,
                    //         `확률정보<br>`,
                    //         `확률정보<br>`,
                    //         `확률정보<br>`,
                    //     );
                    //     if (!확인) return;

                    //     화면잠금();
                    //     try {
                    //         const 응답 = await fetch("/use-bossegg", {
                    //             method: "POST",
                    //             headers: { "Content-Type": "application/json" },
                    //             body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                    //         });
                    //         const 결과 = await 응답.json();

                    //         if (결과.오류) {
                    //             메시지표시(메시지표시박스, "", 결과.오류, "");
                    //         } else {
                    //             유저데이터.유물목록 = 결과.유물목록;
                    //             document.getElementById("유물").click();
                    //         }
                    //     } catch (e) {
                    //         메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                    //     }
                    //     화면해제();
                    // }


                    // else if (유물이름 === "뼈다구") {
                    //     const 확인 = confirm("뼈다구를 100,000Gold에 파시겠습니까?");
                    //     if (!확인) return;

                    //     화면잠금();
                    //     try {
                    //         const 응답 = await fetch("/use-bone", {
                    //             method: "POST",
                    //             headers: { "Content-Type": "application/json" },
                    //             body: JSON.stringify({ 유저UID: 유저데이터.유저UID })
                    //         });
                    //         const 결과 = await 응답.json();

                    //         if (결과.오류) {
                    //             메시지표시(메시지표시박스, "", 결과.오류, "");
                    //         } else {
                    //             // 서버가 반환한 업데이트된 유물목록으로 갱신
                    //             유저데이터.골드 = 결과.골드;
                    //             유저데이터.유물목록 = 결과.유물목록;
                    //             메시지표시(메시지표시박스, "", "돈생겼다 뽑기하러 가즈ㅏㅏ", "");
                    //             // 화면 다시 렌더링
                    //             document.getElementById("유물").click();
                    //         }
                    //     } catch (e) {
                    //         메시지표시(메시지표시박스, "", "서버 오류 발생", "");
                    //     }
                    //     화면해제();
                    // }

                });

                컨테이너.appendChild(div);
            }
            화면해제();
        });




    </script>




</body>

</html>